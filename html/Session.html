<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Session</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<link href="Agda.css" rel="stylesheet" type="text/css"/></head><body><p><a href="https://www.gnu.org/licenses/gpl.html">2013-2014 Matteo Acerbi</a></p>
<h1 id="dependent-sessions-in-agda-wip">Dependent sessions in Agda [WIP]</h1>
<h2 id="introduction">Introduction</h2>
<p>This document describes and contains an Agda implementation of an embedded concurrent language with linear dependent session types.</p>
<p>The reader must be warned that in this work we are using Agda <em>only</em> to try and mimic features typical of a session typed process calculus with a by-construction well-typed representation: we are in no way in the position to prove any correspondence with a logical system.</p>
<p>We nonetheless adopt notations and ideas from more theoretical works in the fields of process algebras and linear logic, in particular from Philip Wadler's &quot;Propositions as Sessions&quot; paper (for the main type and terms constructs), and from the recent line of work by Caires, Pfenning and Toninho (on monadic syntax, corecursion and dependent types).</p>
<p>The immediate goal of this development is not to formalise a typed process calculus, but to allow Agda users to experiment with an <em>embedded</em> concurrency-oriented DSL: before attempting to prove the properties of the system or even of specific processes, we aim at designing a programmer-friendly interface.</p>
<p>We provide an evaluation function making use of the Haskell FFI: it is therefore possible to compile and execute programs in the DSL as Haskell process (see the <a href="http://github.com/ma82/session/">README</a> for instructions on how to attempt compilation). Note that in order to obtain the evaluator (see the end of this file) we had to (locally) disable totality checking and to use <code>unsafeCoerce</code> in several places.</p>
<p>We are currently studying how to define a total non-deterministic reference semantics which will allow formalised reasoning concerning the concurrent execution of processes.</p>
<pre></a
  ><a name="1789" class="Keyword"
  >module</a
  ><a name="1795"
  > </a
  ><a name="1796" href="Session.html#1" class="Module"
  >Session</a
  ><a name="1803"
  > </a
  ><a name="1804" class="Keyword"
  >where</a
  ><a name="1809"
  >

</a
  ><a name="1811" class="Keyword"
  >open</a
  ><a name="1815"
  > </a
  ><a name="1816" class="Keyword"
  >import</a
  ><a name="1822"
  > </a
  ><a name="1823" href="Session.Base.html#1" class="Module"
  >Session.Base</a
  ><a name="1835"
  > </a
  ><a name="1836" class="Keyword"
  >public</a
  ><a name="1842"
  ></pre>
<h2 id="types">Types</h2>
<p>The syntax for types is heavily inspired by both <em>Strictly Positive Families</em> (the version in Peter Morris's PhD thesis) and (indexed) <em>Descriptions</em> (Chapman et al, &quot;The Gentle Art of Levitation&quot;).</p>
<p>In our case, however, we do not want to describe indexed functors: we just want to be able to close the language under a (greatest) fixpoint operator/binder <code>`nu</code>, allowing nested usages thanks to a &quot;well-typed Bird-Paterson&quot; encoding of binding.</p>
<p>To compare with the cited universes, note that if we tried to give a <code>(I → Set) → (O → Set)</code> semantics to the <code>`I</code>, <code>`Σ</code> , <code>`Π</code> , <code>`ν</code> codes we would have to ignore the input of type <code>O</code>: in any case, such an interpretation would not make much sense here.</p>
<p>As opposed to Wadler's CP, the typing rules for the additional constructors <code>⊗</code>, <code>⅋</code>, <code>¡</code>, <code>¿</code> will not correspond directly to those of classical linear logic: however, the corresponding syntax maintains similar operational meaning (channel transmission and client/server interactions).</p>
<p>We add a type called <code>Side</code> (endpoint of a channel), with two only inhabitants: <code>+</code>, <code>-</code> . <code>Entry</code> is a type of optionally &quot;sided&quot; (session typed) codes, where absence of a side corresponds to the session not having started yet.</p>
<p>When a <code>Side</code> is specified, the <code>Entry</code> corresponds to an obligation for the process that contains it in its (input) context: if it is <code>+</code> then the session type is to be interpreted without changes, otherwise the process must behave along that channel by following the <em>dual</em> obligation (receiving vs sending, reading vs writing, connecting vs accepting).</p>
<p>Note that for what concerns <code>_⊗_</code> and <code>_⅋_</code> a whole <code>Entry</code> is required as the description of how a process participates to a channel needs to be preserved by the transfer.</p>
<pre></a
  ><a name="3652" class="Keyword"
  >mutual</a
  ><a name="3658"
  > 

  </a
  ><a name="3663" href="Session.html#3663" class="Function"
  >De</a
  ><a name="3665"
  >    </a
  ><a name="3669" class="Symbol"
  >=</a
  ><a name="3670"
  > </a
  ><a name="3671" class="Symbol"
  >&#955;</a
  ><a name="3672"
  > </a
  ><a name="3673" href="Session.html#3673" class="Bound"
  >I</a
  ><a name="3674"
  > </a
  ><a name="3675" class="Symbol"
  >&#8594;</a
  ><a name="3676"
  > </a
  ><a name="3677" href="Session.html#3673" class="Bound"
  >I</a
  ><a name="3678"
  > </a
  ><a name="3679" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="3680"
  > </a
  ><a name="3681" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="3682"
  >
  </a
  ><a name="3685" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="3689"
  >  </a
  ><a name="3691" class="Symbol"
  >=</a
  ><a name="3692"
  > </a
  ><a name="3693" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="3694"
  > </a
  ><a name="3695" class="Symbol"
  >_</a
  ><a name="3696"
  > </a
  ><a name="3697" class="Symbol"
  >&#955;</a
  ><a name="3698"
  > </a
  ><a name="3699" href="Session.html#3699" class="Bound"
  >I</a
  ><a name="3700"
  > </a
  ><a name="3701" class="Symbol"
  >&#8594;</a
  ><a name="3702"
  > </a
  ><a name="3703" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="3704"
  > </a
  ><a name="3705" class="Symbol"
  >_</a
  ><a name="3706"
  > </a
  ><a name="3707" class="Symbol"
  >&#955;</a
  ><a name="3708"
  > </a
  ><a name="3709" href="Session.html#3709" class="Bound"
  >O</a
  ><a name="3710"
  > </a
  ><a name="3711" class="Symbol"
  >&#8594;</a
  ><a name="3712"
  > </a
  ><a name="3713" href="Session.html#3699" class="Bound"
  >I</a
  ><a name="3714"
  > </a
  ><a name="3715" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="3716"
  > </a
  ><a name="3717" href="Session.html#3709" class="Bound"
  >O</a
  ><a name="3718"
  >
  </a
  ><a name="3721" href="Session.html#3721" class="Function"
  >Entry</a
  ><a name="3726"
  > </a
  ><a name="3727" class="Symbol"
  >=</a
  ><a name="3728"
  > </a
  ><a name="3729" href="Data.Maybe.Core.html#315" class="Datatype"
  >1+</a
  ><a name="3731"
  > </a
  ><a name="3732" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="3736"
  > </a
  ><a name="3737" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="3738"
  > </a
  ><a name="3739" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="3743"
  >

  </a
  ><a name="3747" class="Keyword"
  >data</a
  ><a name="3751"
  > </a
  ><a name="3752" href="Session.html#3752" class="Datatype Operator"
  >_&#9657;_</a
  ><a name="3755"
  > </a
  ><a name="3756" class="Symbol"
  >(</a
  ><a name="3757" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="3758"
  > </a
  ><a name="3759" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="3760"
  > </a
  ><a name="3761" class="Symbol"
  >:</a
  ><a name="3762"
  > </a
  ><a name="3763" class="PrimitiveType"
  >Set</a
  ><a name="3766" class="Symbol"
  >)</a
  ><a name="3767"
  > </a
  ><a name="3768" class="Symbol"
  >:</a
  ><a name="3769"
  > </a
  ><a name="3770" class="PrimitiveType"
  >Set&#8321;</a
  ><a name="3774"
  > </a
  ><a name="3775" class="Keyword"
  >where</a
  ><a name="3780"
  ></pre>
<ul>
<li>Exiting a session</li>
</ul>
<pre>    </a
  ><a name="3831" href="Session.html#3831" class="InductiveConstructor"
  >`I</a
  ><a name="3833"
  >      </a
  ><a name="3839" class="Symbol"
  >:</a
  ><a name="3840"
  >                     </a
  ><a name="3861" class="Symbol"
  >(</a
  ><a name="3862" href="Session.html#3862" class="Bound"
  >i</a
  ><a name="3863"
  > </a
  ><a name="3864" class="Symbol"
  >:</a
  ><a name="3865"
  > </a
  ><a name="3866" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="3867" class="Symbol"
  >)</a
  ><a name="3868"
  > </a
  ><a name="3869" class="Symbol"
  >&#8594;</a
  ><a name="3870"
  > </a
  ><a name="3871" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="3872"
  > </a
  ><a name="3873" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="3874"
  > </a
  ><a name="3875" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="3876"
  ></pre>
<ul>
<li>Writing and reading values</li>
</ul>
<pre>    </a
  ><a name="3936" href="Session.html#3936" class="InductiveConstructor"
  >`&#931;</a
  ><a name="3938"
  > </a
  ><a name="3939" href="Session.html#3939" class="InductiveConstructor"
  >`&#928;</a
  ><a name="3941"
  >   </a
  ><a name="3944" class="Symbol"
  >:</a
  ><a name="3945"
  > </a
  ><a name="3946" class="Symbol"
  >(</a
  ><a name="3947" href="Session.html#3947" class="Bound"
  >S</a
  ><a name="3948"
  > </a
  ><a name="3949" class="Symbol"
  >:</a
  ><a name="3950"
  > </a
  ><a name="3951" class="PrimitiveType"
  >Set</a
  ><a name="3954" class="Symbol"
  >)(</a
  ><a name="3956" href="Session.html#3956" class="Bound"
  >T</a
  ><a name="3957"
  > </a
  ><a name="3958" class="Symbol"
  >:</a
  ><a name="3959"
  > </a
  ><a name="3960" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="3961"
  > </a
  ><a name="3962" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="3963"
  > </a
  ><a name="3964" href="Session.html#3947" class="Bound"
  >S</a
  ><a name="3965" class="Symbol"
  >)</a
  ><a name="3966"
  >        </a
  ><a name="3974" class="Symbol"
  >&#8594;</a
  ><a name="3975"
  > </a
  ><a name="3976" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="3977"
  > </a
  ><a name="3978" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="3979"
  > </a
  ><a name="3980" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="3981"
  ></pre>
<ul>
<li>Dependency on previously exchanged values</li>
</ul>
<pre>    </a
  ><a name="4056" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="4058"
  >      </a
  ><a name="4064" class="Symbol"
  >:</a
  ><a name="4065"
  > </a
  ><a name="4066" class="Symbol"
  >(</a
  ><a name="4067" href="Session.html#4067" class="Bound"
  >T</a
  ><a name="4068"
  > </a
  ><a name="4069" class="Symbol"
  >:</a
  ><a name="4070"
  > </a
  ><a name="4071" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4072"
  > </a
  ><a name="4073" class="Symbol"
  >&#8594;</a
  ><a name="4074"
  > </a
  ><a name="4075" href="Session.html#3663" class="Function"
  >De</a
  ><a name="4077"
  > </a
  ><a name="4078" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="4079" class="Symbol"
  >)</a
  ><a name="4080"
  >              </a
  ><a name="4094" class="Symbol"
  >&#8594;</a
  ><a name="4095"
  > </a
  ><a name="4096" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="4097"
  > </a
  ><a name="4098" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="4099"
  > </a
  ><a name="4100" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4101"
  ></pre>
<ul>
<li>Sending and receiving channels</li>
</ul>
<pre>    </a
  ><a name="4165" href="Session.html#4165" class="InductiveConstructor Operator"
  >_&#8855;_</a
  ><a name="4168"
  > </a
  ><a name="4169" href="Session.html#4169" class="InductiveConstructor Operator"
  >_&#8523;_</a
  ><a name="4172"
  > </a
  ><a name="4173" class="Symbol"
  >:</a
  ><a name="4174"
  > </a
  ><a name="4175" class="Symbol"
  >(</a
  ><a name="4176" href="Session.html#4176" class="Bound"
  >L</a
  ><a name="4177"
  > </a
  ><a name="4178" class="Symbol"
  >:</a
  ><a name="4179"
  > </a
  ><a name="4180" href="Session.html#3721" class="Function"
  >Entry</a
  ><a name="4185" class="Symbol"
  >)(</a
  ><a name="4187" href="Session.html#4187" class="Bound"
  >R</a
  ><a name="4188"
  > </a
  ><a name="4189" class="Symbol"
  >:</a
  ><a name="4190"
  > </a
  ><a name="4191" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="4192"
  > </a
  ><a name="4193" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="4194"
  > </a
  ><a name="4195" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4196" class="Symbol"
  >)</a
  ><a name="4197"
  >      </a
  ><a name="4203" class="Symbol"
  >&#8594;</a
  ><a name="4204"
  > </a
  ><a name="4205" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="4206"
  > </a
  ><a name="4207" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="4208"
  > </a
  ><a name="4209" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4210"
  ></pre>
<ul>
<li>Servers and clients</li>
</ul>
<pre>    </a
  ><a name="4263" href="Session.html#4263" class="InductiveConstructor Operator"
  >&#161;_</a
  ><a name="4265"
  > </a
  ><a name="4266" href="Session.html#4266" class="InductiveConstructor Operator"
  >&#191;_</a
  ><a name="4268"
  >   </a
  ><a name="4271" class="Symbol"
  >:</a
  ><a name="4272"
  > </a
  ><a name="4273" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="4277"
  >                        </a
  ><a name="4301" class="Symbol"
  >&#8594;</a
  ><a name="4302"
  > </a
  ><a name="4303" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="4304"
  > </a
  ><a name="4305" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="4306"
  > </a
  ><a name="4307" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4308"
  ></pre>
<ul>
<li>Corecursion</li>
</ul>
<pre>    </a
  ><a name="4353" href="Session.html#4353" class="InductiveConstructor"
  >`&#957;</a
  ><a name="4355"
  >      </a
  ><a name="4361" class="Symbol"
  >:</a
  ><a name="4362"
  > </a
  ><a name="4363" class="Symbol"
  >(</a
  ><a name="4364" href="Session.html#4364" class="Bound"
  >F</a
  ><a name="4365"
  > </a
  ><a name="4366" class="Symbol"
  >:</a
  ><a name="4367"
  > </a
  ><a name="4368" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4369"
  > </a
  ><a name="4370" class="Symbol"
  >&#8594;</a
  ><a name="4371"
  > </a
  ><a name="4372" href="Session.html#3663" class="Function"
  >De</a
  ><a name="4374"
  > </a
  ><a name="4375" class="Symbol"
  >(</a
  ><a name="4376" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="4377"
  > </a
  ><a name="4378" href="Data.Sum.html#404" class="Datatype Operator"
  >&#8846;</a
  ><a name="4379"
  > </a
  ><a name="4380" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4381" class="Symbol"
  >))(</a
  ><a name="4384" href="Session.html#4384" class="Bound"
  >o</a
  ><a name="4385"
  > </a
  ><a name="4386" class="Symbol"
  >:</a
  ><a name="4387"
  > </a
  ><a name="4388" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4389" class="Symbol"
  >)</a
  ><a name="4390"
  > </a
  ><a name="4391" class="Symbol"
  >&#8594;</a
  ><a name="4392"
  > </a
  ><a name="4393" href="Session.html#3757" class="Bound"
  >I</a
  ><a name="4394"
  > </a
  ><a name="4395" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="4396"
  > </a
  ><a name="4397" href="Session.html#3759" class="Bound"
  >O</a
  ><a name="4398"
  ></pre>

<pre></a
  ><a name="4424" href="Session.html#4424" class="Function"
  >`&#931;^</a
  ><a name="4427"
  > </a
  ><a name="4428" href="Session.html#4428" class="Function"
  >`&#928;^</a
  ><a name="4431"
  > </a
  ><a name="4432" class="Symbol"
  >:</a
  ><a name="4433"
  > </a
  ><a name="4434" class="Symbol"
  >{</a
  ><a name="4435" href="Session.html#4435" class="Bound"
  >I</a
  ><a name="4436"
  > </a
  ><a name="4437" href="Session.html#4437" class="Bound"
  >O</a
  ><a name="4438"
  > </a
  ><a name="4439" class="Symbol"
  >:</a
  ><a name="4440"
  > </a
  ><a name="4441" class="PrimitiveType"
  >Set</a
  ><a name="4444" class="Symbol"
  >}(</a
  ><a name="4446" href="Session.html#4446" class="Bound"
  >S</a
  ><a name="4447"
  > </a
  ><a name="4448" class="Symbol"
  >:</a
  ><a name="4449"
  > </a
  ><a name="4450" class="PrimitiveType"
  >Set</a
  ><a name="4453" class="Symbol"
  >)(</a
  ><a name="4455" href="Session.html#4455" class="Bound"
  >T</a
  ><a name="4456"
  > </a
  ><a name="4457" class="Symbol"
  >:</a
  ><a name="4458"
  > </a
  ><a name="4459" href="Session.html#4446" class="Bound"
  >S</a
  ><a name="4460"
  > </a
  ><a name="4461" class="Symbol"
  >&#8594;</a
  ><a name="4462"
  > </a
  ><a name="4463" href="Session.html#3663" class="Function"
  >De</a
  ><a name="4465"
  > </a
  ><a name="4466" href="Session.html#4435" class="Bound"
  >I</a
  ><a name="4467" class="Symbol"
  >)</a
  ><a name="4468"
  > </a
  ><a name="4469" class="Symbol"
  >&#8594;</a
  ><a name="4470"
  > </a
  ><a name="4471" href="Session.html#4435" class="Bound"
  >I</a
  ><a name="4472"
  > </a
  ><a name="4473" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="4474"
  > </a
  ><a name="4475" href="Session.html#4437" class="Bound"
  >O</a
  ><a name="4476"
  >
</a
  ><a name="4477" href="Session.html#4424" class="Function"
  >`&#931;^</a
  ><a name="4480"
  > </a
  ><a name="4481" href="Session.html#4481" class="Bound"
  >S</a
  ><a name="4482"
  > </a
  ><a name="4483" href="Session.html#4483" class="Bound"
  >T</a
  ><a name="4484"
  > </a
  ><a name="4485" class="Symbol"
  >=</a
  ><a name="4486"
  > </a
  ><a name="4487" href="Session.html#3936" class="InductiveConstructor"
  >`&#931;</a
  ><a name="4489"
  > </a
  ><a name="4490" href="Session.html#4481" class="Bound"
  >S</a
  ><a name="4491"
  > </a
  ><a name="4492" class="Symbol"
  >(</a
  ><a name="4493" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="4495"
  > </a
  ><a name="4496" href="Session.html#4483" class="Bound"
  >T</a
  ><a name="4497" class="Symbol"
  >)</a
  ><a name="4498"
  >
</a
  ><a name="4499" href="Session.html#4428" class="Function"
  >`&#928;^</a
  ><a name="4502"
  > </a
  ><a name="4503" href="Session.html#4503" class="Bound"
  >S</a
  ><a name="4504"
  > </a
  ><a name="4505" href="Session.html#4505" class="Bound"
  >T</a
  ><a name="4506"
  > </a
  ><a name="4507" class="Symbol"
  >=</a
  ><a name="4508"
  > </a
  ><a name="4509" href="Session.html#3939" class="InductiveConstructor"
  >`&#928;</a
  ><a name="4511"
  > </a
  ><a name="4512" href="Session.html#4503" class="Bound"
  >S</a
  ><a name="4513"
  > </a
  ><a name="4514" class="Symbol"
  >(</a
  ><a name="4515" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="4517"
  > </a
  ><a name="4518" href="Session.html#4505" class="Bound"
  >T</a
  ><a name="4519" class="Symbol"
  >)</a
  ><a name="4520"
  ></pre>

<pre></a
  ><a name="4546" href="Session.html#4546" class="Function Operator"
  >_&#9666;_</a
  ><a name="4549"
  > </a
  ><a name="4550" class="Symbol"
  >:</a
  ><a name="4551"
  > </a
  ><a name="4552" class="PrimitiveType"
  >Set</a
  ><a name="4555"
  > </a
  ><a name="4556" class="Symbol"
  >&#8594;</a
  ><a name="4557"
  > </a
  ><a name="4558" class="PrimitiveType"
  >Set</a
  ><a name="4561"
  > </a
  ><a name="4562" class="Symbol"
  >&#8594;</a
  ><a name="4563"
  > </a
  ><a name="4564" class="PrimitiveType"
  >Set&#8321;</a
  ><a name="4568"
  >
</a
  ><a name="4569" href="Session.html#4569" class="Bound"
  >O</a
  ><a name="4570"
  > </a
  ><a name="4571" href="Session.html#4546" class="Function Operator"
  >&#9666;</a
  ><a name="4572"
  > </a
  ><a name="4573" href="Session.html#4573" class="Bound"
  >I</a
  ><a name="4574"
  > </a
  ><a name="4575" class="Symbol"
  >=</a
  ><a name="4576"
  > </a
  ><a name="4577" href="Session.html#4573" class="Bound"
  >I</a
  ><a name="4578"
  > </a
  ><a name="4579" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="4580"
  > </a
  ><a name="4581" href="Session.html#4569" class="Bound"
  >O</a
  ><a name="4582"
  ></pre>
<p>This representation of the language of types should not be considered definitive but it seems reasonably effective.</p>
<p>Other approaches, where the session types inductive definition <code>_▹_</code> would only have one parameter (as in <em>Descriptions</em>), seemed more difficult to implement and led to more awkward encodings of the syntax: we probably did not try all the possibilities, though.</p>
<h3 id="types-and-sides">Types and sides</h3>
<p>A &quot;sided&quot; type former (code) <code>[_]F</code> is the type former (code) <code>F</code> when the side is <code>+</code>, the <em>dual</em> of <code>F</code> when it is <code>-</code>.</p>
<pre></a
  ><a name="5132" href="Session.html#5132" class="Function Operator"
  >[_]&#931;</a
  ><a name="5136"
  >   </a
  ><a name="5139" href="Session.html#5139" class="Function Operator"
  >[_]&#928;</a
  ><a name="5143"
  >   </a
  ><a name="5146" class="Symbol"
  >:</a
  ><a name="5147"
  > </a
  ><a name="5148" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="5152"
  >  </a
  ><a name="5154" class="Symbol"
  >&#8594;</a
  ><a name="5155"
  > </a
  ><a name="5156" class="Symbol"
  >{</a
  ><a name="5157" href="Session.html#5157" class="Bound"
  >I</a
  ><a name="5158"
  > </a
  ><a name="5159" href="Session.html#5159" class="Bound"
  >O</a
  ><a name="5160"
  > </a
  ><a name="5161" class="Symbol"
  >:</a
  ><a name="5162"
  > </a
  ><a name="5163" class="PrimitiveType"
  >Set</a
  ><a name="5166" class="Symbol"
  >}(</a
  ><a name="5168" href="Session.html#5168" class="Bound"
  >S</a
  ><a name="5169"
  > </a
  ><a name="5170" class="Symbol"
  >:</a
  ><a name="5171"
  > </a
  ><a name="5172" class="PrimitiveType"
  >Set</a
  ><a name="5175" class="Symbol"
  >)(</a
  ><a name="5177" href="Session.html#5177" class="Bound"
  >T</a
  ><a name="5178"
  > </a
  ><a name="5179" class="Symbol"
  >:</a
  ><a name="5180"
  > </a
  ><a name="5181" href="Session.html#5157" class="Bound"
  >I</a
  ><a name="5182"
  > </a
  ><a name="5183" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="5184"
  > </a
  ><a name="5185" href="Session.html#5168" class="Bound"
  >S</a
  ><a name="5186" class="Symbol"
  >)</a
  ><a name="5187"
  >    </a
  ><a name="5191" class="Symbol"
  >&#8594;</a
  ><a name="5192"
  > </a
  ><a name="5193" href="Session.html#5157" class="Bound"
  >I</a
  ><a name="5194"
  > </a
  ><a name="5195" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="5196"
  > </a
  ><a name="5197" href="Session.html#5159" class="Bound"
  >O</a
  ><a name="5198"
  >
</a
  ><a name="5199" href="Session.html#5199" class="Function Operator"
  >[_]&#931;^</a
  ><a name="5204"
  >  </a
  ><a name="5206" href="Session.html#5206" class="Function Operator"
  >[_]&#928;^</a
  ><a name="5211"
  >  </a
  ><a name="5213" class="Symbol"
  >:</a
  ><a name="5214"
  > </a
  ><a name="5215" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="5219"
  >  </a
  ><a name="5221" class="Symbol"
  >&#8594;</a
  ><a name="5222"
  > </a
  ><a name="5223" class="Symbol"
  >{</a
  ><a name="5224" href="Session.html#5224" class="Bound"
  >I</a
  ><a name="5225"
  > </a
  ><a name="5226" href="Session.html#5226" class="Bound"
  >O</a
  ><a name="5227"
  > </a
  ><a name="5228" class="Symbol"
  >:</a
  ><a name="5229"
  > </a
  ><a name="5230" class="PrimitiveType"
  >Set</a
  ><a name="5233" class="Symbol"
  >}(</a
  ><a name="5235" href="Session.html#5235" class="Bound"
  >S</a
  ><a name="5236"
  > </a
  ><a name="5237" class="Symbol"
  >:</a
  ><a name="5238"
  > </a
  ><a name="5239" class="PrimitiveType"
  >Set</a
  ><a name="5242" class="Symbol"
  >)(</a
  ><a name="5244" href="Session.html#5244" class="Bound"
  >T</a
  ><a name="5245"
  > </a
  ><a name="5246" class="Symbol"
  >:</a
  ><a name="5247"
  > </a
  ><a name="5248" href="Session.html#5235" class="Bound"
  >S</a
  ><a name="5249"
  > </a
  ><a name="5250" class="Symbol"
  >&#8594;</a
  ><a name="5251"
  > </a
  ><a name="5252" href="Session.html#3663" class="Function"
  >De</a
  ><a name="5254"
  > </a
  ><a name="5255" href="Session.html#5224" class="Bound"
  >I</a
  ><a name="5256" class="Symbol"
  >)</a
  ><a name="5257"
  > </a
  ><a name="5258" class="Symbol"
  >&#8594;</a
  ><a name="5259"
  > </a
  ><a name="5260" href="Session.html#5224" class="Bound"
  >I</a
  ><a name="5261"
  > </a
  ><a name="5262" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="5263"
  > </a
  ><a name="5264" href="Session.html#5226" class="Bound"
  >O</a
  ><a name="5265"
  >
</a
  ><a name="5266" href="Session.html#5266" class="Function Operator"
  >_[_]&#8855;_</a
  ><a name="5272"
  > </a
  ><a name="5273" href="Session.html#5273" class="Function Operator"
  >_[_]&#8523;_</a
  ><a name="5279"
  > </a
  ><a name="5280" class="Symbol"
  >:</a
  ><a name="5281"
  > </a
  ><a name="5282" href="Session.html#3721" class="Function"
  >Entry</a
  ><a name="5287"
  > </a
  ><a name="5288" class="Symbol"
  >&#8594;</a
  ><a name="5289"
  > </a
  ><a name="5290" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="5294"
  > </a
  ><a name="5295" class="Symbol"
  >&#8594;</a
  ><a name="5296"
  > </a
  ><a name="5297" class="Symbol"
  >{</a
  ><a name="5298" href="Session.html#5298" class="Bound"
  >I</a
  ><a name="5299"
  > </a
  ><a name="5300" href="Session.html#5300" class="Bound"
  >O</a
  ><a name="5301"
  > </a
  ><a name="5302" class="Symbol"
  >:</a
  ><a name="5303"
  > </a
  ><a name="5304" class="PrimitiveType"
  >Set</a
  ><a name="5307" class="Symbol"
  >}</a
  ><a name="5308"
  > </a
  ><a name="5309" class="Symbol"
  >&#8594;</a
  ><a name="5310"
  > </a
  ><a name="5311" href="Session.html#5298" class="Bound"
  >I</a
  ><a name="5312"
  > </a
  ><a name="5313" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="5314"
  > </a
  ><a name="5315" href="Session.html#5300" class="Bound"
  >O</a
  ><a name="5316"
  >         </a
  ><a name="5325" class="Symbol"
  >&#8594;</a
  ><a name="5326"
  > </a
  ><a name="5327" href="Session.html#5298" class="Bound"
  >I</a
  ><a name="5328"
  > </a
  ><a name="5329" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="5330"
  > </a
  ><a name="5331" href="Session.html#5300" class="Bound"
  >O</a
  ><a name="5332"
  >
</a
  ><a name="5333" href="Session.html#5333" class="Function Operator"
  >[_]&#161;_</a
  ><a name="5338"
  >  </a
  ><a name="5340" href="Session.html#5340" class="Function Operator"
  >[_]&#191;_</a
  ><a name="5345"
  >  </a
  ><a name="5347" class="Symbol"
  >:</a
  ><a name="5348"
  > </a
  ><a name="5349" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="5353"
  >  </a
  ><a name="5355" class="Symbol"
  >&#8594;</a
  ><a name="5356"
  > </a
  ><a name="5357" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="5361"
  >  </a
  ><a name="5363" class="Symbol"
  >&#8594;</a
  ><a name="5364"
  > </a
  ><a name="5365" class="Symbol"
  >{</a
  ><a name="5366" href="Session.html#5366" class="Bound"
  >I</a
  ><a name="5367"
  > </a
  ><a name="5368" href="Session.html#5368" class="Bound"
  >O</a
  ><a name="5369"
  > </a
  ><a name="5370" class="Symbol"
  >:</a
  ><a name="5371"
  > </a
  ><a name="5372" class="PrimitiveType"
  >Set</a
  ><a name="5375" class="Symbol"
  >}</a
  ><a name="5376"
  >                </a
  ><a name="5392" class="Symbol"
  >&#8594;</a
  ><a name="5393"
  > </a
  ><a name="5394" href="Session.html#5366" class="Bound"
  >I</a
  ><a name="5395"
  > </a
  ><a name="5396" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="5397"
  > </a
  ><a name="5398" href="Session.html#5368" class="Bound"
  >O</a
  ><a name="5399"
  >
</a
  ><a name="5400" href="Session.html#5132" class="Function Operator"
  >[</a
  ><a name="5401"
  > </a
  ><a name="5402" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="5403"
  > </a
  ><a name="5404" href="Session.html#5132" class="Function Operator"
  >]&#931;</a
  ><a name="5406"
  >     </a
  ><a name="5411" class="Symbol"
  >=</a
  ><a name="5412"
  > </a
  ><a name="5413" href="Session.html#3936" class="InductiveConstructor"
  >`&#931;</a
  ><a name="5415"
  >
</a
  ><a name="5416" href="Session.html#5132" class="Function Operator"
  >[</a
  ><a name="5417"
  > </a
  ><a name="5418" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="5419"
  > </a
  ><a name="5420" href="Session.html#5132" class="Function Operator"
  >]&#931;</a
  ><a name="5422"
  >     </a
  ><a name="5427" class="Symbol"
  >=</a
  ><a name="5428"
  > </a
  ><a name="5429" href="Session.html#3939" class="InductiveConstructor"
  >`&#928;</a
  ><a name="5431"
  >
</a
  ><a name="5432" href="Session.html#5139" class="Function Operator"
  >[</a
  ><a name="5433"
  > </a
  ><a name="5434" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="5435"
  > </a
  ><a name="5436" href="Session.html#5139" class="Function Operator"
  >]&#928;</a
  ><a name="5438"
  >     </a
  ><a name="5443" class="Symbol"
  >=</a
  ><a name="5444"
  > </a
  ><a name="5445" href="Session.html#3939" class="InductiveConstructor"
  >`&#928;</a
  ><a name="5447"
  > 
</a
  ><a name="5449" href="Session.html#5139" class="Function Operator"
  >[</a
  ><a name="5450"
  > </a
  ><a name="5451" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="5452"
  > </a
  ><a name="5453" href="Session.html#5139" class="Function Operator"
  >]&#928;</a
  ><a name="5455"
  >     </a
  ><a name="5460" class="Symbol"
  >=</a
  ><a name="5461"
  > </a
  ><a name="5462" href="Session.html#3936" class="InductiveConstructor"
  >`&#931;</a
  ><a name="5464"
  > 
</a
  ><a name="5466" href="Session.html#5199" class="Function Operator"
  >[</a
  ><a name="5467"
  > </a
  ><a name="5468" href="Session.html#5468" class="Bound"
  >s</a
  ><a name="5469"
  > </a
  ><a name="5470" href="Session.html#5199" class="Function Operator"
  >]&#931;^</a
  ><a name="5473"
  > </a
  ><a name="5474" href="Session.html#5474" class="Bound"
  >S</a
  ><a name="5475"
  > </a
  ><a name="5476" href="Session.html#5476" class="Bound"
  >T</a
  ><a name="5477"
  > </a
  ><a name="5478" class="Symbol"
  >=</a
  ><a name="5479"
  > </a
  ><a name="5480" href="Session.html#5132" class="Function Operator"
  >[</a
  ><a name="5481"
  > </a
  ><a name="5482" href="Session.html#5468" class="Bound"
  >s</a
  ><a name="5483"
  > </a
  ><a name="5484" href="Session.html#5132" class="Function Operator"
  >]&#931;</a
  ><a name="5486"
  > </a
  ><a name="5487" href="Session.html#5474" class="Bound"
  >S</a
  ><a name="5488"
  > </a
  ><a name="5489" class="Symbol"
  >(</a
  ><a name="5490" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="5492"
  > </a
  ><a name="5493" href="Session.html#5476" class="Bound"
  >T</a
  ><a name="5494" class="Symbol"
  >)</a
  ><a name="5495"
  >
</a
  ><a name="5496" href="Session.html#5206" class="Function Operator"
  >[</a
  ><a name="5497"
  > </a
  ><a name="5498" href="Session.html#5498" class="Bound"
  >s</a
  ><a name="5499"
  > </a
  ><a name="5500" href="Session.html#5206" class="Function Operator"
  >]&#928;^</a
  ><a name="5503"
  > </a
  ><a name="5504" href="Session.html#5504" class="Bound"
  >S</a
  ><a name="5505"
  > </a
  ><a name="5506" href="Session.html#5506" class="Bound"
  >T</a
  ><a name="5507"
  > </a
  ><a name="5508" class="Symbol"
  >=</a
  ><a name="5509"
  > </a
  ><a name="5510" href="Session.html#5139" class="Function Operator"
  >[</a
  ><a name="5511"
  > </a
  ><a name="5512" href="Session.html#5498" class="Bound"
  >s</a
  ><a name="5513"
  > </a
  ><a name="5514" href="Session.html#5139" class="Function Operator"
  >]&#928;</a
  ><a name="5516"
  > </a
  ><a name="5517" href="Session.html#5504" class="Bound"
  >S</a
  ><a name="5518"
  > </a
  ><a name="5519" class="Symbol"
  >(</a
  ><a name="5520" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="5522"
  > </a
  ><a name="5523" href="Session.html#5506" class="Bound"
  >T</a
  ><a name="5524" class="Symbol"
  >)</a
  ><a name="5525"
  >
</a
  ><a name="5526" href="Session.html#5526" class="Bound"
  >L</a
  ><a name="5527"
  > </a
  ><a name="5528" href="Session.html#5266" class="Function Operator"
  >[</a
  ><a name="5529"
  > </a
  ><a name="5530" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="5531"
  > </a
  ><a name="5532" href="Session.html#5266" class="Function Operator"
  >]&#8855;</a
  ><a name="5534"
  > </a
  ><a name="5535" href="Session.html#5535" class="Bound"
  >R</a
  ><a name="5536"
  > </a
  ><a name="5537" class="Symbol"
  >=</a
  ><a name="5538"
  > </a
  ><a name="5539" href="Session.html#5526" class="Bound"
  >L</a
  ><a name="5540"
  > </a
  ><a name="5541" href="Session.html#4165" class="InductiveConstructor Operator"
  >&#8855;</a
  ><a name="5542"
  > </a
  ><a name="5543" href="Session.html#5535" class="Bound"
  >R</a
  ><a name="5544"
  >
</a
  ><a name="5545" href="Session.html#5545" class="Bound"
  >L</a
  ><a name="5546"
  > </a
  ><a name="5547" href="Session.html#5266" class="Function Operator"
  >[</a
  ><a name="5548"
  > </a
  ><a name="5549" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="5550"
  > </a
  ><a name="5551" href="Session.html#5266" class="Function Operator"
  >]&#8855;</a
  ><a name="5553"
  > </a
  ><a name="5554" href="Session.html#5554" class="Bound"
  >R</a
  ><a name="5555"
  > </a
  ><a name="5556" class="Symbol"
  >=</a
  ><a name="5557"
  > </a
  ><a name="5558" href="Session.html#5545" class="Bound"
  >L</a
  ><a name="5559"
  > </a
  ><a name="5560" href="Session.html#4169" class="InductiveConstructor Operator"
  >&#8523;</a
  ><a name="5561"
  > </a
  ><a name="5562" href="Session.html#5554" class="Bound"
  >R</a
  ><a name="5563"
  >
</a
  ><a name="5564" href="Session.html#5564" class="Bound"
  >L</a
  ><a name="5565"
  > </a
  ><a name="5566" href="Session.html#5273" class="Function Operator"
  >[</a
  ><a name="5567"
  > </a
  ><a name="5568" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="5569"
  > </a
  ><a name="5570" href="Session.html#5273" class="Function Operator"
  >]&#8523;</a
  ><a name="5572"
  > </a
  ><a name="5573" href="Session.html#5573" class="Bound"
  >R</a
  ><a name="5574"
  > </a
  ><a name="5575" class="Symbol"
  >=</a
  ><a name="5576"
  > </a
  ><a name="5577" href="Session.html#5564" class="Bound"
  >L</a
  ><a name="5578"
  > </a
  ><a name="5579" href="Session.html#4169" class="InductiveConstructor Operator"
  >&#8523;</a
  ><a name="5580"
  > </a
  ><a name="5581" href="Session.html#5573" class="Bound"
  >R</a
  ><a name="5582"
  >
</a
  ><a name="5583" href="Session.html#5583" class="Bound"
  >L</a
  ><a name="5584"
  > </a
  ><a name="5585" href="Session.html#5273" class="Function Operator"
  >[</a
  ><a name="5586"
  > </a
  ><a name="5587" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="5588"
  > </a
  ><a name="5589" href="Session.html#5273" class="Function Operator"
  >]&#8523;</a
  ><a name="5591"
  > </a
  ><a name="5592" href="Session.html#5592" class="Bound"
  >R</a
  ><a name="5593"
  > </a
  ><a name="5594" class="Symbol"
  >=</a
  ><a name="5595"
  > </a
  ><a name="5596" href="Session.html#5583" class="Bound"
  >L</a
  ><a name="5597"
  > </a
  ><a name="5598" href="Session.html#4165" class="InductiveConstructor Operator"
  >&#8855;</a
  ><a name="5599"
  > </a
  ><a name="5600" href="Session.html#5592" class="Bound"
  >R</a
  ><a name="5601"
  >
</a
  ><a name="5602" href="Session.html#5333" class="Function Operator"
  >[</a
  ><a name="5603"
  > </a
  ><a name="5604" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="5605"
  > </a
  ><a name="5606" href="Session.html#5333" class="Function Operator"
  >]&#161;</a
  ><a name="5608"
  > </a
  ><a name="5609" href="Session.html#5609" class="Bound"
  >F</a
  ><a name="5610"
  >   </a
  ><a name="5613" class="Symbol"
  >=</a
  ><a name="5614"
  > </a
  ><a name="5615" href="Session.html#4263" class="InductiveConstructor Operator"
  >&#161;</a
  ><a name="5616"
  > </a
  ><a name="5617" href="Session.html#5609" class="Bound"
  >F</a
  ><a name="5618"
  >    
</a
  ><a name="5623" href="Session.html#5333" class="Function Operator"
  >[</a
  ><a name="5624"
  > </a
  ><a name="5625" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="5626"
  > </a
  ><a name="5627" href="Session.html#5333" class="Function Operator"
  >]&#161;</a
  ><a name="5629"
  > </a
  ><a name="5630" href="Session.html#5630" class="Bound"
  >F</a
  ><a name="5631"
  >   </a
  ><a name="5634" class="Symbol"
  >=</a
  ><a name="5635"
  > </a
  ><a name="5636" href="Session.html#4266" class="InductiveConstructor Operator"
  >&#191;</a
  ><a name="5637"
  > </a
  ><a name="5638" href="Session.html#5630" class="Bound"
  >F</a
  ><a name="5639"
  >    
</a
  ><a name="5644" href="Session.html#5340" class="Function Operator"
  >[</a
  ><a name="5645"
  > </a
  ><a name="5646" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="5647"
  > </a
  ><a name="5648" href="Session.html#5340" class="Function Operator"
  >]&#191;</a
  ><a name="5650"
  > </a
  ><a name="5651" href="Session.html#5651" class="Bound"
  >F</a
  ><a name="5652"
  >   </a
  ><a name="5655" class="Symbol"
  >=</a
  ><a name="5656"
  > </a
  ><a name="5657" href="Session.html#4266" class="InductiveConstructor Operator"
  >&#191;</a
  ><a name="5658"
  > </a
  ><a name="5659" href="Session.html#5651" class="Bound"
  >F</a
  ><a name="5660"
  >     
</a
  ><a name="5666" href="Session.html#5340" class="Function Operator"
  >[</a
  ><a name="5667"
  > </a
  ><a name="5668" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="5669"
  > </a
  ><a name="5670" href="Session.html#5340" class="Function Operator"
  >]&#191;</a
  ><a name="5672"
  > </a
  ><a name="5673" href="Session.html#5673" class="Bound"
  >F</a
  ><a name="5674"
  >   </a
  ><a name="5677" class="Symbol"
  >=</a
  ><a name="5678"
  > </a
  ><a name="5679" href="Session.html#4263" class="InductiveConstructor Operator"
  >&#161;</a
  ><a name="5680"
  > </a
  ><a name="5681" href="Session.html#5673" class="Bound"
  >F</a
  ><a name="5682"
  ></pre>
<h3 id="contexts">Contexts</h3>
<p>A context is a simple list of entries, i.e. codes paired with an optional side. Absence of the side corresponds to the session not being started yet: in this situation we say that the channel is &quot;new&quot;.</p>
<pre></a
  ><a name="5925" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="5927"
  > </a
  ><a name="5928" class="Symbol"
  >=</a
  ><a name="5929"
  > </a
  ><a name="5930" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="5934"
  > </a
  ><a name="5935" href="Session.html#3721" class="Function"
  >Entry</a
  ><a name="5940"
  ></pre>
<p><code>is¿</code> means &quot;is it safe to duplicate this entry?&quot;.</p>
<pre></a
  ><a name="6018" href="Session.html#6018" class="Function"
  >is&#191;</a
  ><a name="6021"
  > </a
  ><a name="6022" class="Symbol"
  >:</a
  ><a name="6023"
  > </a
  ><a name="6024" href="Session.html#3721" class="Function"
  >Entry</a
  ><a name="6029"
  > </a
  ><a name="6030" class="Symbol"
  >&#8594;</a
  ><a name="6031"
  > </a
  ><a name="6032" class="PrimitiveType"
  >Set</a
  ><a name="6035"
  >
</a
  ><a name="6036" href="Session.html#6018" class="Function"
  >is&#191;</a
  ><a name="6039"
  > </a
  ><a name="6040" class="Symbol"
  >(</a
  ><a name="6041" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6042"
  > </a
  ><a name="6043" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="6044"
  > </a
  ><a name="6045" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6046"
  > </a
  ><a name="6047" class="Symbol"
  >(_</a
  ><a name="6049"
  > </a
  ><a name="6050" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6051"
  > </a
  ><a name="6052" class="Symbol"
  >_</a
  ><a name="6053"
  > </a
  ><a name="6054" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6055"
  > </a
  ><a name="6056" href="Session.html#4266" class="InductiveConstructor Operator"
  >&#191;</a
  ><a name="6057"
  > </a
  ><a name="6058" href="Session.html#6058" class="Bound"
  >F</a
  ><a name="6059" class="Symbol"
  >))</a
  ><a name="6061"
  > </a
  ><a name="6062" class="Symbol"
  >=</a
  ><a name="6063"
  > </a
  ><a name="6064" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="6065"
  >
</a
  ><a name="6066" href="Session.html#6018" class="Function"
  >is&#191;</a
  ><a name="6069"
  > </a
  ><a name="6070" class="Symbol"
  >(</a
  ><a name="6071" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6072"
  > </a
  ><a name="6073" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="6074"
  > </a
  ><a name="6075" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6076"
  > </a
  ><a name="6077" class="Symbol"
  >(_</a
  ><a name="6079"
  > </a
  ><a name="6080" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6081"
  > </a
  ><a name="6082" class="Symbol"
  >_</a
  ><a name="6083"
  > </a
  ><a name="6084" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6085"
  > </a
  ><a name="6086" href="Session.html#4263" class="InductiveConstructor Operator"
  >&#161;</a
  ><a name="6087"
  > </a
  ><a name="6088" href="Session.html#6088" class="Bound"
  >F</a
  ><a name="6089" class="Symbol"
  >))</a
  ><a name="6091"
  > </a
  ><a name="6092" class="Symbol"
  >=</a
  ><a name="6093"
  > </a
  ><a name="6094" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="6095"
  >
</a
  ><a name="6096" href="Session.html#6018" class="Function"
  >is&#191;</a
  ><a name="6099"
  >  </a
  ><a name="6101" class="Symbol"
  >_</a
  ><a name="6102"
  >                    </a
  ><a name="6122" class="Symbol"
  >=</a
  ><a name="6123"
  > </a
  ><a name="6124" href="Session.Base.html#168" class="Datatype"
  >&#8869;</a
  ><a name="6125"
  ></pre>
<p>To construct a server we must check (at compile time) that it will be safe to duplicate all the channels that its runtime copies will have access to: <code>All¿</code> is the predicate over contexts which corresponds to this condition.</p>
<pre></a
  ><a name="6377" href="Session.html#6377" class="Function"
  >All&#191;</a
  ><a name="6381"
  > </a
  ><a name="6382" class="Symbol"
  >:</a
  ><a name="6383"
  > </a
  ><a name="6384" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="6386"
  > </a
  ><a name="6387" class="Symbol"
  >&#8594;</a
  ><a name="6388"
  > </a
  ><a name="6389" class="PrimitiveType"
  >Set</a
  ><a name="6392"
  > </a
  ><a name="6393" class="Symbol"
  >_</a
  ><a name="6394"
  >
</a
  ><a name="6395" href="Session.html#6377" class="Function"
  >All&#191;</a
  ><a name="6399"
  > </a
  ><a name="6400" class="Symbol"
  >=</a
  ><a name="6401"
  > </a
  ><a name="6402" href="Data.List.All.html#701" class="Datatype"
  >All</a
  ><a name="6405"
  > </a
  ><a name="6406" href="Session.html#6018" class="Function"
  >is&#191;</a
  ><a name="6409"
  ></pre>
<h3 id="splitting-contexts">Splitting contexts</h3>
<p>We need to define what it means to split an (input) context in two.</p>
<pre></a
  ><a name="6528" class="Keyword"
  >data</a
  ><a name="6532"
  > </a
  ><a name="6533" href="Session.html#6533" class="Datatype"
  >SplitNew</a
  ><a name="6541"
  > </a
  ><a name="6542" class="Symbol"
  >:</a
  ><a name="6543"
  > </a
  ><a name="6544" class="PrimitiveType"
  >Set</a
  ><a name="6547"
  > </a
  ><a name="6548" class="Keyword"
  >where</a
  ><a name="6553"
  > 
  </a
  ><a name="6557" href="Session.html#6557" class="InductiveConstructor"
  >+</a
  ><a name="6558"
  > </a
  ><a name="6559" href="Session.html#6559" class="InductiveConstructor"
  >-</a
  ><a name="6560"
  > </a
  ><a name="6561" href="Session.html#6561" class="InductiveConstructor"
  >+-</a
  ><a name="6563"
  > </a
  ><a name="6564" href="Session.html#6564" class="InductiveConstructor"
  >-+</a
  ><a name="6566"
  > </a
  ><a name="6567" class="Symbol"
  >:</a
  ><a name="6568"
  > </a
  ><a name="6569" href="Session.html#6533" class="Datatype"
  >SplitNew</a
  ><a name="6577"
  >

</a
  ><a name="6579" href="Session.html#6579" class="Function"
  >Split</a
  ><a name="6584"
  > </a
  ><a name="6585" class="Symbol"
  >:</a
  ><a name="6586"
  > </a
  ><a name="6587" href="Data.Maybe.Core.html#315" class="Datatype"
  >1+</a
  ><a name="6589"
  > </a
  ><a name="6590" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="6594"
  > </a
  ><a name="6595" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="6596"
  > </a
  ><a name="6597" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="6601"
  > </a
  ><a name="6602" class="Symbol"
  >&#8594;</a
  ><a name="6603"
  > </a
  ><a name="6604" class="PrimitiveType"
  >Set</a
  ><a name="6607"
  >
</a
  ><a name="6608" href="Session.html#6579" class="Function"
  >Split</a
  ><a name="6613"
  > </a
  ><a name="6614" class="Symbol"
  >(</a
  ><a name="6615" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6616"
  > </a
  ><a name="6617" class="Symbol"
  >_</a
  ><a name="6618"
  > </a
  ><a name="6619" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6620"
  > </a
  ><a name="6621" href="Session.html#6621" class="Bound"
  >x</a
  ><a name="6622" class="Symbol"
  >)</a
  ><a name="6623"
  > </a
  ><a name="6624" class="Symbol"
  >=</a
  ><a name="6625"
  > </a
  ><a name="6626" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="6630"
  >
</a
  ><a name="6631" href="Session.html#6579" class="Function"
  >Split</a
  ><a name="6636"
  > </a
  ><a name="6637" class="Symbol"
  >(</a
  ><a name="6638" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="6639"
  >   </a
  ><a name="6642" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6643"
  > </a
  ><a name="6644" href="Session.html#6644" class="Bound"
  >x</a
  ><a name="6645" class="Symbol"
  >)</a
  ><a name="6646"
  > </a
  ><a name="6647" class="Symbol"
  >=</a
  ><a name="6648"
  > </a
  ><a name="6649" href="Session.html#6533" class="Datatype"
  >SplitNew</a
  ><a name="6657"
  >

</a
  ><a name="6659" href="Session.html#6659" class="Function"
  >split</a
  ><a name="6664"
  > </a
  ><a name="6665" class="Symbol"
  >:</a
  ><a name="6666"
  > </a
  ><a name="6667" class="Symbol"
  >(</a
  ><a name="6668" href="Session.html#6668" class="Bound"
  >&#964;</a
  ><a name="6669"
  > </a
  ><a name="6670" class="Symbol"
  >:</a
  ><a name="6671"
  > </a
  ><a name="6672" href="Data.Maybe.Core.html#315" class="Datatype"
  >1+</a
  ><a name="6674"
  > </a
  ><a name="6675" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="6679"
  > </a
  ><a name="6680" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="6681"
  > </a
  ><a name="6682" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="6686" class="Symbol"
  >)</a
  ><a name="6687"
  > </a
  ><a name="6688" class="Symbol"
  >&#8594;</a
  ><a name="6689"
  > </a
  ><a name="6690" href="Session.html#6579" class="Function"
  >Split</a
  ><a name="6695"
  > </a
  ><a name="6696" href="Session.html#6668" class="Bound"
  >&#964;</a
  ><a name="6697"
  > </a
  ><a name="6698" class="Symbol"
  >&#8594;</a
  ><a name="6699"
  > </a
  ><a name="6700" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="6702"
  > </a
  ><a name="6703" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="6704"
  > </a
  ><a name="6705" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="6707"
  > </a
  ><a name="6708" class="Symbol"
  >&#8594;</a
  ><a name="6709"
  > </a
  ><a name="6710" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="6712"
  > </a
  ><a name="6713" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="6714"
  > </a
  ><a name="6715" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="6717"
  >
</a
  ><a name="6718" href="Session.html#6659" class="Function"
  >split</a
  ><a name="6723"
  > </a
  ><a name="6724" class="Symbol"
  >(</a
  ><a name="6725" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6726"
  > </a
  ><a name="6727" href="Session.html#6727" class="Bound"
  >s</a
  ><a name="6728"
  > </a
  ><a name="6729" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6730"
  > </a
  ><a name="6731" href="Session.html#6731" class="Bound"
  >C</a
  ><a name="6732" class="Symbol"
  >)</a
  ><a name="6733"
  >  </a
  ><a name="6735" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="6736"
  > </a
  ><a name="6737" class="Symbol"
  >(</a
  ><a name="6738" href="Session.html#6738" class="Bound"
  >L</a
  ><a name="6739"
  > </a
  ><a name="6740" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6741"
  > </a
  ><a name="6742" href="Session.html#6742" class="Bound"
  >R</a
  ><a name="6743" class="Symbol"
  >)</a
  ><a name="6744"
  > </a
  ><a name="6745" class="Symbol"
  >=</a
  ><a name="6746"
  > </a
  ><a name="6747" class="Symbol"
  >(</a
  ><a name="6748" href="Session.html#6738" class="Bound"
  >L</a
  ><a name="6749"
  > </a
  ><a name="6750" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="6751"
  > </a
  ><a name="6752" class="Symbol"
  >(</a
  ><a name="6753" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6754"
  > </a
  ><a name="6755" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="6756"
  > </a
  ><a name="6757" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6758"
  > </a
  ><a name="6759" href="Session.html#6731" class="Bound"
  >C</a
  ><a name="6760" class="Symbol"
  >))</a
  ><a name="6762"
  > </a
  ><a name="6763" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6764"
  >  </a
  ><a name="6766" href="Session.html#6742" class="Bound"
  >R</a
  ><a name="6767"
  >
</a
  ><a name="6768" href="Session.html#6659" class="Function"
  >split</a
  ><a name="6773"
  > </a
  ><a name="6774" class="Symbol"
  >(</a
  ><a name="6775" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6776"
  > </a
  ><a name="6777" href="Session.html#6777" class="Bound"
  >s</a
  ><a name="6778"
  > </a
  ><a name="6779" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6780"
  > </a
  ><a name="6781" href="Session.html#6781" class="Bound"
  >C</a
  ><a name="6782" class="Symbol"
  >)</a
  ><a name="6783"
  >  </a
  ><a name="6785" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="6786"
  > </a
  ><a name="6787" class="Symbol"
  >(</a
  ><a name="6788" href="Session.html#6788" class="Bound"
  >L</a
  ><a name="6789"
  > </a
  ><a name="6790" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6791"
  > </a
  ><a name="6792" href="Session.html#6792" class="Bound"
  >R</a
  ><a name="6793" class="Symbol"
  >)</a
  ><a name="6794"
  > </a
  ><a name="6795" class="Symbol"
  >=</a
  ><a name="6796"
  >  </a
  ><a name="6798" href="Session.html#6788" class="Bound"
  >L</a
  ><a name="6799"
  >              </a
  ><a name="6813" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6814"
  > </a
  ><a name="6815" class="Symbol"
  >(</a
  ><a name="6816" href="Session.html#6792" class="Bound"
  >R</a
  ><a name="6817"
  > </a
  ><a name="6818" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="6819"
  > </a
  ><a name="6820" class="Symbol"
  >(</a
  ><a name="6821" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6822"
  > </a
  ><a name="6823" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="6824"
  > </a
  ><a name="6825" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6826"
  > </a
  ><a name="6827" href="Session.html#6781" class="Bound"
  >C</a
  ><a name="6828" class="Symbol"
  >))</a
  ><a name="6830"
  >
</a
  ><a name="6831" href="Session.html#6659" class="Function"
  >split</a
  ><a name="6836"
  > </a
  ><a name="6837" class="Symbol"
  >(</a
  ><a name="6838" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="6839"
  >   </a
  ><a name="6842" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6843"
  > </a
  ><a name="6844" href="Session.html#6844" class="Bound"
  >C</a
  ><a name="6845" class="Symbol"
  >)</a
  ><a name="6846"
  >  </a
  ><a name="6848" href="Session.html#6557" class="InductiveConstructor"
  >+</a
  ><a name="6849"
  > </a
  ><a name="6850" class="Symbol"
  >(</a
  ><a name="6851" href="Session.html#6851" class="Bound"
  >L</a
  ><a name="6852"
  > </a
  ><a name="6853" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6854"
  > </a
  ><a name="6855" href="Session.html#6855" class="Bound"
  >R</a
  ><a name="6856" class="Symbol"
  >)</a
  ><a name="6857"
  > </a
  ><a name="6858" class="Symbol"
  >=</a
  ><a name="6859"
  > </a
  ><a name="6860" class="Symbol"
  >(</a
  ><a name="6861" href="Session.html#6851" class="Bound"
  >L</a
  ><a name="6862"
  > </a
  ><a name="6863" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="6864"
  > </a
  ><a name="6865" class="Symbol"
  >(</a
  ><a name="6866" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="6867"
  >   </a
  ><a name="6870" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6871"
  > </a
  ><a name="6872" href="Session.html#6844" class="Bound"
  >C</a
  ><a name="6873" class="Symbol"
  >))</a
  ><a name="6875"
  > </a
  ><a name="6876" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6877"
  >  </a
  ><a name="6879" href="Session.html#6855" class="Bound"
  >R</a
  ><a name="6880"
  >
</a
  ><a name="6881" href="Session.html#6659" class="Function"
  >split</a
  ><a name="6886"
  > </a
  ><a name="6887" class="Symbol"
  >(</a
  ><a name="6888" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="6889"
  >   </a
  ><a name="6892" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6893"
  > </a
  ><a name="6894" href="Session.html#6894" class="Bound"
  >C</a
  ><a name="6895" class="Symbol"
  >)</a
  ><a name="6896"
  >  </a
  ><a name="6898" href="Session.html#6559" class="InductiveConstructor"
  >-</a
  ><a name="6899"
  > </a
  ><a name="6900" class="Symbol"
  >(</a
  ><a name="6901" href="Session.html#6901" class="Bound"
  >L</a
  ><a name="6902"
  > </a
  ><a name="6903" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6904"
  > </a
  ><a name="6905" href="Session.html#6905" class="Bound"
  >R</a
  ><a name="6906" class="Symbol"
  >)</a
  ><a name="6907"
  > </a
  ><a name="6908" class="Symbol"
  >=</a
  ><a name="6909"
  >  </a
  ><a name="6911" href="Session.html#6901" class="Bound"
  >L</a
  ><a name="6912"
  >              </a
  ><a name="6926" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6927"
  > </a
  ><a name="6928" class="Symbol"
  >(</a
  ><a name="6929" href="Session.html#6905" class="Bound"
  >R</a
  ><a name="6930"
  > </a
  ><a name="6931" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="6932"
  > </a
  ><a name="6933" class="Symbol"
  >(</a
  ><a name="6934" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="6935"
  >   </a
  ><a name="6938" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6939"
  > </a
  ><a name="6940" href="Session.html#6894" class="Bound"
  >C</a
  ><a name="6941" class="Symbol"
  >))</a
  ><a name="6943"
  >
</a
  ><a name="6944" href="Session.html#6659" class="Function"
  >split</a
  ><a name="6949"
  > </a
  ><a name="6950" class="Symbol"
  >(</a
  ><a name="6951" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="6952"
  >   </a
  ><a name="6955" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6956"
  > </a
  ><a name="6957" href="Session.html#6957" class="Bound"
  >C</a
  ><a name="6958" class="Symbol"
  >)</a
  ><a name="6959"
  > </a
  ><a name="6960" href="Session.html#6561" class="InductiveConstructor"
  >+-</a
  ><a name="6962"
  > </a
  ><a name="6963" class="Symbol"
  >(</a
  ><a name="6964" href="Session.html#6964" class="Bound"
  >L</a
  ><a name="6965"
  > </a
  ><a name="6966" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6967"
  > </a
  ><a name="6968" href="Session.html#6968" class="Bound"
  >R</a
  ><a name="6969" class="Symbol"
  >)</a
  ><a name="6970"
  > </a
  ><a name="6971" class="Symbol"
  >=</a
  ><a name="6972"
  > </a
  ><a name="6973" class="Symbol"
  >(</a
  ><a name="6974" href="Session.html#6964" class="Bound"
  >L</a
  ><a name="6975"
  > </a
  ><a name="6976" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="6977"
  > </a
  ><a name="6978" class="Symbol"
  >(</a
  ><a name="6979" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6980"
  > </a
  ><a name="6981" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="6982"
  > </a
  ><a name="6983" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6984"
  > </a
  ><a name="6985" href="Session.html#6957" class="Bound"
  >C</a
  ><a name="6986" class="Symbol"
  >))</a
  ><a name="6988"
  > </a
  ><a name="6989" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="6990"
  > </a
  ><a name="6991" class="Symbol"
  >(</a
  ><a name="6992" href="Session.html#6968" class="Bound"
  >R</a
  ><a name="6993"
  > </a
  ><a name="6994" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="6995"
  > </a
  ><a name="6996" class="Symbol"
  >(</a
  ><a name="6997" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="6998"
  > </a
  ><a name="6999" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="7000"
  > </a
  ><a name="7001" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7002"
  > </a
  ><a name="7003" href="Session.html#6957" class="Bound"
  >C</a
  ><a name="7004" class="Symbol"
  >))</a
  ><a name="7006"
  >
</a
  ><a name="7007" href="Session.html#6659" class="Function"
  >split</a
  ><a name="7012"
  > </a
  ><a name="7013" class="Symbol"
  >(</a
  ><a name="7014" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="7015"
  >   </a
  ><a name="7018" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7019"
  > </a
  ><a name="7020" href="Session.html#7020" class="Bound"
  >C</a
  ><a name="7021" class="Symbol"
  >)</a
  ><a name="7022"
  > </a
  ><a name="7023" href="Session.html#6564" class="InductiveConstructor"
  >-+</a
  ><a name="7025"
  > </a
  ><a name="7026" class="Symbol"
  >(</a
  ><a name="7027" href="Session.html#7027" class="Bound"
  >L</a
  ><a name="7028"
  > </a
  ><a name="7029" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7030"
  > </a
  ><a name="7031" href="Session.html#7031" class="Bound"
  >R</a
  ><a name="7032" class="Symbol"
  >)</a
  ><a name="7033"
  > </a
  ><a name="7034" class="Symbol"
  >=</a
  ><a name="7035"
  > </a
  ><a name="7036" class="Symbol"
  >(</a
  ><a name="7037" href="Session.html#7027" class="Bound"
  >L</a
  ><a name="7038"
  > </a
  ><a name="7039" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="7040"
  > </a
  ><a name="7041" class="Symbol"
  >(</a
  ><a name="7042" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="7043"
  > </a
  ><a name="7044" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="7045"
  > </a
  ><a name="7046" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7047"
  > </a
  ><a name="7048" href="Session.html#7020" class="Bound"
  >C</a
  ><a name="7049" class="Symbol"
  >))</a
  ><a name="7051"
  > </a
  ><a name="7052" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7053"
  > </a
  ><a name="7054" class="Symbol"
  >(</a
  ><a name="7055" href="Session.html#7031" class="Bound"
  >R</a
  ><a name="7056"
  > </a
  ><a name="7057" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="7058"
  > </a
  ><a name="7059" class="Symbol"
  >(</a
  ><a name="7060" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="7061"
  > </a
  ><a name="7062" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="7063"
  > </a
  ><a name="7064" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7065"
  > </a
  ><a name="7066" href="Session.html#7020" class="Bound"
  >C</a
  ><a name="7067" class="Symbol"
  >))</a
  ><a name="7069"
  ></pre>
<p>At <code>fork</code> time, if <code>Γ</code> is the input context, the user is asked to inhabit a <code>Splits Γ</code>, whose meaning as a pair of contexts is given by <code>splits</code>.</p>
<pre></a
  ><a name="7242" href="Session.html#7242" class="Function"
  >Splits</a
  ><a name="7248"
  > </a
  ><a name="7249" class="Symbol"
  >:</a
  ><a name="7250"
  > </a
  ><a name="7251" class="Symbol"
  >&#8704;</a
  ><a name="7252"
  > </a
  ><a name="7253" href="Session.html#7253" class="Bound"
  >&#915;</a
  ><a name="7254"
  > </a
  ><a name="7255" class="Symbol"
  >&#8594;</a
  ><a name="7256"
  > </a
  ><a name="7257" class="PrimitiveType"
  >Set</a
  ><a name="7260"
  > </a
  ><a name="7261" class="Symbol"
  >_</a
  ><a name="7262"
  >
</a
  ><a name="7263" href="Session.html#7242" class="Function"
  >Splits</a
  ><a name="7269"
  > </a
  ><a name="7270" class="Symbol"
  >=</a
  ><a name="7271"
  > </a
  ><a name="7272" href="Data.List.All.html#701" class="Datatype"
  >All</a
  ><a name="7275"
  > </a
  ><a name="7276" href="Session.html#6579" class="Function"
  >Split</a
  ><a name="7281"
  >

</a
  ><a name="7283" href="Session.html#7283" class="Function"
  >splits</a
  ><a name="7289"
  > </a
  ><a name="7290" class="Symbol"
  >:</a
  ><a name="7291"
  > </a
  ><a name="7292" class="Symbol"
  >&#8704;</a
  ><a name="7293"
  > </a
  ><a name="7294" class="Symbol"
  >{</a
  ><a name="7295" href="Session.html#7295" class="Bound"
  >&#915;</a
  ><a name="7296" class="Symbol"
  >}</a
  ><a name="7297"
  > </a
  ><a name="7298" class="Symbol"
  >&#8594;</a
  ><a name="7299"
  > </a
  ><a name="7300" href="Session.html#7242" class="Function"
  >Splits</a
  ><a name="7306"
  > </a
  ><a name="7307" href="Session.html#7295" class="Bound"
  >&#915;</a
  ><a name="7308"
  > </a
  ><a name="7309" class="Symbol"
  >&#8594;</a
  ><a name="7310"
  > </a
  ><a name="7311" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="7313"
  > </a
  ><a name="7314" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="7315"
  > </a
  ><a name="7316" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="7318"
  >
</a
  ><a name="7319" href="Session.html#7283" class="Function"
  >splits</a
  ><a name="7325"
  > </a
  ><a name="7326" href="Data.List.All.html#779" class="InductiveConstructor"
  >[]</a
  ><a name="7328"
  >       </a
  ><a name="7335" class="Symbol"
  >=</a
  ><a name="7336"
  > </a
  ><a name="7337" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="7339"
  > </a
  ><a name="7340" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7341"
  > </a
  ><a name="7342" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="7344"
  >
</a
  ><a name="7345" href="Session.html#7283" class="Function"
  >splits</a
  ><a name="7351"
  > </a
  ><a name="7352" class="Symbol"
  >(</a
  ><a name="7353" href="Session.html#7353" class="Bound"
  >ds</a
  ><a name="7355"
  > </a
  ><a name="7356" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="7358"
  > </a
  ><a name="7359" href="Session.html#7359" class="Bound"
  >s</a
  ><a name="7360" class="Symbol"
  >)</a
  ><a name="7361"
  > </a
  ><a name="7362" class="Symbol"
  >=</a
  ><a name="7363"
  > </a
  ><a name="7364" href="Session.html#6659" class="Function"
  >split</a
  ><a name="7369"
  > </a
  ><a name="7370" class="Symbol"
  >_</a
  ><a name="7371"
  > </a
  ><a name="7372" href="Session.html#7359" class="Bound"
  >s</a
  ><a name="7373"
  > </a
  ><a name="7374" class="Symbol"
  >(</a
  ><a name="7375" href="Session.html#7283" class="Function"
  >splits</a
  ><a name="7381"
  > </a
  ><a name="7382" href="Session.html#7353" class="Bound"
  >ds</a
  ><a name="7384" class="Symbol"
  >)</a
  ><a name="7385"
  ></pre>
<p><code>all-splits</code> is a generic functions which allows to lift <code>splits</code> to &quot;boxed&quot; predicates.</p>
<pre></a
  ><a name="7501" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="7511"
  > </a
  ><a name="7512" class="Symbol"
  >:</a
  ><a name="7513"
  > </a
  ><a name="7514" class="Symbol"
  >&#8704;</a
  ><a name="7515"
  > </a
  ><a name="7516" class="Symbol"
  >{</a
  ><a name="7517" href="Session.html#7517" class="Bound"
  >lP</a
  ><a name="7519" class="Symbol"
  >}{</a
  ><a name="7521" href="Session.html#7521" class="Bound"
  >P</a
  ><a name="7522"
  > </a
  ><a name="7523" class="Symbol"
  >:</a
  ><a name="7524"
  > </a
  ><a name="7525" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="7529"
  > </a
  ><a name="7530" class="Symbol"
  >&#8594;</a
  ><a name="7531"
  > </a
  ><a name="7532" class="PrimitiveType"
  >Set</a
  ><a name="7535"
  > </a
  ><a name="7536" href="Session.html#7517" class="Bound"
  >lP</a
  ><a name="7538" class="Symbol"
  >}{</a
  ><a name="7540" href="Session.html#7540" class="Bound"
  >&#915;</a
  ><a name="7541" class="Symbol"
  >}</a
  ><a name="7542"
  > </a
  ><a name="7543" class="Symbol"
  >&#8594;</a
  ><a name="7544"
  >
                     </a
  ><a name="7566" href="Data.List.All.html#701" class="Datatype"
  >All</a
  ><a name="7569"
  > </a
  ><a name="7570" class="Symbol"
  >(</a
  ><a name="7571" href="Session.html#7521" class="Bound"
  >P</a
  ><a name="7572"
  > </a
  ><a name="7573" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="7574"
  > </a
  ><a name="7575" href="Data.Product.html#535" class="Field"
  >snd</a
  ><a name="7578" class="Symbol"
  >)</a
  ><a name="7579"
  > </a
  ><a name="7580" href="Session.html#7540" class="Bound"
  >&#915;</a
  ><a name="7581"
  > </a
  ><a name="7582" class="Symbol"
  >&#8594;</a
  ><a name="7583"
  >
                </a
  ><a name="7600" class="Symbol"
  >(</a
  ><a name="7601" href="Session.html#7601" class="Bound"
  >d</a
  ><a name="7602"
  > </a
  ><a name="7603" class="Symbol"
  >:</a
  ><a name="7604"
  > </a
  ><a name="7605" href="Session.html#7242" class="Function"
  >Splits</a
  ><a name="7611"
  > </a
  ><a name="7612" href="Session.html#7540" class="Bound"
  >&#915;</a
  ><a name="7613" class="Symbol"
  >)</a
  ><a name="7614"
  >       </a
  ><a name="7621" class="Symbol"
  >&#8594;</a
  ><a name="7622"
  > 
                     </a
  ><a name="7645" href="Data.List.All.html#701" class="Datatype"
  >All</a
  ><a name="7648"
  > </a
  ><a name="7649" class="Symbol"
  >(</a
  ><a name="7650" href="Session.html#7521" class="Bound"
  >P</a
  ><a name="7651"
  > </a
  ><a name="7652" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="7653"
  > </a
  ><a name="7654" href="Data.Product.html#535" class="Field"
  >snd</a
  ><a name="7657" class="Symbol"
  >)</a
  ><a name="7658"
  > </a
  ><a name="7659" class="Symbol"
  >(</a
  ><a name="7660" href="Data.Product.html#525" class="Field"
  >fst</a
  ><a name="7663"
  > </a
  ><a name="7664" class="Symbol"
  >(</a
  ><a name="7665" href="Session.html#7283" class="Function"
  >splits</a
  ><a name="7671"
  > </a
  ><a name="7672" href="Session.html#7601" class="Bound"
  >d</a
  ><a name="7673" class="Symbol"
  >))</a
  ><a name="7675"
  >
                   </a
  ><a name="7695" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="7696"
  > </a
  ><a name="7697" href="Data.List.All.html#701" class="Datatype"
  >All</a
  ><a name="7700"
  > </a
  ><a name="7701" class="Symbol"
  >(</a
  ><a name="7702" href="Session.html#7521" class="Bound"
  >P</a
  ><a name="7703"
  > </a
  ><a name="7704" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="7705"
  > </a
  ><a name="7706" href="Data.Product.html#535" class="Field"
  >snd</a
  ><a name="7709" class="Symbol"
  >)</a
  ><a name="7710"
  > </a
  ><a name="7711" class="Symbol"
  >(</a
  ><a name="7712" href="Data.Product.html#535" class="Field"
  >snd</a
  ><a name="7715"
  > </a
  ><a name="7716" class="Symbol"
  >(</a
  ><a name="7717" href="Session.html#7283" class="Function"
  >splits</a
  ><a name="7723"
  > </a
  ><a name="7724" href="Session.html#7601" class="Bound"
  >d</a
  ><a name="7725" class="Symbol"
  >))</a
  ><a name="7727"
  >
</a
  ><a name="7728" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="7738"
  >                      </a
  ><a name="7760" href="Session.html#7760" class="Bound"
  >ps</a
  ><a name="7762"
  >       </a
  ><a name="7769" href="Data.List.All.html#779" class="InductiveConstructor"
  >[]</a
  ><a name="7771"
  >         </a
  ><a name="7780" class="Symbol"
  >=</a
  ><a name="7781"
  >
  </a
  ><a name="7784" href="Data.List.All.html#779" class="InductiveConstructor"
  >[]</a
  ><a name="7786"
  > </a
  ><a name="7787" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7788"
  > </a
  ><a name="7789" href="Data.List.All.html#779" class="InductiveConstructor"
  >[]</a
  ><a name="7791"
  >
</a
  ><a name="7792" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="7802"
  > </a
  ><a name="7803" class="Symbol"
  >{</a
  ><a name="7804"
  >&#915; </a
  ><a name="7806" class="Symbol"
  >=</a
  ><a name="7807"
  > </a
  ><a name="7808" href="Session.html#7808" class="Bound"
  >&#915;</a
  ><a name="7809"
  > </a
  ><a name="7810" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="7811"
  > </a
  ><a name="7812" class="Symbol"
  >(</a
  ><a name="7813" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="7814"
  >   </a
  ><a name="7817" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7818"
  > </a
  ><a name="7819" href="Session.html#7819" class="Bound"
  >C</a
  ><a name="7820" class="Symbol"
  >)}</a
  ><a name="7822"
  > </a
  ><a name="7823" class="Symbol"
  >(</a
  ><a name="7824" href="Session.html#7824" class="Bound"
  >ps</a
  ><a name="7826"
  > </a
  ><a name="7827" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="7829"
  > </a
  ><a name="7830" href="Session.html#7830" class="Bound"
  >p</a
  ><a name="7831" class="Symbol"
  >)</a
  ><a name="7832"
  > </a
  ><a name="7833" class="Symbol"
  >(</a
  ><a name="7834" href="Session.html#7834" class="Bound"
  >ds</a
  ><a name="7836"
  > </a
  ><a name="7837" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="7839"
  >    </a
  ><a name="7843" href="Session.html#6557" class="InductiveConstructor"
  >+</a
  ><a name="7844" class="Symbol"
  >)</a
  ><a name="7845"
  > </a
  ><a name="7846" class="Symbol"
  >=</a
  ><a name="7847"
  >
  </a
  ><a name="7850" href="Data.Product.html#1877" class="Function"
  >&#931;.map</a
  ><a name="7855"
  > </a
  ><a name="7856" class="Symbol"
  >(</a
  ><a name="7857" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="7861"
  > </a
  ><a name="7862" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="7866"
  > </a
  ><a name="7867" href="Session.html#7830" class="Bound"
  >p</a
  ><a name="7868" class="Symbol"
  >)</a
  ><a name="7869"
  >  </a
  ><a name="7871" href="Function.html#1006" class="Function"
  >id</a
  ><a name="7873"
  >          </a
  ><a name="7883" class="Symbol"
  >(</a
  ><a name="7884" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="7894"
  > </a
  ><a name="7895" href="Session.html#7824" class="Bound"
  >ps</a
  ><a name="7897"
  > </a
  ><a name="7898" href="Session.html#7834" class="Bound"
  >ds</a
  ><a name="7900" class="Symbol"
  >)</a
  ><a name="7901"
  >
</a
  ><a name="7902" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="7912"
  > </a
  ><a name="7913" class="Symbol"
  >{</a
  ><a name="7914"
  >&#915; </a
  ><a name="7916" class="Symbol"
  >=</a
  ><a name="7917"
  > </a
  ><a name="7918" href="Session.html#7918" class="Bound"
  >&#915;</a
  ><a name="7919"
  > </a
  ><a name="7920" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="7921"
  > </a
  ><a name="7922" class="Symbol"
  >(</a
  ><a name="7923" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="7924"
  >   </a
  ><a name="7927" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="7928"
  > </a
  ><a name="7929" href="Session.html#7929" class="Bound"
  >C</a
  ><a name="7930" class="Symbol"
  >)}</a
  ><a name="7932"
  > </a
  ><a name="7933" class="Symbol"
  >(</a
  ><a name="7934" href="Session.html#7934" class="Bound"
  >ps</a
  ><a name="7936"
  > </a
  ><a name="7937" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="7939"
  > </a
  ><a name="7940" href="Session.html#7940" class="Bound"
  >p</a
  ><a name="7941" class="Symbol"
  >)</a
  ><a name="7942"
  > </a
  ><a name="7943" class="Symbol"
  >(</a
  ><a name="7944" href="Session.html#7944" class="Bound"
  >ds</a
  ><a name="7946"
  > </a
  ><a name="7947" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="7949"
  >    </a
  ><a name="7953" href="Session.html#6559" class="InductiveConstructor"
  >-</a
  ><a name="7954" class="Symbol"
  >)</a
  ><a name="7955"
  > </a
  ><a name="7956" class="Symbol"
  >=</a
  ><a name="7957"
  >
  </a
  ><a name="7960" href="Data.Product.html#1877" class="Function"
  >&#931;.map</a
  ><a name="7965"
  >  </a
  ><a name="7967" href="Function.html#1006" class="Function"
  >id</a
  ><a name="7969"
  >          </a
  ><a name="7979" class="Symbol"
  >(</a
  ><a name="7980" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="7984"
  > </a
  ><a name="7985" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="7989"
  > </a
  ><a name="7990" href="Session.html#7940" class="Bound"
  >p</a
  ><a name="7991" class="Symbol"
  >)</a
  ><a name="7992"
  > </a
  ><a name="7993" class="Symbol"
  >(</a
  ><a name="7994" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8004"
  > </a
  ><a name="8005" href="Session.html#7934" class="Bound"
  >ps</a
  ><a name="8007"
  > </a
  ><a name="8008" href="Session.html#7944" class="Bound"
  >ds</a
  ><a name="8010" class="Symbol"
  >)</a
  ><a name="8011"
  >
</a
  ><a name="8012" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8022"
  > </a
  ><a name="8023" class="Symbol"
  >{</a
  ><a name="8024"
  >&#915; </a
  ><a name="8026" class="Symbol"
  >=</a
  ><a name="8027"
  > </a
  ><a name="8028" href="Session.html#8028" class="Bound"
  >&#915;</a
  ><a name="8029"
  > </a
  ><a name="8030" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="8031"
  > </a
  ><a name="8032" class="Symbol"
  >(</a
  ><a name="8033" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="8034"
  >   </a
  ><a name="8037" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="8038"
  > </a
  ><a name="8039" href="Session.html#8039" class="Bound"
  >C</a
  ><a name="8040" class="Symbol"
  >)}</a
  ><a name="8042"
  > </a
  ><a name="8043" class="Symbol"
  >(</a
  ><a name="8044" href="Session.html#8044" class="Bound"
  >ps</a
  ><a name="8046"
  > </a
  ><a name="8047" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8049"
  > </a
  ><a name="8050" href="Session.html#8050" class="Bound"
  >p</a
  ><a name="8051" class="Symbol"
  >)</a
  ><a name="8052"
  > </a
  ><a name="8053" class="Symbol"
  >(</a
  ><a name="8054" href="Session.html#8054" class="Bound"
  >ds</a
  ><a name="8056"
  > </a
  ><a name="8057" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8059"
  >   </a
  ><a name="8062" href="Session.html#6561" class="InductiveConstructor"
  >+-</a
  ><a name="8064" class="Symbol"
  >)</a
  ><a name="8065"
  > </a
  ><a name="8066" class="Symbol"
  >=</a
  ><a name="8067"
  > 
  </a
  ><a name="8071" href="Data.Product.html#1877" class="Function"
  >&#931;.map</a
  ><a name="8076"
  > </a
  ><a name="8077" class="Symbol"
  >(</a
  ><a name="8078" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="8082"
  > </a
  ><a name="8083" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="8087"
  > </a
  ><a name="8088" href="Session.html#8050" class="Bound"
  >p</a
  ><a name="8089" class="Symbol"
  >)</a
  ><a name="8090"
  > </a
  ><a name="8091" class="Symbol"
  >(</a
  ><a name="8092" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="8096"
  > </a
  ><a name="8097" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="8101"
  > </a
  ><a name="8102" href="Session.html#8050" class="Bound"
  >p</a
  ><a name="8103" class="Symbol"
  >)</a
  ><a name="8104"
  > </a
  ><a name="8105" class="Symbol"
  >(</a
  ><a name="8106" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8116"
  > </a
  ><a name="8117" href="Session.html#8044" class="Bound"
  >ps</a
  ><a name="8119"
  > </a
  ><a name="8120" href="Session.html#8054" class="Bound"
  >ds</a
  ><a name="8122" class="Symbol"
  >)</a
  ><a name="8123"
  >
</a
  ><a name="8124" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8134"
  > </a
  ><a name="8135" class="Symbol"
  >{</a
  ><a name="8136"
  >&#915; </a
  ><a name="8138" class="Symbol"
  >=</a
  ><a name="8139"
  > </a
  ><a name="8140" href="Session.html#8140" class="Bound"
  >&#915;</a
  ><a name="8141"
  > </a
  ><a name="8142" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="8143"
  > </a
  ><a name="8144" class="Symbol"
  >(</a
  ><a name="8145" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="8146"
  >   </a
  ><a name="8149" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="8150"
  > </a
  ><a name="8151" href="Session.html#8151" class="Bound"
  >C</a
  ><a name="8152" class="Symbol"
  >)}</a
  ><a name="8154"
  > </a
  ><a name="8155" class="Symbol"
  >(</a
  ><a name="8156" href="Session.html#8156" class="Bound"
  >ps</a
  ><a name="8158"
  > </a
  ><a name="8159" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8161"
  > </a
  ><a name="8162" href="Session.html#8162" class="Bound"
  >p</a
  ><a name="8163" class="Symbol"
  >)</a
  ><a name="8164"
  > </a
  ><a name="8165" class="Symbol"
  >(</a
  ><a name="8166" href="Session.html#8166" class="Bound"
  >ds</a
  ><a name="8168"
  > </a
  ><a name="8169" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8171"
  >   </a
  ><a name="8174" href="Session.html#6564" class="InductiveConstructor"
  >-+</a
  ><a name="8176" class="Symbol"
  >)</a
  ><a name="8177"
  > </a
  ><a name="8178" class="Symbol"
  >=</a
  ><a name="8179"
  >
  </a
  ><a name="8182" href="Data.Product.html#1877" class="Function"
  >&#931;.map</a
  ><a name="8187"
  > </a
  ><a name="8188" class="Symbol"
  >(</a
  ><a name="8189" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="8193"
  > </a
  ><a name="8194" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="8198"
  > </a
  ><a name="8199" href="Session.html#8162" class="Bound"
  >p</a
  ><a name="8200" class="Symbol"
  >)</a
  ><a name="8201"
  > </a
  ><a name="8202" class="Symbol"
  >(</a
  ><a name="8203" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="8207"
  > </a
  ><a name="8208" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="8212"
  > </a
  ><a name="8213" href="Session.html#8162" class="Bound"
  >p</a
  ><a name="8214" class="Symbol"
  >)</a
  ><a name="8215"
  > </a
  ><a name="8216" class="Symbol"
  >(</a
  ><a name="8217" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8227"
  > </a
  ><a name="8228" href="Session.html#8156" class="Bound"
  >ps</a
  ><a name="8230"
  > </a
  ><a name="8231" href="Session.html#8166" class="Bound"
  >ds</a
  ><a name="8233" class="Symbol"
  >)</a
  ><a name="8234"
  >
</a
  ><a name="8235" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8245"
  > </a
  ><a name="8246" class="Symbol"
  >{</a
  ><a name="8247"
  >&#915; </a
  ><a name="8249" class="Symbol"
  >=</a
  ><a name="8250"
  > </a
  ><a name="8251" href="Session.html#8251" class="Bound"
  >&#915;</a
  ><a name="8252"
  > </a
  ><a name="8253" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="8254"
  > </a
  ><a name="8255" class="Symbol"
  >(</a
  ><a name="8256" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="8257"
  > </a
  ><a name="8258" class="Symbol"
  >_</a
  ><a name="8259"
  > </a
  ><a name="8260" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="8261"
  > </a
  ><a name="8262" href="Session.html#8262" class="Bound"
  >C</a
  ><a name="8263" class="Symbol"
  >)}</a
  ><a name="8265"
  > </a
  ><a name="8266" class="Symbol"
  >(</a
  ><a name="8267" href="Session.html#8267" class="Bound"
  >ps</a
  ><a name="8269"
  > </a
  ><a name="8270" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8272"
  > </a
  ><a name="8273" href="Session.html#8273" class="Bound"
  >p</a
  ><a name="8274" class="Symbol"
  >)</a
  ><a name="8275"
  > </a
  ><a name="8276" class="Symbol"
  >(</a
  ><a name="8277" href="Session.html#8277" class="Bound"
  >ds</a
  ><a name="8279"
  > </a
  ><a name="8280" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8282"
  >    </a
  ><a name="8286" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="8287" class="Symbol"
  >)</a
  ><a name="8288"
  > </a
  ><a name="8289" class="Symbol"
  >=</a
  ><a name="8290"
  > 
  </a
  ><a name="8294" href="Data.Product.html#1877" class="Function"
  >&#931;.map</a
  ><a name="8299"
  > </a
  ><a name="8300" class="Symbol"
  >(</a
  ><a name="8301" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="8305"
  > </a
  ><a name="8306" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="8310"
  > </a
  ><a name="8311" href="Session.html#8273" class="Bound"
  >p</a
  ><a name="8312" class="Symbol"
  >)</a
  ><a name="8313"
  >  </a
  ><a name="8315" href="Function.html#1006" class="Function"
  >id</a
  ><a name="8317"
  >          </a
  ><a name="8327" class="Symbol"
  >(</a
  ><a name="8328" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8338"
  > </a
  ><a name="8339" href="Session.html#8267" class="Bound"
  >ps</a
  ><a name="8341"
  > </a
  ><a name="8342" href="Session.html#8277" class="Bound"
  >ds</a
  ><a name="8344" class="Symbol"
  >)</a
  ><a name="8345"
  >
</a
  ><a name="8346" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8356"
  > </a
  ><a name="8357" class="Symbol"
  >{</a
  ><a name="8358"
  >&#915; </a
  ><a name="8360" class="Symbol"
  >=</a
  ><a name="8361"
  > </a
  ><a name="8362" href="Session.html#8362" class="Bound"
  >&#915;</a
  ><a name="8363"
  > </a
  ><a name="8364" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="8365"
  > </a
  ><a name="8366" class="Symbol"
  >(</a
  ><a name="8367" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="8368"
  > </a
  ><a name="8369" class="Symbol"
  >_</a
  ><a name="8370"
  > </a
  ><a name="8371" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="8372"
  > </a
  ><a name="8373" href="Session.html#8373" class="Bound"
  >C</a
  ><a name="8374" class="Symbol"
  >)}</a
  ><a name="8376"
  > </a
  ><a name="8377" class="Symbol"
  >(</a
  ><a name="8378" href="Session.html#8378" class="Bound"
  >ps</a
  ><a name="8380"
  > </a
  ><a name="8381" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8383"
  > </a
  ><a name="8384" href="Session.html#8384" class="Bound"
  >p</a
  ><a name="8385" class="Symbol"
  >)</a
  ><a name="8386"
  > </a
  ><a name="8387" class="Symbol"
  >(</a
  ><a name="8388" href="Session.html#8388" class="Bound"
  >ds</a
  ><a name="8390"
  > </a
  ><a name="8391" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="8393"
  >    </a
  ><a name="8397" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="8398" class="Symbol"
  >)</a
  ><a name="8399"
  > </a
  ><a name="8400" class="Symbol"
  >=</a
  ><a name="8401"
  > 
  </a
  ><a name="8405" href="Data.Product.html#1877" class="Function"
  >&#931;.map</a
  ><a name="8410"
  >  </a
  ><a name="8412" href="Function.html#1006" class="Function"
  >id</a
  ><a name="8414"
  >          </a
  ><a name="8424" class="Symbol"
  >(</a
  ><a name="8425" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="8429"
  > </a
  ><a name="8430" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >_,&#775;_</a
  ><a name="8434"
  > </a
  ><a name="8435" href="Session.html#8384" class="Bound"
  >p</a
  ><a name="8436" class="Symbol"
  >)</a
  ><a name="8437"
  > </a
  ><a name="8438" class="Symbol"
  >(</a
  ><a name="8439" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="8449"
  > </a
  ><a name="8450" href="Session.html#8378" class="Bound"
  >ps</a
  ><a name="8452"
  > </a
  ><a name="8453" href="Session.html#8388" class="Bound"
  >ds</a
  ><a name="8455" class="Symbol"
  >)</a
  ><a name="8456"
  ></pre>
<p>We use some patterns to deal more easily with dependent tuples and objects of type <code>Entry</code>.</p>
<pre></a
  ><a name="8575" class="Keyword"
  >pattern</a
  ><a name="8582"
  > </a
  ><a name="8583" href="Session.html#8583" class="InductiveConstructor Operator"
  >%_</a
  ><a name="8585"
  >  </a
  ><a name="8587" href="Session.html#8595" class="Bound"
  >x</a
  ><a name="8588"
  > </a
  ><a name="8589" class="Symbol"
  >=</a
  ><a name="8590"
  > </a
  ><a name="8591" class="Symbol"
  >_</a
  ><a name="8592"
  > </a
  ><a name="8593" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="8594"
  > </a
  ><a name="8595" href="Session.html#8595" class="Bound"
  >x</a
  ><a name="8596"
  >
</a
  ><a name="8597" class="Keyword"
  >pattern</a
  ><a name="8604"
  > </a
  ><a name="8605" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2_</a
  ><a name="8608"
  > </a
  ><a name="8609" href="Session.html#8618" class="Bound"
  >x</a
  ><a name="8610"
  > </a
  ><a name="8611" class="Symbol"
  >=</a
  ><a name="8612"
  > </a
  ><a name="8613" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="8614"
  > </a
  ><a name="8615" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="8616"
  >  </a
  ><a name="8618" href="Session.html#8618" class="Bound"
  >x</a
  ><a name="8619"
  >
</a
  ><a name="8620" class="Keyword"
  >pattern</a
  ><a name="8627"
  > </a
  ><a name="8628" href="Session.html#8628" class="InductiveConstructor Operator"
  >%3_</a
  ><a name="8631"
  > </a
  ><a name="8632" href="Session.html#8641" class="Bound"
  >x</a
  ><a name="8633"
  > </a
  ><a name="8634" class="Symbol"
  >=</a
  ><a name="8635"
  > </a
  ><a name="8636" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="8637"
  > </a
  ><a name="8638" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="8640"
  > </a
  ><a name="8641" href="Session.html#8641" class="Bound"
  >x</a
  ><a name="8642"
  >
</a
  ><a name="8643" class="Keyword"
  >pattern</a
  ><a name="8650"
  > </a
  ><a name="8651" href="Session.html#8651" class="InductiveConstructor Operator"
  >%4_</a
  ><a name="8654"
  > </a
  ><a name="8655" href="Session.html#8664" class="Bound"
  >x</a
  ><a name="8656"
  > </a
  ><a name="8657" class="Symbol"
  >=</a
  ><a name="8658"
  > </a
  ><a name="8659" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="8660"
  > </a
  ><a name="8661" href="Session.html#8628" class="InductiveConstructor Operator"
  >%3</a
  ><a name="8663"
  > </a
  ><a name="8664" href="Session.html#8664" class="Bound"
  >x</a
  ><a name="8665"
  >

</a
  ><a name="8667" class="Keyword"
  >pattern</a
  ><a name="8674"
  > </a
  ><a name="8675" href="Session.html#8675" class="InductiveConstructor Operator"
  >&#187;&#187;_</a
  ><a name="8678"
  > </a
  ><a name="8679" href="Session.html#8692" class="Bound"
  >x</a
  ><a name="8680"
  > </a
  ><a name="8681" class="Symbol"
  >=</a
  ><a name="8682"
  > </a
  ><a name="8683" class="InductiveConstructor"
  >&gt;</a
  ><a name="8684"
  > </a
  ><a name="8685" class="InductiveConstructor"
  >+</a
  ><a name="8686"
  > </a
  ><a name="8687" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="8688"
  > </a
  ><a name="8689" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="8691"
  > </a
  ><a name="8692" href="Session.html#8692" class="Bound"
  >x</a
  ><a name="8693"
  >
</a
  ><a name="8694" class="Keyword"
  >pattern</a
  ><a name="8701"
  > </a
  ><a name="8702" href="Session.html#8702" class="InductiveConstructor Operator"
  >_&#171;&#171;</a
  ><a name="8705"
  > </a
  ><a name="8706" href="Session.html#8719" class="Bound"
  >x</a
  ><a name="8707"
  > </a
  ><a name="8708" class="Symbol"
  >=</a
  ><a name="8709"
  > </a
  ><a name="8710" class="InductiveConstructor"
  >&gt;</a
  ><a name="8711"
  > </a
  ><a name="8712" class="InductiveConstructor"
  >-</a
  ><a name="8713"
  > </a
  ><a name="8714" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="8715"
  > </a
  ><a name="8716" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="8718"
  > </a
  ><a name="8719" href="Session.html#8719" class="Bound"
  >x</a
  ><a name="8720"
  ></pre>
<h2 id="terms">Terms</h2>
<h2 id="introduction">Introduction</h2>
<p>Here we would like to provide a human-readable representation of the syntax which is encoded below, also discussing the choice of encoding.</p>
<p>For now we limit ourselves to illustrating the Agda code step-by-step.</p>
<h3 id="functors">Functors</h3>
<p>We define several (indexed) functors: we will obtain our process syntax by taking their fixpoint. While in the future we plan to move to codes for a universe of functors such as the ones cited above, for the purpose of illustrating the method we do not want to add further complications.</p>
<p>Most of the productions are non-recursive, so we will first define some families in <code>Ty</code>.</p>
<pre></a
  ><a name="9380" class="Keyword"
  >private</a
  ><a name="9387"
  > </a
  ><a name="9388" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="9390"
  > </a
  ><a name="9391" class="Symbol"
  >=</a
  ><a name="9392"
  > </a
  ><a name="9393" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="9395"
  > </a
  ><a name="9396" class="Symbol"
  >&#8594;</a
  ><a name="9397"
  > </a
  ><a name="9398" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="9400"
  > </a
  ><a name="9401" class="Symbol"
  >&#8594;</a
  ><a name="9402"
  > </a
  ><a name="9403" class="PrimitiveType"
  >Set&#8321;</a
  ><a name="9407"
  ></pre>
<p>The functor corresponding to the <code>new</code> grammar production/constructor simply imposes that the output context contains a <em>new</em> channel, i.e. a channel whose side is <code>ε</code> (<code>Maybe.nothing</code>).</p>
<pre></a
  ><a name="9621" href="Session.html#9621" class="Function"
  >New</a
  ><a name="9624"
  > </a
  ><a name="9625" class="Symbol"
  >:</a
  ><a name="9626"
  > </a
  ><a name="9627" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="9629"
  >
</a
  ><a name="9630" href="Session.html#9621" class="Function"
  >New</a
  ><a name="9633"
  > </a
  ><a name="9634" href="Session.html#9634" class="Bound"
  >&#915;</a
  ><a name="9635"
  > </a
  ><a name="9636" href="Session.html#9636" class="Bound"
  >&#916;</a
  ><a name="9637"
  > </a
  ><a name="9638" class="Symbol"
  >=</a
  ><a name="9639"
  > </a
  ><a name="9640" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="9641"
  > </a
  ><a name="9642" class="Symbol"
  >_</a
  ><a name="9643"
  > </a
  ><a name="9644" class="Symbol"
  >&#955;</a
  ><a name="9645"
  > </a
  ><a name="9646" href="Session.html#9646" class="Bound"
  >F</a
  ><a name="9647"
  > </a
  ><a name="9648" class="Symbol"
  >&#8594;</a
  ><a name="9649"
  > </a
  ><a name="9650" href="Session.html#9636" class="Bound"
  >&#916;</a
  ><a name="9651"
  > </a
  ><a name="9652" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="9653"
  > </a
  ><a name="9654" href="Session.html#9634" class="Bound"
  >&#915;</a
  ><a name="9655"
  > </a
  ><a name="9656" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="9657"
  > </a
  ><a name="9658" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="9659"
  > </a
  ><a name="9660" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="9661"
  > </a
  ><a name="9662" href="Session.html#9646" class="Bound"
  >F</a
  ><a name="9663"
  ></pre>
<p>We can send and receive channels along channels: in the former case the sent session type is omitted from the output context, in the latter the context is extended with the entry corresponding to the received channel.</p>
<pre></a
  ><a name="9908" href="Session.html#9908" class="Function"
  >Send</a
  ><a name="9912"
  > </a
  ><a name="9913" href="Session.html#9913" class="Function"
  >Receive</a
  ><a name="9920"
  > </a
  ><a name="9921" class="Symbol"
  >:</a
  ><a name="9922"
  > </a
  ><a name="9923" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="9925"
  >
</a
  ><a name="9926" href="Session.html#9908" class="Function"
  >Send</a
  ><a name="9930"
  > </a
  ><a name="9931" href="Session.html#9931" class="Bound"
  >&#915;</a
  ><a name="9932"
  > </a
  ><a name="9933" href="Session.html#9933" class="Bound"
  >&#916;</a
  ><a name="9934"
  > </a
  ><a name="9935" class="Symbol"
  >=</a
  ><a name="9936"
  > </a
  ><a name="9937" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="9938"
  > </a
  ><a name="9939" class="Symbol"
  >(</a
  ><a name="9940" href="Session.html#3721" class="Function"
  >Entry</a
  ><a name="9945"
  > </a
  ><a name="9946" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="9947"
  > </a
  ><a name="9948" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="9952"
  > </a
  ><a name="9953" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="9954"
  > </a
  ><a name="9955" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="9959" class="Symbol"
  >)</a
  ><a name="9960"
  > </a
  ><a name="9961" class="Symbol"
  >&#955;</a
  ><a name="9962"
  > </a
  ><a name="9963" href="Session.html#9963" class="Bound"
  >W</a
  ><a name="9964"
  > </a
  ><a name="9965" class="Symbol"
  >&#8594;</a
  ><a name="9966"
  >
           </a
  ><a name="9978" class="Keyword"
  >let</a
  ><a name="9981"
  > </a
  ><a name="9982" href="Session.html#9982" class="Bound"
  >L</a
  ><a name="9983"
  > </a
  ><a name="9984" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="9985"
  > </a
  ><a name="9986" href="Session.html#9986" class="Bound"
  >s</a
  ><a name="9987"
  > </a
  ><a name="9988" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="9989"
  > </a
  ><a name="9990" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="9992"
  > </a
  ><a name="9993" href="Session.html#9993" class="Bound"
  >R</a
  ><a name="9994"
  > </a
  ><a name="9995" class="Symbol"
  >=</a
  ><a name="9996"
  > </a
  ><a name="9997" href="Session.html#9963" class="Bound"
  >W</a
  ><a name="9998"
  > </a
  ><a name="9999" class="Keyword"
  >in</a
  ><a name="10001"
  >
           </a
  ><a name="10013" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10014"
  > </a
  ><a name="10015" class="Symbol"
  >(</a
  ><a name="10016"
  >                      </a
  ><a name="10038" href="Session.html#9982" class="Bound"
  >L</a
  ><a name="10039"
  > </a
  ><a name="10040" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="10041"
  > </a
  ><a name="10042" href="Session.html#9931" class="Bound"
  >&#915;</a
  ><a name="10043"
  >   </a
  ><a name="10046" class="Symbol"
  >)</a
  ><a name="10047"
  > </a
  ><a name="10048" class="Symbol"
  >&#955;</a
  ><a name="10049"
  > </a
  ><a name="10050" href="Session.html#10050" class="Bound"
  >i</a
  ><a name="10051"
  > </a
  ><a name="10052" class="Symbol"
  >&#8594;</a
  ><a name="10053"
  >
           </a
  ><a name="10065" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10066"
  > </a
  ><a name="10067" class="Symbol"
  >((</a
  ><a name="10069" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10070"
  > </a
  ><a name="10071" href="Session.html#9986" class="Bound"
  >s</a
  ><a name="10072"
  > </a
  ><a name="10073" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10074"
  > </a
  ><a name="10075" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="10077"
  > </a
  ><a name="10078" class="Symbol"
  >(</a
  ><a name="10079" href="Session.html#9982" class="Bound"
  >L</a
  ><a name="10080"
  > </a
  ><a name="10081" href="Session.html#5266" class="Function Operator"
  >[</a
  ><a name="10082"
  > </a
  ><a name="10083" href="Session.html#9986" class="Bound"
  >s</a
  ><a name="10084"
  > </a
  ><a name="10085" href="Session.html#5266" class="Function Operator"
  >]&#8855;</a
  ><a name="10087"
  > </a
  ><a name="10088" href="Session.html#9993" class="Bound"
  >R</a
  ><a name="10089" class="Symbol"
  >))</a
  ><a name="10091"
  > </a
  ><a name="10092" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="10093"
  > </a
  ><a name="10094" href="Session.Base.html#3041" class="Function"
  >rm</a
  ><a name="10096"
  > </a
  ><a name="10097" href="Session.html#10050" class="Bound"
  >i</a
  ><a name="10098" class="Symbol"
  >)</a
  ><a name="10099"
  >
             </a
  ><a name="10113" class="Symbol"
  >(</a
  ><a name="10114" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >_&#8801;_</a
  ><a name="10117"
  > </a
  ><a name="10118" href="Session.html#9933" class="Bound"
  >&#916;</a
  ><a name="10119"
  > </a
  ><a name="10120" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="10121"
  > </a
  ><a name="10122" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="10124"
  > </a
  ><a name="10125" class="Symbol"
  >(</a
  ><a name="10126" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10127"
  > </a
  ><a name="10128" href="Session.html#9986" class="Bound"
  >s</a
  ><a name="10129"
  > </a
  ><a name="10130" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10131"
  > </a
  ><a name="10132" class="Symbol"
  >_</a
  ><a name="10133"
  > </a
  ><a name="10134" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10135"
  > </a
  ><a name="10136" class="Symbol"
  >_</a
  ><a name="10137"
  > </a
  ><a name="10138" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10139"
  > </a
  ><a name="10140" href="Session.html#9993" class="Bound"
  >R</a
  ><a name="10141" class="Symbol"
  >))</a
  ><a name="10143"
  >
</a
  ><a name="10144" href="Session.html#9913" class="Function"
  >Receive</a
  ><a name="10151"
  > </a
  ><a name="10152" href="Session.html#10152" class="Bound"
  >&#915;</a
  ><a name="10153"
  > </a
  ><a name="10154" href="Session.html#10154" class="Bound"
  >&#916;</a
  ><a name="10155"
  > </a
  ><a name="10156" class="Symbol"
  >=</a
  ><a name="10157"
  > </a
  ><a name="10158" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10159"
  > </a
  ><a name="10160" class="Symbol"
  >(</a
  ><a name="10161" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="10165"
  > </a
  ><a name="10166" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="10167"
  > </a
  ><a name="10168" class="Symbol"
  >_</a
  ><a name="10169"
  > </a
  ><a name="10170" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="10171"
  > </a
  ><a name="10172" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="10176" class="Symbol"
  >)</a
  ><a name="10177"
  > </a
  ><a name="10178" class="Symbol"
  >&#955;</a
  ><a name="10179"
  > </a
  ><a name="10180" href="Session.html#10180" class="Bound"
  >W</a
  ><a name="10181"
  > </a
  ><a name="10182" class="Symbol"
  >&#8594;</a
  ><a name="10183"
  >
              </a
  ><a name="10198" class="Keyword"
  >let</a
  ><a name="10201"
  > </a
  ><a name="10202" href="Session.html#10202" class="Bound"
  >s</a
  ><a name="10203"
  > </a
  ><a name="10204" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10205"
  > </a
  ><a name="10206" href="Session.html#10206" class="Bound"
  >L</a
  ><a name="10207"
  > </a
  ><a name="10208" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10209"
  > </a
  ><a name="10210" class="Symbol"
  >_</a
  ><a name="10211"
  > </a
  ><a name="10212" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10213"
  > </a
  ><a name="10214" class="Symbol"
  >_</a
  ><a name="10215"
  > </a
  ><a name="10216" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10217"
  > </a
  ><a name="10218" href="Session.html#10218" class="Bound"
  >R</a
  ><a name="10219"
  > </a
  ><a name="10220" class="Symbol"
  >=</a
  ><a name="10221"
  > </a
  ><a name="10222" href="Session.html#10180" class="Bound"
  >W</a
  ><a name="10223"
  > </a
  ><a name="10224" class="Keyword"
  >in</a
  ><a name="10226"
  >
              </a
  ><a name="10241" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10242"
  > </a
  ><a name="10243" class="Symbol"
  >((</a
  ><a name="10245" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10246"
  > </a
  ><a name="10247" href="Session.html#10202" class="Bound"
  >s</a
  ><a name="10248"
  > </a
  ><a name="10249" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10250"
  > </a
  ><a name="10251" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="10253"
  > </a
  ><a name="10254" class="Symbol"
  >(</a
  ><a name="10255" href="Session.html#10206" class="Bound"
  >L</a
  ><a name="10256"
  > </a
  ><a name="10257" href="Session.html#5273" class="Function Operator"
  >[</a
  ><a name="10258"
  > </a
  ><a name="10259" href="Session.html#10202" class="Bound"
  >s</a
  ><a name="10260"
  > </a
  ><a name="10261" href="Session.html#5273" class="Function Operator"
  >]&#8523;</a
  ><a name="10263"
  > </a
  ><a name="10264" href="Session.html#10218" class="Bound"
  >R</a
  ><a name="10265" class="Symbol"
  >))</a
  ><a name="10267"
  > </a
  ><a name="10268" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="10269"
  > </a
  ><a name="10270" href="Session.html#10152" class="Bound"
  >&#915;</a
  ><a name="10271" class="Symbol"
  >)</a
  ><a name="10272"
  > </a
  ><a name="10273" class="Symbol"
  >&#955;</a
  ><a name="10274"
  > </a
  ><a name="10275" href="Session.html#10275" class="Bound"
  >i</a
  ><a name="10276"
  > </a
  ><a name="10277" class="Symbol"
  >&#8594;</a
  ><a name="10278"
  > 
                </a
  ><a name="10296" href="Session.html#10154" class="Bound"
  >&#916;</a
  ><a name="10297"
  > </a
  ><a name="10298" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="10299"
  > </a
  ><a name="10300" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="10302"
  > </a
  ><a name="10303" class="Symbol"
  >(</a
  ><a name="10304" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10305"
  > </a
  ><a name="10306" href="Session.html#10202" class="Bound"
  >s</a
  ><a name="10307"
  > </a
  ><a name="10308" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10309"
  > </a
  ><a name="10310" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="10312"
  > </a
  ><a name="10313" href="Session.html#10218" class="Bound"
  >R</a
  ><a name="10314" class="Symbol"
  >)</a
  ><a name="10315"
  > </a
  ><a name="10316" href="Session.html#10275" class="Bound"
  >i</a
  ><a name="10317"
  > </a
  ><a name="10318" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="10319"
  > </a
  ><a name="10320" href="Session.html#10206" class="Bound"
  >L</a
  ><a name="10321"
  ></pre>
<p>Writing to and reading from channels changes the type accordingly, without necessarily introducing dependencies.</p>
<pre></a
  ><a name="10461" href="Session.html#10461" class="Function"
  >Write</a
  ><a name="10466"
  > </a
  ><a name="10467" href="Session.html#10467" class="Function"
  >Read</a
  ><a name="10471"
  > </a
  ><a name="10472" class="Symbol"
  >:</a
  ><a name="10473"
  > </a
  ><a name="10474" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="10476"
  >
</a
  ><a name="10477" href="Session.html#10461" class="Function"
  >Write</a
  ><a name="10482"
  > </a
  ><a name="10483" href="Session.html#10483" class="Bound"
  >&#915;</a
  ><a name="10484"
  > </a
  ><a name="10485" href="Session.html#10485" class="Bound"
  >&#916;</a
  ><a name="10486"
  > </a
  ><a name="10487" class="Symbol"
  >=</a
  ><a name="10488"
  > </a
  ><a name="10489" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10490"
  > </a
  ><a name="10491" class="Symbol"
  >(</a
  ><a name="10492" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10493"
  > </a
  ><a name="10494" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="10498"
  > </a
  ><a name="10499" class="Symbol"
  >&#955;</a
  ><a name="10500"
  > </a
  ><a name="10501" class="Symbol"
  >{</a
  ><a name="10502"
  > </a
  ><a name="10503" class="Symbol"
  >(</a
  ><a name="10504" href="Session.html#10504" class="Bound"
  >I</a
  ><a name="10505"
  > </a
  ><a name="10506" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10507"
  > </a
  ><a name="10508" href="Session.html#10508" class="Bound"
  >J</a
  ><a name="10509"
  > </a
  ><a name="10510" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10511"
  > </a
  ><a name="10512" href="Session.html#10512" class="Bound"
  >T</a
  ><a name="10513" class="Symbol"
  >)</a
  ><a name="10514"
  > </a
  ><a name="10515" class="Symbol"
  >&#8594;</a
  ><a name="10516"
  > </a
  ><a name="10517" href="Session.html#10508" class="Bound"
  >J</a
  ><a name="10518"
  > </a
  ><a name="10519" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="10520"
  > </a
  ><a name="10521" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="10525"
  > </a
  ><a name="10526" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="10527"
  > </a
  ><a name="10528" class="PrimitiveType"
  >Set</a
  ><a name="10531"
  > </a
  ><a name="10532" class="Symbol"
  >})</a
  ><a name="10534"
  > </a
  ><a name="10535" class="Symbol"
  >&#955;</a
  ><a name="10536"
  > </a
  ><a name="10537" href="Session.html#10537" class="Bound"
  >W</a
  ><a name="10538"
  > </a
  ><a name="10539" class="Symbol"
  >&#8594;</a
  ><a name="10540"
  >
            </a
  ><a name="10553" class="Keyword"
  >let</a
  ><a name="10556"
  > </a
  ><a name="10557" class="Symbol"
  >(</a
  ><a name="10558" href="Session.html#10558" class="Bound"
  >I</a
  ><a name="10559"
  > </a
  ><a name="10560" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10561"
  > </a
  ><a name="10562" href="Session.html#10562" class="Bound"
  >J</a
  ><a name="10563"
  > </a
  ><a name="10564" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10565"
  > </a
  ><a name="10566" href="Session.html#10566" class="Bound"
  >T</a
  ><a name="10567" class="Symbol"
  >)</a
  ><a name="10568"
  > </a
  ><a name="10569" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10570"
  > </a
  ><a name="10571" href="Session.html#10571" class="Bound"
  >j</a
  ><a name="10572"
  > </a
  ><a name="10573" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10574"
  > </a
  ><a name="10575" href="Session.html#10575" class="Bound"
  >s</a
  ><a name="10576"
  > </a
  ><a name="10577" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10578"
  > </a
  ><a name="10579" href="Session.html#10579" class="Bound"
  >O</a
  ><a name="10580"
  > </a
  ><a name="10581" class="Symbol"
  >=</a
  ><a name="10582"
  > </a
  ><a name="10583" href="Session.html#10537" class="Bound"
  >W</a
  ><a name="10584"
  > </a
  ><a name="10585" class="Keyword"
  >in</a
  ><a name="10587"
  >
            </a
  ><a name="10600" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10601"
  > </a
  ><a name="10602" class="Symbol"
  >((</a
  ><a name="10604" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10605"
  > </a
  ><a name="10606" href="Session.html#10575" class="Bound"
  >s</a
  ><a name="10607"
  > </a
  ><a name="10608" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10609"
  > </a
  ><a name="10610" href="Session.html#10558" class="Bound"
  >I</a
  ><a name="10611"
  > </a
  ><a name="10612" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10613"
  > </a
  ><a name="10614" href="Session.html#10579" class="Bound"
  >O</a
  ><a name="10615"
  > </a
  ><a name="10616" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10617"
  > </a
  ><a name="10618" href="Session.html#5132" class="Function Operator"
  >[</a
  ><a name="10619"
  > </a
  ><a name="10620" href="Session.html#10575" class="Bound"
  >s</a
  ><a name="10621"
  > </a
  ><a name="10622" href="Session.html#5132" class="Function Operator"
  >]&#931;</a
  ><a name="10624"
  > </a
  ><a name="10625" href="Session.html#10562" class="Bound"
  >J</a
  ><a name="10626"
  > </a
  ><a name="10627" href="Session.html#10566" class="Bound"
  >T</a
  ><a name="10628" class="Symbol"
  >)</a
  ><a name="10629"
  > </a
  ><a name="10630" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="10631"
  > </a
  ><a name="10632" href="Session.html#10483" class="Bound"
  >&#915;</a
  ><a name="10633" class="Symbol"
  >)</a
  ><a name="10634"
  >
              </a
  ><a name="10649" class="Symbol"
  >(</a
  ><a name="10650" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >_&#8801;_</a
  ><a name="10653"
  > </a
  ><a name="10654" href="Session.html#10485" class="Bound"
  >&#916;</a
  ><a name="10655"
  > </a
  ><a name="10656" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="10657"
  > </a
  ><a name="10658" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="10660"
  > </a
  ><a name="10661" class="Symbol"
  >(</a
  ><a name="10662" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10663"
  > </a
  ><a name="10664" href="Session.html#10575" class="Bound"
  >s</a
  ><a name="10665"
  > </a
  ><a name="10666" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10667"
  > </a
  ><a name="10668" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="10670"
  > </a
  ><a name="10671" href="Session.html#10566" class="Bound"
  >T</a
  ><a name="10672" class="Symbol"
  >))</a
  ><a name="10674"
  >
</a
  ><a name="10675" href="Session.html#10467" class="Function"
  >Read</a
  ><a name="10679"
  > </a
  ><a name="10680" href="Session.html#10680" class="Bound"
  >&#915;</a
  ><a name="10681"
  > </a
  ><a name="10682" href="Session.html#10682" class="Bound"
  >&#916;</a
  ><a name="10683"
  > </a
  ><a name="10684" class="Symbol"
  >=</a
  ><a name="10685"
  > </a
  ><a name="10686" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10687"
  > </a
  ><a name="10688" class="Symbol"
  >(</a
  ><a name="10689" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="10693"
  > </a
  ><a name="10694" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="10695"
  > </a
  ><a name="10696" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="10700"
  > </a
  ><a name="10701" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="10702"
  > </a
  ><a name="10703" class="Symbol"
  >_)</a
  ><a name="10705"
  > </a
  ><a name="10706" class="Symbol"
  >&#955;</a
  ><a name="10707"
  > </a
  ><a name="10708" href="Session.html#10708" class="Bound"
  >W</a
  ><a name="10709"
  > </a
  ><a name="10710" class="Symbol"
  >&#8594;</a
  ><a name="10711"
  >
           </a
  ><a name="10723" class="Keyword"
  >let</a
  ><a name="10726"
  > </a
  ><a name="10727" class="Symbol"
  >(</a
  ><a name="10728" href="Session.html#10728" class="Bound"
  >I</a
  ><a name="10729"
  > </a
  ><a name="10730" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10731"
  > </a
  ><a name="10732" href="Session.html#10732" class="Bound"
  >J</a
  ><a name="10733"
  > </a
  ><a name="10734" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10735"
  > </a
  ><a name="10736" href="Session.html#10736" class="Bound"
  >T</a
  ><a name="10737" class="Symbol"
  >)</a
  ><a name="10738"
  > </a
  ><a name="10739" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10740"
  > </a
  ><a name="10741" href="Session.html#10741" class="Bound"
  >s</a
  ><a name="10742"
  > </a
  ><a name="10743" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10744"
  > </a
  ><a name="10745" href="Session.html#10745" class="Bound"
  >O</a
  ><a name="10746"
  > </a
  ><a name="10747" class="Symbol"
  >=</a
  ><a name="10748"
  > </a
  ><a name="10749" href="Session.html#10708" class="Bound"
  >W</a
  ><a name="10750"
  > </a
  ><a name="10751" class="Keyword"
  >in</a
  ><a name="10753"
  >
           </a
  ><a name="10765" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="10766"
  > </a
  ><a name="10767" class="Symbol"
  >((</a
  ><a name="10769" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10770"
  > </a
  ><a name="10771" href="Session.html#10741" class="Bound"
  >s</a
  ><a name="10772"
  > </a
  ><a name="10773" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10774"
  > </a
  ><a name="10775" href="Session.html#10728" class="Bound"
  >I</a
  ><a name="10776"
  > </a
  ><a name="10777" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10778"
  > </a
  ><a name="10779" href="Session.html#10745" class="Bound"
  >O</a
  ><a name="10780"
  > </a
  ><a name="10781" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10782"
  > </a
  ><a name="10783" href="Session.html#5139" class="Function Operator"
  >[</a
  ><a name="10784"
  > </a
  ><a name="10785" href="Session.html#10741" class="Bound"
  >s</a
  ><a name="10786"
  > </a
  ><a name="10787" href="Session.html#5139" class="Function Operator"
  >]&#928;</a
  ><a name="10789"
  > </a
  ><a name="10790" href="Session.html#10732" class="Bound"
  >J</a
  ><a name="10791"
  > </a
  ><a name="10792" href="Session.html#10736" class="Bound"
  >T</a
  ><a name="10793" class="Symbol"
  >)</a
  ><a name="10794"
  > </a
  ><a name="10795" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="10796"
  > </a
  ><a name="10797" href="Session.html#10680" class="Bound"
  >&#915;</a
  ><a name="10798" class="Symbol"
  >)</a
  ><a name="10799"
  >
             </a
  ><a name="10813" class="Symbol"
  >(</a
  ><a name="10814" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >_&#8801;_</a
  ><a name="10817"
  > </a
  ><a name="10818" href="Session.html#10682" class="Bound"
  >&#916;</a
  ><a name="10819"
  > </a
  ><a name="10820" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="10821"
  > </a
  ><a name="10822" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="10824"
  > </a
  ><a name="10825" class="Symbol"
  >(</a
  ><a name="10826" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="10827"
  > </a
  ><a name="10828" href="Session.html#10741" class="Bound"
  >s</a
  ><a name="10829"
  > </a
  ><a name="10830" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="10831"
  > </a
  ><a name="10832" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="10834"
  > </a
  ><a name="10835" href="Session.html#10736" class="Bound"
  >T</a
  ><a name="10836" class="Symbol"
  >))</a
  ><a name="10838"
  ></pre>
<p>This functor &quot;consumes&quot; <code>`^</code> from the session type: it &quot;allows&quot; you to choose a value from which the rest of the type is dependent, but <em>most often</em> this value will be forced by the type.</p>
<pre></a
  ><a name="11057" href="Session.html#11057" class="Function"
  >At</a
  ><a name="11059"
  > </a
  ><a name="11060" class="Symbol"
  >:</a
  ><a name="11061"
  > </a
  ><a name="11062" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="11064"
  >
</a
  ><a name="11065" href="Session.html#11057" class="Function"
  >At</a
  ><a name="11067"
  > </a
  ><a name="11068" href="Session.html#11068" class="Bound"
  >&#915;</a
  ><a name="11069"
  > </a
  ><a name="11070" href="Session.html#11070" class="Bound"
  >&#916;</a
  ><a name="11071"
  > </a
  ><a name="11072" class="Symbol"
  >=</a
  ><a name="11073"
  > </a
  ><a name="11074" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11075"
  > </a
  ><a name="11076" class="Symbol"
  >(</a
  ><a name="11077" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11078"
  > </a
  ><a name="11079" class="Symbol"
  >_</a
  ><a name="11080"
  > </a
  ><a name="11081" class="Symbol"
  >&#955;</a
  ><a name="11082"
  > </a
  ><a name="11083" href="Session.html#11083" class="Bound"
  >I</a
  ><a name="11084"
  > </a
  ><a name="11085" class="Symbol"
  >&#8594;</a
  ><a name="11086"
  > </a
  ><a name="11087" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11088"
  > </a
  ><a name="11089" class="Symbol"
  >_</a
  ><a name="11090"
  > </a
  ><a name="11091" class="Symbol"
  >&#955;</a
  ><a name="11092"
  > </a
  ><a name="11093" href="Session.html#11093" class="Bound"
  >O</a
  ><a name="11094"
  > </a
  ><a name="11095" class="Symbol"
  >&#8594;</a
  ><a name="11096"
  > </a
  ><a name="11097" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11098"
  > </a
  ><a name="11099" class="Symbol"
  >(</a
  ><a name="11100" href="Session.html#11093" class="Bound"
  >O</a
  ><a name="11101"
  > </a
  ><a name="11102" class="Symbol"
  >&#8594;</a
  ><a name="11103"
  > </a
  ><a name="11104" href="Session.html#3663" class="Function"
  >De</a
  ><a name="11106"
  > </a
  ><a name="11107" href="Session.html#11083" class="Bound"
  >I</a
  ><a name="11108" class="Symbol"
  >)</a
  ><a name="11109"
  > </a
  ><a name="11110" class="Symbol"
  >&#955;</a
  ><a name="11111"
  > </a
  ><a name="11112" href="Session.html#11112" class="Bound"
  >_</a
  ><a name="11113"
  > </a
  ><a name="11114" class="Symbol"
  >&#8594;</a
  ><a name="11115"
  > </a
  ><a name="11116" href="Session.html#11093" class="Bound"
  >O</a
  ><a name="11117"
  > </a
  ><a name="11118" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="11119"
  > </a
  ><a name="11120" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="11124" class="Symbol"
  >)</a
  ><a name="11125"
  > </a
  ><a name="11126" class="Symbol"
  >&#955;</a
  ><a name="11127"
  > </a
  ><a name="11128" href="Session.html#11128" class="Bound"
  >W</a
  ><a name="11129"
  > </a
  ><a name="11130" class="Symbol"
  >&#8594;</a
  ><a name="11131"
  >
         </a
  ><a name="11141" class="Keyword"
  >let</a
  ><a name="11144"
  > </a
  ><a name="11145" href="Session.html#11145" class="Bound"
  >I</a
  ><a name="11146"
  > </a
  ><a name="11147" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11148"
  > </a
  ><a name="11149" href="Session.html#11149" class="Bound"
  >O</a
  ><a name="11150"
  > </a
  ><a name="11151" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11152"
  > </a
  ><a name="11153" href="Session.html#11153" class="Bound"
  >T</a
  ><a name="11154"
  > </a
  ><a name="11155" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11156"
  > </a
  ><a name="11157" href="Session.html#11157" class="Bound"
  >o</a
  ><a name="11158"
  > </a
  ><a name="11159" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11160"
  > </a
  ><a name="11161" href="Session.html#11161" class="Bound"
  >s</a
  ><a name="11162"
  > </a
  ><a name="11163" class="Symbol"
  >=</a
  ><a name="11164"
  > </a
  ><a name="11165" href="Session.html#11128" class="Bound"
  >W</a
  ><a name="11166"
  > </a
  ><a name="11167" class="Keyword"
  >in</a
  ><a name="11169"
  >
         </a
  ><a name="11179" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11180"
  > </a
  ><a name="11181" class="Symbol"
  >((</a
  ><a name="11183" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="11184"
  > </a
  ><a name="11185" href="Session.html#11161" class="Bound"
  >s</a
  ><a name="11186"
  > </a
  ><a name="11187" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11188"
  > </a
  ><a name="11189" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="11191"
  > </a
  ><a name="11192" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="11194"
  > </a
  ><a name="11195" href="Session.html#11153" class="Bound"
  >T</a
  ><a name="11196" class="Symbol"
  >)</a
  ><a name="11197"
  > </a
  ><a name="11198" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="11199"
  > </a
  ><a name="11200" href="Session.html#11068" class="Bound"
  >&#915;</a
  ><a name="11201" class="Symbol"
  >)</a
  ><a name="11202"
  >
            </a
  ><a name="11215" class="Symbol"
  >(</a
  ><a name="11216" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >_&#8801;_</a
  ><a name="11219"
  > </a
  ><a name="11220" href="Session.html#11070" class="Bound"
  >&#916;</a
  ><a name="11221"
  > </a
  ><a name="11222" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="11223"
  > </a
  ><a name="11224" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="11226"
  > </a
  ><a name="11227" class="Symbol"
  >(</a
  ><a name="11228" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="11229"
  > </a
  ><a name="11230" href="Session.html#11161" class="Bound"
  >s</a
  ><a name="11231"
  > </a
  ><a name="11232" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11233"
  > </a
  ><a name="11234" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="11236"
  > </a
  ><a name="11237" href="Session.html#11153" class="Bound"
  >T</a
  ><a name="11238"
  > </a
  ><a name="11239" href="Session.html#11157" class="Bound"
  >o</a
  ><a name="11240" class="Symbol"
  >))</a
  ><a name="11242"
  ></pre>
<p>Session types have &quot;identity&quot; codes <code>`I</code> as leaves, so to end a session we need to consume it and remove the type from the context.</p>
<pre></a
  ><a name="11405" href="Session.html#11405" class="Function"
  >End</a
  ><a name="11408"
  > </a
  ><a name="11409" class="Symbol"
  >:</a
  ><a name="11410"
  > </a
  ><a name="11411" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="11413"
  >
</a
  ><a name="11414" href="Session.html#11405" class="Function"
  >End</a
  ><a name="11417"
  > </a
  ><a name="11418" href="Session.html#11418" class="Bound"
  >&#915;</a
  ><a name="11419"
  > </a
  ><a name="11420" href="Session.html#11420" class="Bound"
  >&#916;</a
  ><a name="11421"
  > </a
  ><a name="11422" class="Symbol"
  >=</a
  ><a name="11423"
  > </a
  ><a name="11424" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11425"
  > </a
  ><a name="11426" class="Symbol"
  >(</a
  ><a name="11427" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11428"
  > </a
  ><a name="11429" class="PrimitiveType"
  >Set</a
  ><a name="11432"
  > </a
  ><a name="11433" class="Symbol"
  >&#955;</a
  ><a name="11434"
  > </a
  ><a name="11435" href="Session.html#11435" class="Bound"
  >I</a
  ><a name="11436"
  > </a
  ><a name="11437" class="Symbol"
  >&#8594;</a
  ><a name="11438"
  > </a
  ><a name="11439" class="PrimitiveType"
  >Set</a
  ><a name="11442"
  > </a
  ><a name="11443" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="11444"
  > </a
  ><a name="11445" href="Session.html#11435" class="Bound"
  >I</a
  ><a name="11446"
  > </a
  ><a name="11447" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="11448"
  > </a
  ><a name="11449" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="11453" class="Symbol"
  >)</a
  ><a name="11454"
  > </a
  ><a name="11455" class="Symbol"
  >&#955;</a
  ><a name="11456"
  > </a
  ><a name="11457" href="Session.html#11457" class="Bound"
  >W</a
  ><a name="11458"
  > </a
  ><a name="11459" class="Symbol"
  >&#8594;</a
  ><a name="11460"
  >
          </a
  ><a name="11471" class="Keyword"
  >let</a
  ><a name="11474"
  > </a
  ><a name="11475" href="Session.html#11475" class="Bound"
  >I</a
  ><a name="11476"
  > </a
  ><a name="11477" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11478"
  > </a
  ><a name="11479" href="Session.html#11479" class="Bound"
  >O</a
  ><a name="11480"
  > </a
  ><a name="11481" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11482"
  > </a
  ><a name="11483" href="Session.html#11483" class="Bound"
  >i</a
  ><a name="11484"
  > </a
  ><a name="11485" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11486"
  > </a
  ><a name="11487" href="Session.html#11487" class="Bound"
  >s</a
  ><a name="11488"
  > </a
  ><a name="11489" class="Symbol"
  >=</a
  ><a name="11490"
  > </a
  ><a name="11491" href="Session.html#11457" class="Bound"
  >W</a
  ><a name="11492"
  > </a
  ><a name="11493" class="Keyword"
  >in</a
  ><a name="11495"
  >
          </a
  ><a name="11506" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11507"
  > </a
  ><a name="11508" class="Symbol"
  >((</a
  ><a name="11510" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="11511"
  > </a
  ><a name="11512" href="Session.html#11487" class="Bound"
  >s</a
  ><a name="11513"
  > </a
  ><a name="11514" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11515"
  > </a
  ><a name="11516" class="Symbol"
  >(</a
  ><a name="11517" href="Session.html#11475" class="Bound"
  >I</a
  ><a name="11518"
  > </a
  ><a name="11519" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11520"
  > </a
  ><a name="11521" href="Session.html#11479" class="Bound"
  >O</a
  ><a name="11522"
  > </a
  ><a name="11523" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11524"
  > </a
  ><a name="11525" href="Session.html#3831" class="InductiveConstructor"
  >`I</a
  ><a name="11527"
  > </a
  ><a name="11528" href="Session.html#11483" class="Bound"
  >i</a
  ><a name="11529" class="Symbol"
  >))</a
  ><a name="11531"
  > </a
  ><a name="11532" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="11533"
  > </a
  ><a name="11534" href="Session.html#11418" class="Bound"
  >&#915;</a
  ><a name="11535" class="Symbol"
  >)</a
  ><a name="11536"
  >
            </a
  ><a name="11549" class="Symbol"
  >(</a
  ><a name="11550" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >_&#8801;_</a
  ><a name="11553"
  > </a
  ><a name="11554" href="Session.html#11420" class="Bound"
  >&#916;</a
  ><a name="11555"
  > </a
  ><a name="11556" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="11557"
  > </a
  ><a name="11558" href="Session.Base.html#3041" class="Function"
  >rm</a
  ><a name="11560" class="Symbol"
  >)</a
  ><a name="11561"
  ></pre>
<p>The following definitions are actual (strictly positive) indexed functors: calls to the <code>F</code> argument correspond to recursion in the grammar.</p>
<p>When forking, we need to split the input context sensibly (see <code>Splits</code> above): the child must do <em>all</em> <code>ΓR</code>, the continuation must do <code>ΓL</code>.</p>
<pre></a
  ><a name="11871" href="Session.html#11871" class="Function"
  >Fork</a
  ><a name="11875"
  > </a
  ><a name="11876" class="Symbol"
  >:</a
  ><a name="11877"
  > </a
  ><a name="11878" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="11880"
  > </a
  ><a name="11881" class="Symbol"
  >&#8594;</a
  ><a name="11882"
  > </a
  ><a name="11883" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="11885"
  >
</a
  ><a name="11886" href="Session.html#11871" class="Function"
  >Fork</a
  ><a name="11890"
  > </a
  ><a name="11891" href="Session.html#11891" class="Bound"
  >F</a
  ><a name="11892"
  > </a
  ><a name="11893" href="Session.html#11893" class="Bound"
  >&#915;</a
  ><a name="11894"
  > </a
  ><a name="11895" href="Session.html#11895" class="Bound"
  >&#916;</a
  ><a name="11896"
  > </a
  ><a name="11897" class="Symbol"
  >=</a
  ><a name="11898"
  > </a
  ><a name="11899" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="11900"
  > </a
  ><a name="11901" class="Symbol"
  >(</a
  ><a name="11902" href="Session.html#7242" class="Function"
  >Splits</a
  ><a name="11908"
  > </a
  ><a name="11909" href="Session.html#11893" class="Bound"
  >&#915;</a
  ><a name="11910" class="Symbol"
  >)</a
  ><a name="11911"
  > </a
  ><a name="11912" class="Symbol"
  >&#955;</a
  ><a name="11913"
  > </a
  ><a name="11914" href="Session.html#11914" class="Bound"
  >ds</a
  ><a name="11916"
  > </a
  ><a name="11917" class="Symbol"
  >&#8594;</a
  ><a name="11918"
  >
             </a
  ><a name="11932" class="Keyword"
  >let</a
  ><a name="11935"
  > </a
  ><a name="11936" href="Session.html#11936" class="Bound"
  >&#915;L</a
  ><a name="11938"
  > </a
  ><a name="11939" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="11940"
  > </a
  ><a name="11941" href="Session.html#11941" class="Bound"
  >&#915;R</a
  ><a name="11943"
  > </a
  ><a name="11944" class="Symbol"
  >=</a
  ><a name="11945"
  > </a
  ><a name="11946" href="Session.html#7283" class="Function"
  >splits</a
  ><a name="11952"
  > </a
  ><a name="11953" href="Session.html#11914" class="Bound"
  >ds</a
  ><a name="11955"
  > </a
  ><a name="11956" class="Keyword"
  >in</a
  ><a name="11958"
  >
               </a
  ><a name="11974" href="Session.html#11891" class="Bound"
  >F</a
  ><a name="11975"
  > </a
  ><a name="11976" href="Session.html#11941" class="Bound"
  >&#915;R</a
  ><a name="11978"
  > </a
  ><a name="11979" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="11981"
  >
             </a
  ><a name="11995" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="11996"
  > </a
  ><a name="11997" href="Session.html#11895" class="Bound"
  >&#916;</a
  ><a name="11998"
  > </a
  ><a name="11999" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="12000"
  > </a
  ><a name="12001" href="Session.html#11936" class="Bound"
  >&#915;L</a
  ><a name="12003"
  ></pre>
<p>A server process can only be launched in a context where it is possible to duplicate all channels.</p>
<p>The server is located on the <code>+</code> side of the channel.</p>
<pre></a
  ><a name="12184" href="Session.html#12184" class="Function"
  >Server</a
  ><a name="12190"
  > </a
  ><a name="12191" class="Symbol"
  >:</a
  ><a name="12192"
  > </a
  ><a name="12193" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="12195"
  > </a
  ><a name="12196" class="Symbol"
  >&#8594;</a
  ><a name="12197"
  > </a
  ><a name="12198" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="12200"
  >
</a
  ><a name="12201" href="Session.html#12184" class="Function"
  >Server</a
  ><a name="12207"
  > </a
  ><a name="12208" href="Session.html#12208" class="Bound"
  >F</a
  ><a name="12209"
  > </a
  ><a name="12210" href="Session.html#12210" class="Bound"
  >&#915;</a
  ><a name="12211"
  > </a
  ><a name="12212" href="Session.html#12212" class="Bound"
  >&#916;</a
  ><a name="12213"
  > </a
  ><a name="12214" class="Symbol"
  >=</a
  ><a name="12215"
  > </a
  ><a name="12216" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="12217"
  > </a
  ><a name="12218" class="Symbol"
  >(</a
  ><a name="12219" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="12223"
  > </a
  ><a name="12224" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12225"
  > </a
  ><a name="12226" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="12230"
  > </a
  ><a name="12231" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12232"
  > </a
  ><a name="12233" class="Symbol"
  >_)</a
  ><a name="12235"
  > </a
  ><a name="12236" class="Symbol"
  >&#955;</a
  ><a name="12237"
  > </a
  ><a name="12238" href="Session.html#12238" class="Bound"
  >W</a
  ><a name="12239"
  > </a
  ><a name="12240" class="Symbol"
  >&#8594;</a
  ><a name="12241"
  > </a
  ><a name="12242" class="Keyword"
  >let</a
  ><a name="12245"
  > </a
  ><a name="12246" href="Session.html#12246" class="Bound"
  >A</a
  ><a name="12247"
  > </a
  ><a name="12248" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12249"
  > </a
  ><a name="12250" href="Session.html#12250" class="Bound"
  >s</a
  ><a name="12251"
  > </a
  ><a name="12252" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12253"
  > </a
  ><a name="12254" href="Session.html#12254" class="Bound"
  >I</a
  ><a name="12255"
  > </a
  ><a name="12256" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12257"
  > </a
  ><a name="12258" href="Session.html#12258" class="Bound"
  >O</a
  ><a name="12259"
  > </a
  ><a name="12260" class="Symbol"
  >=</a
  ><a name="12261"
  > </a
  ><a name="12262" href="Session.html#12238" class="Bound"
  >W</a
  ><a name="12263"
  > </a
  ><a name="12264" class="Keyword"
  >in</a
  ><a name="12266"
  >
               </a
  ><a name="12282" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="12283"
  > </a
  ><a name="12284" class="Symbol"
  >((</a
  ><a name="12286" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="12287"
  > </a
  ><a name="12288" href="Session.html#12250" class="Bound"
  >s</a
  ><a name="12289"
  > </a
  ><a name="12290" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12291"
  > </a
  ><a name="12292" href="Session.html#12254" class="Bound"
  >I</a
  ><a name="12293"
  > </a
  ><a name="12294" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12295"
  > </a
  ><a name="12296" href="Session.html#12258" class="Bound"
  >O</a
  ><a name="12297"
  > </a
  ><a name="12298" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12299"
  > </a
  ><a name="12300" href="Session.html#5333" class="Function Operator"
  >[</a
  ><a name="12301"
  > </a
  ><a name="12302" href="Session.html#12250" class="Bound"
  >s</a
  ><a name="12303"
  > </a
  ><a name="12304" href="Session.html#5333" class="Function Operator"
  >]&#161;</a
  ><a name="12306"
  > </a
  ><a name="12307" href="Session.html#12246" class="Bound"
  >A</a
  ><a name="12308" class="Symbol"
  >)</a
  ><a name="12309"
  > </a
  ><a name="12310" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="12311"
  > </a
  ><a name="12312" href="Session.html#12210" class="Bound"
  >&#915;</a
  ><a name="12313" class="Symbol"
  >)</a
  ><a name="12314"
  > </a
  ><a name="12315" class="Symbol"
  >&#955;</a
  ><a name="12316"
  > </a
  ><a name="12317" href="Session.html#12317" class="Bound"
  >i</a
  ><a name="12318"
  > </a
  ><a name="12319" class="Symbol"
  >&#8594;</a
  ><a name="12320"
  >
                 </a
  ><a name="12338" href="Session.html#6377" class="Function"
  >All&#191;</a
  ><a name="12342"
  > </a
  ><a name="12343" href="Session.html#12212" class="Bound"
  >&#916;</a
  ><a name="12344"
  >
               </a
  ><a name="12360" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12361"
  > </a
  ><a name="12362" href="Session.html#12208" class="Bound"
  >F</a
  ><a name="12363"
  > </a
  ><a name="12364" class="Symbol"
  >(</a
  ><a name="12365" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="12367"
  > </a
  ><a name="12368" class="Symbol"
  >(</a
  ><a name="12369" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="12370"
  > </a
  ><a name="12371" href="Session.Base.html#4879" class="InductiveConstructor"
  >+</a
  ><a name="12372"
  > </a
  ><a name="12373" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12374"
  > </a
  ><a name="12375" href="Session.html#12246" class="Bound"
  >A</a
  ><a name="12376" class="Symbol"
  >)</a
  ><a name="12377"
  > </a
  ><a name="12378" href="Session.html#12317" class="Bound"
  >i</a
  ><a name="12379" class="Symbol"
  >)</a
  ><a name="12380"
  > </a
  ><a name="12381" href="Session.html#12212" class="Bound"
  >&#916;</a
  ><a name="12382"
  >
               </a
  ><a name="12398" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12399"
  > </a
  ><a name="12400" href="Session.html#12212" class="Bound"
  >&#916;</a
  ><a name="12401"
  > </a
  ><a name="12402" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="12403"
  > </a
  ><a name="12404" href="Session.Base.html#3041" class="Function"
  >rm</a
  ><a name="12406"
  > </a
  ><a name="12407" href="Session.html#12317" class="Bound"
  >i</a
  ><a name="12408"
  ></pre>
<p>The client is positioned on the <code>-</code> side of the channel.</p>
<p>In this case execution is synchronous: we account for the fact that the client might also interact on some other channels by passing <code>Δ</code> to <code>F</code>.</p>
<pre></a
  ><a name="12638" href="Session.html#12638" class="Function"
  >Client</a
  ><a name="12644"
  > </a
  ><a name="12645" class="Symbol"
  >:</a
  ><a name="12646"
  > </a
  ><a name="12647" class="Symbol"
  >(</a
  ><a name="12648" class="PrimitiveType"
  >Set</a
  ><a name="12651"
  > </a
  ><a name="12652" class="Symbol"
  >&#8594;</a
  ><a name="12653"
  > </a
  ><a name="12654" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="12656" class="Symbol"
  >)</a
  ><a name="12657"
  > </a
  ><a name="12658" class="Symbol"
  >&#8594;</a
  ><a name="12659"
  > </a
  ><a name="12660" class="PrimitiveType"
  >Set</a
  ><a name="12663"
  > </a
  ><a name="12664" class="Symbol"
  >&#8594;</a
  ><a name="12665"
  > </a
  ><a name="12666" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="12668"
  >
</a
  ><a name="12669" href="Session.html#12638" class="Function"
  >Client</a
  ><a name="12675"
  > </a
  ><a name="12676" href="Session.html#12676" class="Bound"
  >F</a
  ><a name="12677"
  > </a
  ><a name="12678" href="Session.html#12678" class="Bound"
  >X</a
  ><a name="12679"
  > </a
  ><a name="12680" href="Session.html#12680" class="Bound"
  >&#915;</a
  ><a name="12681"
  > </a
  ><a name="12682" href="Session.html#12682" class="Bound"
  >&#916;</a
  ><a name="12683"
  > </a
  ><a name="12684" class="Symbol"
  >=</a
  ><a name="12685"
  > </a
  ><a name="12686" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="12687"
  > </a
  ><a name="12688" class="Symbol"
  >(</a
  ><a name="12689" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="12693"
  > </a
  ><a name="12694" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12695"
  > </a
  ><a name="12696" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="12700"
  > </a
  ><a name="12701" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12702"
  > </a
  ><a name="12703" class="Symbol"
  >_)</a
  ><a name="12705"
  > </a
  ><a name="12706" class="Symbol"
  >&#955;</a
  ><a name="12707"
  > </a
  ><a name="12708" href="Session.html#12708" class="Bound"
  >W</a
  ><a name="12709"
  > </a
  ><a name="12710" class="Symbol"
  >&#8594;</a
  ><a name="12711"
  > </a
  ><a name="12712" class="Keyword"
  >let</a
  ><a name="12715"
  > </a
  ><a name="12716" href="Session.html#12716" class="Bound"
  >A</a
  ><a name="12717"
  > </a
  ><a name="12718" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12719"
  > </a
  ><a name="12720" href="Session.html#12720" class="Bound"
  >s</a
  ><a name="12721"
  > </a
  ><a name="12722" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12723"
  > </a
  ><a name="12724" href="Session.html#12724" class="Bound"
  >I</a
  ><a name="12725"
  > </a
  ><a name="12726" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12727"
  > </a
  ><a name="12728" href="Session.html#12728" class="Bound"
  >O</a
  ><a name="12729"
  > </a
  ><a name="12730" class="Symbol"
  >=</a
  ><a name="12731"
  > </a
  ><a name="12732" href="Session.html#12708" class="Bound"
  >W</a
  ><a name="12733"
  > </a
  ><a name="12734" class="Keyword"
  >in</a
  ><a name="12736"
  >
                 </a
  ><a name="12754" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="12755"
  > </a
  ><a name="12756" class="Symbol"
  >((</a
  ><a name="12758" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="12759"
  > </a
  ><a name="12760" href="Session.html#12720" class="Bound"
  >s</a
  ><a name="12761"
  > </a
  ><a name="12762" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12763"
  > </a
  ><a name="12764" href="Session.html#12724" class="Bound"
  >I</a
  ><a name="12765"
  > </a
  ><a name="12766" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12767"
  > </a
  ><a name="12768" href="Session.html#12728" class="Bound"
  >O</a
  ><a name="12769"
  > </a
  ><a name="12770" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12771"
  > </a
  ><a name="12772" href="Session.html#5340" class="Function Operator"
  >[</a
  ><a name="12773"
  > </a
  ><a name="12774" href="Session.html#12720" class="Bound"
  >s</a
  ><a name="12775"
  > </a
  ><a name="12776" href="Session.html#5340" class="Function Operator"
  >]&#191;</a
  ><a name="12778"
  > </a
  ><a name="12779" href="Session.html#12716" class="Bound"
  >A</a
  ><a name="12780" class="Symbol"
  >)</a
  ><a name="12781"
  > </a
  ><a name="12782" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="12783"
  > </a
  ><a name="12784" href="Session.html#12680" class="Bound"
  >&#915;</a
  ><a name="12785" class="Symbol"
  >)</a
  ><a name="12786"
  > </a
  ><a name="12787" class="Symbol"
  >&#955;</a
  ><a name="12788"
  > </a
  ><a name="12789" href="Session.html#12789" class="Bound"
  >i</a
  ><a name="12790"
  > </a
  ><a name="12791" class="Symbol"
  >&#8594;</a
  ><a name="12792"
  >
                   </a
  ><a name="12812" href="Session.html#12676" class="Bound"
  >F</a
  ><a name="12813"
  > </a
  ><a name="12814" href="Session.html#12678" class="Bound"
  >X</a
  ><a name="12815"
  > </a
  ><a name="12816" class="Symbol"
  >(</a
  ><a name="12817" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="12819"
  > </a
  ><a name="12820" class="Symbol"
  >(</a
  ><a name="12821" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="12822"
  > </a
  ><a name="12823" href="Session.Base.html#4881" class="InductiveConstructor"
  >-</a
  ><a name="12824"
  > </a
  ><a name="12825" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="12826"
  > </a
  ><a name="12827" href="Session.html#12716" class="Bound"
  >A</a
  ><a name="12828" class="Symbol"
  >)</a
  ><a name="12829"
  > </a
  ><a name="12830" href="Session.html#12789" class="Bound"
  >i</a
  ><a name="12831" class="Symbol"
  >)</a
  ><a name="12832"
  > </a
  ><a name="12833" href="Session.html#12682" class="Bound"
  >&#916;</a
  ><a name="12834"
  ></pre>
<p>We are free to run clients as many times as we want (<code>Ctr</code>), or even refrain from doing so (<code>Wk</code>).</p>
<pre></a
  ><a name="12960" href="Session.html#12960" class="Function"
  >Wk</a
  ><a name="12962"
  > </a
  ><a name="12963" href="Session.html#12963" class="Function"
  >Ctr</a
  ><a name="12966"
  > </a
  ><a name="12967" class="Symbol"
  >:</a
  ><a name="12968"
  > </a
  ><a name="12969" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="12971"
  >
</a
  ><a name="12972" href="Session.html#12960" class="Function"
  >Wk</a
  ><a name="12974"
  > </a
  ><a name="12975" href="Session.html#12975" class="Bound"
  >&#915;</a
  ><a name="12976"
  > </a
  ><a name="12977" href="Session.html#12977" class="Bound"
  >&#916;</a
  ><a name="12978"
  > </a
  ><a name="12979" class="Symbol"
  >=</a
  ><a name="12980"
  > </a
  ><a name="12981" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="12982"
  > </a
  ><a name="12983" class="Symbol"
  >(</a
  ><a name="12984" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="12988"
  > </a
  ><a name="12989" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12990"
  > </a
  ><a name="12991" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="12995"
  > </a
  ><a name="12996" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="12997"
  > </a
  ><a name="12998" class="Symbol"
  >_)</a
  ><a name="13000"
  > </a
  ><a name="13001" class="Symbol"
  >&#955;</a
  ><a name="13002"
  > </a
  ><a name="13003" href="Session.html#13003" class="Bound"
  >W</a
  ><a name="13004"
  > </a
  ><a name="13005" class="Symbol"
  >&#8594;</a
  ><a name="13006"
  >
         </a
  ><a name="13016" class="Keyword"
  >let</a
  ><a name="13019"
  > </a
  ><a name="13020" href="Session.html#13020" class="Bound"
  >A</a
  ><a name="13021"
  > </a
  ><a name="13022" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13023"
  > </a
  ><a name="13024" href="Session.html#13024" class="Bound"
  >s</a
  ><a name="13025"
  > </a
  ><a name="13026" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13027"
  > </a
  ><a name="13028" href="Session.html#13028" class="Bound"
  >I</a
  ><a name="13029"
  > </a
  ><a name="13030" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13031"
  > </a
  ><a name="13032" href="Session.html#13032" class="Bound"
  >O</a
  ><a name="13033"
  > </a
  ><a name="13034" class="Symbol"
  >=</a
  ><a name="13035"
  > </a
  ><a name="13036" href="Session.html#13003" class="Bound"
  >W</a
  ><a name="13037"
  > </a
  ><a name="13038" class="Keyword"
  >in</a
  ><a name="13040"
  >
         </a
  ><a name="13050" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="13051"
  > </a
  ><a name="13052" class="Symbol"
  >((</a
  ><a name="13054" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="13055"
  > </a
  ><a name="13056" href="Session.html#13024" class="Bound"
  >s</a
  ><a name="13057"
  > </a
  ><a name="13058" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13059"
  > </a
  ><a name="13060" href="Session.html#13028" class="Bound"
  >I</a
  ><a name="13061"
  > </a
  ><a name="13062" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13063"
  > </a
  ><a name="13064" href="Session.html#13032" class="Bound"
  >O</a
  ><a name="13065"
  > </a
  ><a name="13066" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13067"
  > </a
  ><a name="13068" href="Session.html#5340" class="Function Operator"
  >[</a
  ><a name="13069"
  > </a
  ><a name="13070" href="Session.html#13024" class="Bound"
  >s</a
  ><a name="13071"
  > </a
  ><a name="13072" href="Session.html#5340" class="Function Operator"
  >]&#191;</a
  ><a name="13074"
  > </a
  ><a name="13075" href="Session.html#13020" class="Bound"
  >A</a
  ><a name="13076" class="Symbol"
  >)</a
  ><a name="13077"
  > </a
  ><a name="13078" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="13079"
  > </a
  ><a name="13080" href="Session.html#12975" class="Bound"
  >&#915;</a
  ><a name="13081" class="Symbol"
  >)</a
  ><a name="13082"
  >
           </a
  ><a name="13094" class="Symbol"
  >(</a
  ><a name="13095" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >_&#8801;_</a
  ><a name="13098"
  > </a
  ><a name="13099" href="Session.html#12977" class="Bound"
  >&#916;</a
  ><a name="13100"
  > </a
  ><a name="13101" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="13102"
  > </a
  ><a name="13103" href="Session.Base.html#3041" class="Function"
  >rm</a
  ><a name="13105" class="Symbol"
  >)</a
  ><a name="13106"
  >
</a
  ><a name="13107" href="Session.html#12963" class="Function"
  >Ctr</a
  ><a name="13110"
  > </a
  ><a name="13111" href="Session.html#13111" class="Bound"
  >&#915;</a
  ><a name="13112"
  > </a
  ><a name="13113" href="Session.html#13113" class="Bound"
  >&#916;</a
  ><a name="13114"
  > </a
  ><a name="13115" class="Symbol"
  >=</a
  ><a name="13116"
  > </a
  ><a name="13117" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="13118"
  > </a
  ><a name="13119" class="Symbol"
  >(</a
  ><a name="13120" href="Session.html#3685" class="Function"
  >Code</a
  ><a name="13124"
  > </a
  ><a name="13125" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="13126"
  > </a
  ><a name="13127" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="13131"
  > </a
  ><a name="13132" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="13133"
  > </a
  ><a name="13134" class="Symbol"
  >_)</a
  ><a name="13136"
  > </a
  ><a name="13137" class="Symbol"
  >&#955;</a
  ><a name="13138"
  > </a
  ><a name="13139" href="Session.html#13139" class="Bound"
  >W</a
  ><a name="13140"
  > </a
  ><a name="13141" class="Symbol"
  >&#8594;</a
  ><a name="13142"
  >
          </a
  ><a name="13153" class="Keyword"
  >let</a
  ><a name="13156"
  > </a
  ><a name="13157" href="Session.html#13157" class="Bound"
  >A</a
  ><a name="13158"
  > </a
  ><a name="13159" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13160"
  > </a
  ><a name="13161" href="Session.html#13161" class="Bound"
  >s</a
  ><a name="13162"
  > </a
  ><a name="13163" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13164"
  > </a
  ><a name="13165" href="Session.html#13165" class="Bound"
  >I</a
  ><a name="13166"
  > </a
  ><a name="13167" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13168"
  > </a
  ><a name="13169" href="Session.html#13169" class="Bound"
  >O</a
  ><a name="13170"
  > </a
  ><a name="13171" class="Symbol"
  >=</a
  ><a name="13172"
  > </a
  ><a name="13173" href="Session.html#13139" class="Bound"
  >W</a
  ><a name="13174"
  > </a
  ><a name="13175" class="Keyword"
  >in</a
  ><a name="13177"
  >
          </a
  ><a name="13188" class="Keyword"
  >let</a
  ><a name="13191"
  > </a
  ><a name="13192" href="Session.html#13192" class="Bound"
  >&#964;</a
  ><a name="13193"
  > </a
  ><a name="13194" class="Symbol"
  >=</a
  ><a name="13195"
  > </a
  ><a name="13196" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="13197"
  > </a
  ><a name="13198" href="Session.html#13161" class="Bound"
  >s</a
  ><a name="13199"
  > </a
  ><a name="13200" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13201"
  > </a
  ><a name="13202" href="Session.html#13165" class="Bound"
  >I</a
  ><a name="13203"
  > </a
  ><a name="13204" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13205"
  > </a
  ><a name="13206" href="Session.html#13169" class="Bound"
  >O</a
  ><a name="13207"
  > </a
  ><a name="13208" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13209"
  > </a
  ><a name="13210" href="Session.html#5340" class="Function Operator"
  >[</a
  ><a name="13211"
  > </a
  ><a name="13212" href="Session.html#13161" class="Bound"
  >s</a
  ><a name="13213"
  > </a
  ><a name="13214" href="Session.html#5340" class="Function Operator"
  >]&#191;</a
  ><a name="13216"
  > </a
  ><a name="13217" href="Session.html#13157" class="Bound"
  >A</a
  ><a name="13218"
  > </a
  ><a name="13219" class="Keyword"
  >in</a
  ><a name="13221"
  >
            </a
  ><a name="13234" href="Session.html#13192" class="Bound"
  >&#964;</a
  ><a name="13235"
  > </a
  ><a name="13236" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="13237"
  > </a
  ><a name="13238" href="Session.html#13111" class="Bound"
  >&#915;</a
  ><a name="13239"
  >
          </a
  ><a name="13250" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="13251"
  > </a
  ><a name="13252" href="Session.html#13113" class="Bound"
  >&#916;</a
  ><a name="13253"
  > </a
  ><a name="13254" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="13255"
  > </a
  ><a name="13256" href="Session.html#13111" class="Bound"
  >&#915;</a
  ><a name="13257"
  > </a
  ><a name="13258" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="13259"
  > </a
  ><a name="13260" href="Session.html#13192" class="Bound"
  >&#964;</a
  ><a name="13261"
  ></pre>
<p>To add corecursion, we must first define what we consider a <em>guarded</em> (hence, hopefully, <em>productive</em>) session.</p>
<pre></a
  ><a name="13400" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13407"
  > </a
  ><a name="13408" class="Symbol"
  >:</a
  ><a name="13409"
  > </a
  ><a name="13410" class="Symbol"
  >&#8704;</a
  ><a name="13411"
  > </a
  ><a name="13412" class="Symbol"
  >{</a
  ><a name="13413" href="Session.html#13413" class="Bound"
  >I</a
  ><a name="13414"
  > </a
  ><a name="13415" href="Session.html#13415" class="Bound"
  >O</a
  ><a name="13416" class="Symbol"
  >}</a
  ><a name="13417"
  > </a
  ><a name="13418" class="Symbol"
  >&#8594;</a
  ><a name="13419"
  > </a
  ><a name="13420" href="Session.html#13413" class="Bound"
  >I</a
  ><a name="13421"
  > </a
  ><a name="13422" href="Session.html#3752" class="Datatype Operator"
  >&#9657;</a
  ><a name="13423"
  > </a
  ><a name="13424" href="Session.html#13415" class="Bound"
  >O</a
  ><a name="13425"
  > </a
  ><a name="13426" class="Symbol"
  >&#8594;</a
  ><a name="13427"
  > </a
  ><a name="13428" class="PrimitiveType"
  >Set&#8321;</a
  ><a name="13432"
  >
</a
  ><a name="13433" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13440"
  > </a
  ><a name="13441" class="Symbol"
  >(</a
  ><a name="13442" href="Session.html#3831" class="InductiveConstructor"
  >`I</a
  ><a name="13444"
  > </a
  ><a name="13445" href="Session.html#13445" class="Bound"
  >i</a
  ><a name="13446"
  >    </a
  ><a name="13450" class="Symbol"
  >)</a
  ><a name="13451"
  > </a
  ><a name="13452" class="Symbol"
  >=</a
  ><a name="13453"
  > </a
  ><a name="13454" href="Session.Base.html#168" class="Datatype"
  >&#8869;</a
  ><a name="13455"
  >
</a
  ><a name="13456" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13463"
  > </a
  ><a name="13464" class="Symbol"
  >(</a
  ><a name="13465" href="Session.html#3936" class="InductiveConstructor"
  >`&#931;</a
  ><a name="13467"
  > </a
  ><a name="13468" href="Session.html#13468" class="Bound"
  >S</a
  ><a name="13469"
  > </a
  ><a name="13470" href="Session.html#13470" class="Bound"
  >T</a
  ><a name="13471"
  >  </a
  ><a name="13473" class="Symbol"
  >)</a
  ><a name="13474"
  > </a
  ><a name="13475" class="Symbol"
  >=</a
  ><a name="13476"
  > </a
  ><a name="13477" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="13478"
  >
</a
  ><a name="13479" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13486"
  > </a
  ><a name="13487" class="Symbol"
  >(</a
  ><a name="13488" href="Session.html#3939" class="InductiveConstructor"
  >`&#928;</a
  ><a name="13490"
  > </a
  ><a name="13491" href="Session.html#13491" class="Bound"
  >S</a
  ><a name="13492"
  > </a
  ><a name="13493" href="Session.html#13493" class="Bound"
  >T</a
  ><a name="13494"
  >  </a
  ><a name="13496" class="Symbol"
  >)</a
  ><a name="13497"
  > </a
  ><a name="13498" class="Symbol"
  >=</a
  ><a name="13499"
  > </a
  ><a name="13500" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="13501"
  >
</a
  ><a name="13502" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13509"
  > </a
  ><a name="13510" class="Symbol"
  >(</a
  ><a name="13511" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="13513"
  > </a
  ><a name="13514" href="Session.html#13514" class="Bound"
  >T</a
  ><a name="13515"
  >    </a
  ><a name="13519" class="Symbol"
  >)</a
  ><a name="13520"
  > </a
  ><a name="13521" class="Symbol"
  >=</a
  ><a name="13522"
  > </a
  ><a name="13523" class="Symbol"
  >&#8704;</a
  ><a name="13524"
  > </a
  ><a name="13525" href="Session.html#13525" class="Bound"
  >s</a
  ><a name="13526"
  > </a
  ><a name="13527" class="Symbol"
  >&#8594;</a
  ><a name="13528"
  > </a
  ><a name="13529" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13536"
  > </a
  ><a name="13537" class="Symbol"
  >(</a
  ><a name="13538" href="Session.html#13514" class="Bound"
  >T</a
  ><a name="13539"
  > </a
  ><a name="13540" href="Session.html#13525" class="Bound"
  >s</a
  ><a name="13541" class="Symbol"
  >)</a
  ><a name="13542"
  >
</a
  ><a name="13543" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13550"
  > </a
  ><a name="13551" class="Symbol"
  >(</a
  ><a name="13552" href="Session.html#8628" class="InductiveConstructor Operator"
  >%3</a
  ><a name="13554"
  > </a
  ><a name="13555" href="Session.html#13555" class="Bound"
  >L</a
  ><a name="13556"
  > </a
  ><a name="13557" href="Session.html#4165" class="InductiveConstructor Operator"
  >&#8855;</a
  ><a name="13558"
  > </a
  ><a name="13559" href="Session.html#13559" class="Bound"
  >R</a
  ><a name="13560" class="Symbol"
  >)</a
  ><a name="13561"
  > </a
  ><a name="13562" class="Symbol"
  >=</a
  ><a name="13563"
  > </a
  ><a name="13564" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13571"
  > </a
  ><a name="13572" href="Session.html#13559" class="Bound"
  >R</a
  ><a name="13573"
  >
</a
  ><a name="13574" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13581"
  > </a
  ><a name="13582" class="Symbol"
  >(</a
  ><a name="13583" href="Session.html#8628" class="InductiveConstructor Operator"
  >%3</a
  ><a name="13585"
  > </a
  ><a name="13586" href="Session.html#13586" class="Bound"
  >L</a
  ><a name="13587"
  > </a
  ><a name="13588" href="Session.html#4169" class="InductiveConstructor Operator"
  >&#8523;</a
  ><a name="13589"
  > </a
  ><a name="13590" href="Session.html#13590" class="Bound"
  >R</a
  ><a name="13591" class="Symbol"
  >)</a
  ><a name="13592"
  > </a
  ><a name="13593" class="Symbol"
  >=</a
  ><a name="13594"
  > </a
  ><a name="13595" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13602"
  > </a
  ><a name="13603" href="Session.html#13590" class="Bound"
  >R</a
  ><a name="13604"
  >
</a
  ><a name="13605" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13612"
  > </a
  ><a name="13613" class="Symbol"
  >(</a
  ><a name="13614" href="Session.html#4263" class="InductiveConstructor Operator"
  >&#161;</a
  ><a name="13615"
  > </a
  ><a name="13616" href="Session.html#13616" class="Bound"
  >F</a
  ><a name="13617"
  >     </a
  ><a name="13622" class="Symbol"
  >)</a
  ><a name="13623"
  > </a
  ><a name="13624" class="Symbol"
  >=</a
  ><a name="13625"
  > </a
  ><a name="13626" href="Session.Base.html#168" class="Datatype"
  >&#8869;</a
  ><a name="13627"
  >
</a
  ><a name="13628" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13635"
  > </a
  ><a name="13636" class="Symbol"
  >(</a
  ><a name="13637" href="Session.html#4266" class="InductiveConstructor Operator"
  >&#191;</a
  ><a name="13638"
  > </a
  ><a name="13639" href="Session.html#13639" class="Bound"
  >F</a
  ><a name="13640"
  >     </a
  ><a name="13645" class="Symbol"
  >)</a
  ><a name="13646"
  > </a
  ><a name="13647" class="Symbol"
  >=</a
  ><a name="13648"
  > </a
  ><a name="13649" href="Session.Base.html#168" class="Datatype"
  >&#8869;</a
  ><a name="13650"
  >
</a
  ><a name="13651" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13658"
  > </a
  ><a name="13659" class="Symbol"
  >(</a
  ><a name="13660" href="Session.html#4353" class="InductiveConstructor"
  >`&#957;</a
  ><a name="13662"
  > </a
  ><a name="13663" href="Session.html#13663" class="Bound"
  >F</a
  ><a name="13664"
  > </a
  ><a name="13665" class="Symbol"
  >_</a
  ><a name="13666"
  >  </a
  ><a name="13668" class="Symbol"
  >)</a
  ><a name="13669"
  > </a
  ><a name="13670" class="Symbol"
  >=</a
  ><a name="13671"
  > </a
  ><a name="13672" class="Symbol"
  >&#8704;</a
  ><a name="13673"
  > </a
  ><a name="13674" href="Session.html#13674" class="Bound"
  >o</a
  ><a name="13675"
  > </a
  ><a name="13676" class="Symbol"
  >&#8594;</a
  ><a name="13677"
  > </a
  ><a name="13678" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="13685"
  > </a
  ><a name="13686" class="Symbol"
  >(</a
  ><a name="13687" href="Session.html#13663" class="Bound"
  >F</a
  ><a name="13688"
  > </a
  ><a name="13689" href="Session.html#13674" class="Bound"
  >o</a
  ><a name="13690" class="Symbol"
  >)</a
  ><a name="13691"
  ></pre>
<p>To provide syntax to productive nested loops that run for a possibly infinite amount of time, we use the following definition:</p>
<pre></a
  ><a name="13845" href="Session.html#13845" class="Function"
  >CoRec</a
  ><a name="13850"
  > </a
  ><a name="13851" class="Symbol"
  >:</a
  ><a name="13852"
  > </a
  ><a name="13853" class="Symbol"
  >(</a
  ><a name="13854" class="PrimitiveType"
  >Set</a
  ><a name="13857"
  > </a
  ><a name="13858" class="Symbol"
  >&#8594;</a
  ><a name="13859"
  > </a
  ><a name="13860" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="13862" class="Symbol"
  >)</a
  ><a name="13863"
  > </a
  ><a name="13864" class="Symbol"
  >&#8594;</a
  ><a name="13865"
  > </a
  ><a name="13866" class="PrimitiveType"
  >Set</a
  ><a name="13869"
  > </a
  ><a name="13870" class="Symbol"
  >&#8594;</a
  ><a name="13871"
  > </a
  ><a name="13872" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="13874"
  >
</a
  ><a name="13875" href="Session.html#13845" class="Function"
  >CoRec</a
  ><a name="13880"
  > </a
  ><a name="13881" href="Session.html#13881" class="Bound"
  >F</a
  ><a name="13882"
  > </a
  ><a name="13883" href="Session.html#13883" class="Bound"
  >X</a
  ><a name="13884"
  > </a
  ><a name="13885" href="Session.html#13885" class="Bound"
  >&#915;</a
  ><a name="13886"
  > </a
  ><a name="13887" href="Session.html#13887" class="Bound"
  >&#916;</a
  ><a name="13888"
  > </a
  ><a name="13889" class="Symbol"
  >=</a
  ><a name="13890"
  > </a
  ><a name="13891" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="13892"
  > </a
  ><a name="13893" class="Symbol"
  >(</a
  ><a name="13894" href="Session.Base.html#4862" class="Datatype"
  >Side</a
  ><a name="13898"
  > </a
  ><a name="13899" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="13900"
  > </a
  ><a name="13901" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="13902"
  > </a
  ><a name="13903" class="Symbol"
  >_</a
  ><a name="13904"
  > </a
  ><a name="13905" class="Symbol"
  >&#955;</a
  ><a name="13906"
  > </a
  ><a name="13907" href="Session.html#13907" class="Bound"
  >I</a
  ><a name="13908"
  > </a
  ><a name="13909" class="Symbol"
  >&#8594;</a
  ><a name="13910"
  > </a
  ><a name="13911" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="13912"
  > </a
  ><a name="13913" class="Symbol"
  >_</a
  ><a name="13914"
  > </a
  ><a name="13915" class="Symbol"
  >&#955;</a
  ><a name="13916"
  > </a
  ><a name="13917" href="Session.html#13917" class="Bound"
  >O</a
  ><a name="13918"
  > </a
  ><a name="13919" class="Symbol"
  >&#8594;</a
  ><a name="13920"
  > </a
  ><a name="13921" class="Symbol"
  >(</a
  ><a name="13922" href="Session.html#13917" class="Bound"
  >O</a
  ><a name="13923"
  > </a
  ><a name="13924" class="Symbol"
  >&#8594;</a
  ><a name="13925"
  > </a
  ><a name="13926" href="Session.html#3663" class="Function"
  >De</a
  ><a name="13928"
  > </a
  ><a name="13929" class="Symbol"
  >(</a
  ><a name="13930" href="Session.html#13907" class="Bound"
  >I</a
  ><a name="13931"
  > </a
  ><a name="13932" href="Data.Sum.html#404" class="Datatype Operator"
  >&#8846;</a
  ><a name="13933"
  > </a
  ><a name="13934" href="Session.html#13917" class="Bound"
  >O</a
  ><a name="13935" class="Symbol"
  >))</a
  ><a name="13937"
  > </a
  ><a name="13938" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="13939"
  > </a
  ><a name="13940" href="Session.html#13917" class="Bound"
  >O</a
  ><a name="13941" class="Symbol"
  >)</a
  ><a name="13942"
  > </a
  ><a name="13943" class="Symbol"
  >&#955;</a
  ><a name="13944"
  > </a
  ><a name="13945" href="Session.html#13945" class="Bound"
  >W</a
  ><a name="13946"
  > </a
  ><a name="13947" class="Symbol"
  >&#8594;</a
  ><a name="13948"
  >
                </a
  ><a name="13965" class="Keyword"
  >let</a
  ><a name="13968"
  > </a
  ><a name="13969" href="Session.html#13969" class="Bound"
  >s</a
  ><a name="13970"
  > </a
  ><a name="13971" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13972"
  > </a
  ><a name="13973" href="Session.html#13973" class="Bound"
  >I</a
  ><a name="13974"
  > </a
  ><a name="13975" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13976"
  > </a
  ><a name="13977" href="Session.html#13977" class="Bound"
  >O</a
  ><a name="13978"
  > </a
  ><a name="13979" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13980"
  > </a
  ><a name="13981" href="Session.html#13981" class="Bound"
  >T</a
  ><a name="13982"
  > </a
  ><a name="13983" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="13984"
  > </a
  ><a name="13985" href="Session.html#13985" class="Bound"
  >o</a
  ><a name="13986"
  > </a
  ><a name="13987" class="Symbol"
  >=</a
  ><a name="13988"
  > </a
  ><a name="13989" href="Session.html#13945" class="Bound"
  >W</a
  ><a name="13990"
  > </a
  ><a name="13991" class="Keyword"
  >in</a
  ><a name="13993"
  > 
                </a
  ><a name="14011" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="14012"
  > </a
  ><a name="14013" class="Symbol"
  >((</a
  ><a name="14015" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="14016"
  > </a
  ><a name="14017" href="Session.html#13969" class="Bound"
  >s</a
  ><a name="14018"
  > </a
  ><a name="14019" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="14020"
  > </a
  ><a name="14021" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="14023"
  > </a
  ><a name="14024" href="Session.html#4353" class="InductiveConstructor"
  >`&#957;</a
  ><a name="14026"
  > </a
  ><a name="14027" href="Session.html#13981" class="Bound"
  >T</a
  ><a name="14028"
  > </a
  ><a name="14029" href="Session.html#13985" class="Bound"
  >o</a
  ><a name="14030" class="Symbol"
  >)</a
  ><a name="14031"
  > </a
  ><a name="14032" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="14033"
  > </a
  ><a name="14034" href="Session.html#13885" class="Bound"
  >&#915;</a
  ><a name="14035" class="Symbol"
  >)</a
  ><a name="14036"
  > </a
  ><a name="14037" class="Symbol"
  >&#955;</a
  ><a name="14038"
  > </a
  ><a name="14039" href="Session.html#14039" class="Bound"
  >i</a
  ><a name="14040"
  > </a
  ><a name="14041" class="Symbol"
  >&#8594;</a
  ><a name="14042"
  >
                  </a
  ><a name="14061" class="Symbol"
  >((</a
  ><a name="14063" href="Session.html#14063" class="Bound"
  >o</a
  ><a name="14064"
  > </a
  ><a name="14065" class="Symbol"
  >:</a
  ><a name="14066"
  > </a
  ><a name="14067" href="Session.html#13977" class="Bound"
  >O</a
  ><a name="14068" class="Symbol"
  >)</a
  ><a name="14069"
  > </a
  ><a name="14070" class="Symbol"
  >&#8594;</a
  ><a name="14071"
  >   </a
  ><a name="14074" href="Session.html#13400" class="Function"
  >Guarded</a
  ><a name="14081"
  > </a
  ><a name="14082" class="Symbol"
  >(</a
  ><a name="14083" href="Session.html#13981" class="Bound"
  >T</a
  ><a name="14084"
  > </a
  ><a name="14085" href="Session.html#14063" class="Bound"
  >o</a
  ><a name="14086" class="Symbol"
  >)</a
  ><a name="14087"
  >
                             </a
  ><a name="14117" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="14118"
  > </a
  ><a name="14119" href="Session.html#13881" class="Bound"
  >F</a
  ><a name="14120"
  > </a
  ><a name="14121" class="Symbol"
  >(</a
  ><a name="14122" href="Session.html#13883" class="Bound"
  >X</a
  ><a name="14123"
  > </a
  ><a name="14124" href="Data.Sum.html#404" class="Datatype Operator"
  >&#8846;</a
  ><a name="14125"
  > </a
  ><a name="14126" href="Session.html#13977" class="Bound"
  >O</a
  ><a name="14127" class="Symbol"
  >)</a
  ><a name="14128"
  > </a
  ><a name="14129" class="Symbol"
  >(</a
  ><a name="14130" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="14132"
  > </a
  ><a name="14133" class="Symbol"
  >(</a
  ><a name="14134" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="14135"
  > </a
  ><a name="14136" href="Session.html#13969" class="Bound"
  >s</a
  ><a name="14137"
  > </a
  ><a name="14138" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="14139"
  > </a
  ><a name="14140" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="14142"
  > </a
  ><a name="14143" href="Session.html#13981" class="Bound"
  >T</a
  ><a name="14144"
  > </a
  ><a name="14145" href="Session.html#14063" class="Bound"
  >o</a
  ><a name="14146" class="Symbol"
  >)</a
  ><a name="14147"
  > </a
  ><a name="14148" href="Session.html#14039" class="Bound"
  >i</a
  ><a name="14149" class="Symbol"
  >)</a
  ><a name="14150"
  > </a
  ><a name="14151" href="Session.html#13887" class="Bound"
  >&#916;</a
  ><a name="14152" class="Symbol"
  >)</a
  ><a name="14153"
  >
                </a
  ><a name="14170" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="14171"
  > </a
  ><a name="14172" href="Session.html#13887" class="Bound"
  >&#916;</a
  ><a name="14173"
  > </a
  ><a name="14174" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="14175"
  > </a
  ><a name="14176" href="Session.Base.html#3041" class="Function"
  >rm</a
  ><a name="14178"
  > </a
  ><a name="14179" href="Session.html#14039" class="Bound"
  >i</a
  ><a name="14180"
  ></pre>
<h3 id="tags">Tags</h3>
<p>We adopt a &quot;tagful&quot; syntax, where nodes of the syntax tree are made of dependent pairs whose first component is of type <code>Tag</code>.</p>
<pre></a
  ><a name="14344" class="Keyword"
  >module</a
  ><a name="14350"
  > </a
  ><a name="14351" href="Session.html#14351" class="Module"
  >T</a
  ><a name="14352"
  > </a
  ><a name="14353" class="Keyword"
  >where</a
  ><a name="14358"
  >

  </a
  ><a name="14362" class="Keyword"
  >data</a
  ><a name="14366"
  > </a
  ><a name="14367" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14370"
  > </a
  ><a name="14371" class="Symbol"
  >:</a
  ><a name="14372"
  > </a
  ><a name="14373" class="PrimitiveType"
  >Set</a
  ><a name="14376"
  > </a
  ><a name="14377" class="Keyword"
  >where</a
  ><a name="14382"
  >
    </a
  ><a name="14387" href="Session.html#14387" class="InductiveConstructor"
  >new</a
  ><a name="14390"
  > </a
  ><a name="14391" href="Session.html#14391" class="InductiveConstructor"
  >fork</a
  ><a name="14395"
  >       </a
  ><a name="14402" class="Symbol"
  >:</a
  ><a name="14403"
  > </a
  ><a name="14404" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14407"
  >
    </a
  ><a name="14412" href="Session.html#14412" class="InductiveConstructor"
  >send</a
  ><a name="14416"
  > </a
  ><a name="14417" href="Session.html#14417" class="InductiveConstructor"
  >recv</a
  ><a name="14421"
  >      </a
  ><a name="14427" class="Symbol"
  >:</a
  ><a name="14428"
  > </a
  ><a name="14429" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14432"
  >
    </a
  ><a name="14437" href="Session.html#14437" class="InductiveConstructor"
  >!!</a
  ><a name="14439"
  > </a
  ><a name="14440" href="Session.html#14440" class="InductiveConstructor"
  >??</a
  ><a name="14442"
  > </a
  ><a name="14443" href="Session.html#14443" class="InductiveConstructor"
  >wk</a
  ><a name="14445"
  > </a
  ><a name="14446" href="Session.html#14446" class="InductiveConstructor"
  >ctr</a
  ><a name="14449"
  >   </a
  ><a name="14452" class="Symbol"
  >:</a
  ><a name="14453"
  > </a
  ><a name="14454" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14457"
  >
    </a
  ><a name="14462" href="Session.html#14462" class="InductiveConstructor"
  >corec</a
  ><a name="14467"
  >          </a
  ><a name="14477" class="Symbol"
  >:</a
  ><a name="14478"
  > </a
  ><a name="14479" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14482"
  >
    </a
  ><a name="14487" href="Session.html#14487" class="InductiveConstructor"
  >write</a
  ><a name="14492"
  > </a
  ><a name="14493" href="Session.html#14493" class="InductiveConstructor"
  >read</a
  ><a name="14497"
  >     </a
  ><a name="14502" class="Symbol"
  >:</a
  ><a name="14503"
  > </a
  ><a name="14504" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14507"
  >
    </a
  ><a name="14512" href="Session.html#14512" class="InductiveConstructor"
  >at</a
  ><a name="14514"
  >             </a
  ><a name="14527" class="Symbol"
  >:</a
  ><a name="14528"
  > </a
  ><a name="14529" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14532"
  >
    </a
  ><a name="14537" href="Session.html#14537" class="InductiveConstructor"
  >end</a
  ><a name="14540"
  >            </a
  ><a name="14552" class="Symbol"
  >:</a
  ><a name="14553"
  > </a
  ><a name="14554" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14557"
  >

</a
  ><a name="14559" class="Keyword"
  >open</a
  ><a name="14563"
  > </a
  ><a name="14564" href="Session.html#14351" class="Module"
  >T</a
  ><a name="14565"
  > </a
  ><a name="14566" class="Keyword"
  >using</a
  ><a name="14571"
  > </a
  ><a name="14572" class="Symbol"
  >(</a
  ><a name="14573"
  >Tag</a
  ><a name="14576" class="Symbol"
  >)</a
  ><a name="14577"
  ></pre>
<h3 id="the-tagged-family-of-functors">The tagged family of functors</h3>
<p>The type of the second component is given by the following family, which groups all the above functors.</p>
<pre></a
  ><a name="14743" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="14744"
  > </a
  ><a name="14745" class="Symbol"
  >:</a
  ><a name="14746"
  > </a
  ><a name="14747" href="Session.html#14367" class="Datatype"
  >Tag</a
  ><a name="14750"
  > </a
  ><a name="14751" class="Symbol"
  >&#8594;</a
  ><a name="14752"
  > </a
  ><a name="14753" class="Symbol"
  >(</a
  ><a name="14754" class="PrimitiveType"
  >Set</a
  ><a name="14757"
  > </a
  ><a name="14758" class="Symbol"
  >&#8594;</a
  ><a name="14759"
  > </a
  ><a name="14760" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="14762" class="Symbol"
  >)</a
  ><a name="14763"
  > </a
  ><a name="14764" class="Symbol"
  >&#8594;</a
  ><a name="14765"
  > </a
  ><a name="14766" class="PrimitiveType"
  >Set</a
  ><a name="14769"
  > </a
  ><a name="14770" class="Symbol"
  >&#8594;</a
  ><a name="14771"
  > </a
  ><a name="14772" href="Session.html#9388" class="Function"
  >Ty</a
  ><a name="14774"
  >
</a
  ><a name="14775" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="14776"
  > </a
  ><a name="14777" href="Session.html#14387" class="InductiveConstructor"
  >T.new</a
  ><a name="14782"
  >   </a
  ><a name="14785" href="Session.html#14785" class="Bound"
  >T</a
  ><a name="14786"
  > </a
  ><a name="14787" href="Session.html#14787" class="Bound"
  >X</a
  ><a name="14788"
  > </a
  ><a name="14789" href="Session.html#14789" class="Bound"
  >&#915;</a
  ><a name="14790"
  > </a
  ><a name="14791" href="Session.html#14791" class="Bound"
  >&#916;</a
  ><a name="14792"
  > </a
  ><a name="14793" class="Symbol"
  >=</a
  ><a name="14794"
  > </a
  ><a name="14795" href="Session.html#9621" class="Function"
  >New</a
  ><a name="14798"
  >          </a
  ><a name="14808" href="Session.html#14789" class="Bound"
  >&#915;</a
  ><a name="14809"
  > </a
  ><a name="14810" href="Session.html#14791" class="Bound"
  >&#916;</a
  ><a name="14811"
  >                 </a
  ><a name="14828" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="14829"
  > </a
  ><a name="14830" href="Session.html#14787" class="Bound"
  >X</a
  ><a name="14831"
  > </a
  ><a name="14832" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="14833"
  > </a
  ><a name="14834" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="14835"
  >
</a
  ><a name="14836" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="14837"
  > </a
  ><a name="14838" href="Session.html#14391" class="InductiveConstructor"
  >T.fork</a
  ><a name="14844"
  >  </a
  ><a name="14846" href="Session.html#14846" class="Bound"
  >T</a
  ><a name="14847"
  > </a
  ><a name="14848" href="Session.html#14848" class="Bound"
  >X</a
  ><a name="14849"
  > </a
  ><a name="14850" href="Session.html#14850" class="Bound"
  >&#915;</a
  ><a name="14851"
  > </a
  ><a name="14852" href="Session.html#14852" class="Bound"
  >&#916;</a
  ><a name="14853"
  > </a
  ><a name="14854" class="Symbol"
  >=</a
  ><a name="14855"
  > </a
  ><a name="14856" href="Session.html#11871" class="Function"
  >Fork</a
  ><a name="14860"
  >   </a
  ><a name="14863" class="Symbol"
  >(</a
  ><a name="14864" href="Session.html#14846" class="Bound"
  >T</a
  ><a name="14865"
  > </a
  ><a name="14866" href="Session.html#14848" class="Bound"
  >X</a
  ><a name="14867" class="Symbol"
  >)</a
  ><a name="14868"
  > </a
  ><a name="14869" href="Session.html#14850" class="Bound"
  >&#915;</a
  ><a name="14870"
  > </a
  ><a name="14871" href="Session.html#14852" class="Bound"
  >&#916;</a
  ><a name="14872"
  >                 </a
  ><a name="14889" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="14890"
  > </a
  ><a name="14891" href="Session.html#14848" class="Bound"
  >X</a
  ><a name="14892"
  > </a
  ><a name="14893" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="14894"
  > </a
  ><a name="14895" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="14896"
  >
</a
  ><a name="14897" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="14898"
  > </a
  ><a name="14899" href="Session.html#14412" class="InductiveConstructor"
  >T.send</a
  ><a name="14905"
  >  </a
  ><a name="14907" href="Session.html#14907" class="Bound"
  >T</a
  ><a name="14908"
  > </a
  ><a name="14909" href="Session.html#14909" class="Bound"
  >X</a
  ><a name="14910"
  > </a
  ><a name="14911" href="Session.html#14911" class="Bound"
  >&#915;</a
  ><a name="14912"
  > </a
  ><a name="14913" href="Session.html#14913" class="Bound"
  >&#916;</a
  ><a name="14914"
  > </a
  ><a name="14915" class="Symbol"
  >=</a
  ><a name="14916"
  > </a
  ><a name="14917" href="Session.html#9908" class="Function"
  >Send</a
  ><a name="14921"
  >         </a
  ><a name="14930" href="Session.html#14911" class="Bound"
  >&#915;</a
  ><a name="14931"
  > </a
  ><a name="14932" href="Session.html#14913" class="Bound"
  >&#916;</a
  ><a name="14933"
  >                 </a
  ><a name="14950" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="14951"
  > </a
  ><a name="14952" href="Session.html#14909" class="Bound"
  >X</a
  ><a name="14953"
  > </a
  ><a name="14954" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="14955"
  > </a
  ><a name="14956" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="14957"
  >
</a
  ><a name="14958" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="14959"
  > </a
  ><a name="14960" href="Session.html#14417" class="InductiveConstructor"
  >T.recv</a
  ><a name="14966"
  >  </a
  ><a name="14968" href="Session.html#14968" class="Bound"
  >T</a
  ><a name="14969"
  > </a
  ><a name="14970" href="Session.html#14970" class="Bound"
  >X</a
  ><a name="14971"
  > </a
  ><a name="14972" href="Session.html#14972" class="Bound"
  >&#915;</a
  ><a name="14973"
  > </a
  ><a name="14974" href="Session.html#14974" class="Bound"
  >&#916;</a
  ><a name="14975"
  > </a
  ><a name="14976" class="Symbol"
  >=</a
  ><a name="14977"
  > </a
  ><a name="14978" href="Session.html#9913" class="Function"
  >Receive</a
  ><a name="14985"
  >      </a
  ><a name="14991" href="Session.html#14972" class="Bound"
  >&#915;</a
  ><a name="14992"
  > </a
  ><a name="14993" href="Session.html#14974" class="Bound"
  >&#916;</a
  ><a name="14994"
  >                 </a
  ><a name="15011" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="15012"
  > </a
  ><a name="15013" href="Session.html#14970" class="Bound"
  >X</a
  ><a name="15014"
  > </a
  ><a name="15015" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15016"
  > </a
  ><a name="15017" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="15018"
  >
</a
  ><a name="15019" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15020"
  > </a
  ><a name="15021" href="Session.html#14437" class="InductiveConstructor"
  >T.!!</a
  ><a name="15025"
  >    </a
  ><a name="15029" href="Session.html#15029" class="Bound"
  >T</a
  ><a name="15030"
  > </a
  ><a name="15031" href="Session.html#15031" class="Bound"
  >X</a
  ><a name="15032"
  > </a
  ><a name="15033" href="Session.html#15033" class="Bound"
  >&#915;</a
  ><a name="15034"
  > </a
  ><a name="15035" href="Session.html#15035" class="Bound"
  >&#916;</a
  ><a name="15036"
  > </a
  ><a name="15037" class="Symbol"
  >=</a
  ><a name="15038"
  > </a
  ><a name="15039" href="Session.html#12184" class="Function"
  >Server</a
  ><a name="15045"
  > </a
  ><a name="15046" class="Symbol"
  >(</a
  ><a name="15047" href="Session.html#15029" class="Bound"
  >T</a
  ><a name="15048"
  > </a
  ><a name="15049" href="Session.html#15031" class="Bound"
  >X</a
  ><a name="15050" class="Symbol"
  >)</a
  ><a name="15051"
  > </a
  ><a name="15052" href="Session.html#15033" class="Bound"
  >&#915;</a
  ><a name="15053"
  > </a
  ><a name="15054" href="Session.html#15035" class="Bound"
  >&#916;</a
  ><a name="15055"
  >                 </a
  ><a name="15072" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="15073"
  > </a
  ><a name="15074" href="Session.html#15031" class="Bound"
  >X</a
  ><a name="15075"
  > </a
  ><a name="15076" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15077"
  > </a
  ><a name="15078" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="15079"
  >
</a
  ><a name="15080" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15081"
  > </a
  ><a name="15082" href="Session.html#14440" class="InductiveConstructor"
  >T.??</a
  ><a name="15086"
  >    </a
  ><a name="15090" href="Session.html#15090" class="Bound"
  >T</a
  ><a name="15091"
  > </a
  ><a name="15092" href="Session.html#15092" class="Bound"
  >X</a
  ><a name="15093"
  > </a
  ><a name="15094" href="Session.html#15094" class="Bound"
  >&#915;</a
  ><a name="15095"
  > </a
  ><a name="15096" href="Session.html#15096" class="Bound"
  >&#916;</a
  ><a name="15097"
  > </a
  ><a name="15098" class="Symbol"
  >=</a
  ><a name="15099"
  > </a
  ><a name="15100" href="Session.html#12638" class="Function"
  >Client</a
  ><a name="15106"
  >  </a
  ><a name="15108" href="Session.html#15090" class="Bound"
  >T</a
  ><a name="15109"
  > </a
  ><a name="15110" href="Session.html#15092" class="Bound"
  >X</a
  ><a name="15111"
  >  </a
  ><a name="15113" href="Session.html#15094" class="Bound"
  >&#915;</a
  ><a name="15114"
  > </a
  ><a name="15115" href="Session.html#15096" class="Bound"
  >&#916;</a
  ><a name="15116"
  >
</a
  ><a name="15117" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15118"
  > </a
  ><a name="15119" href="Session.html#14443" class="InductiveConstructor"
  >T.wk</a
  ><a name="15123"
  >    </a
  ><a name="15127" href="Session.html#15127" class="Bound"
  >T</a
  ><a name="15128"
  > </a
  ><a name="15129" href="Session.html#15129" class="Bound"
  >X</a
  ><a name="15130"
  > </a
  ><a name="15131" href="Session.html#15131" class="Bound"
  >&#915;</a
  ><a name="15132"
  > </a
  ><a name="15133" href="Session.html#15133" class="Bound"
  >&#916;</a
  ><a name="15134"
  > </a
  ><a name="15135" class="Symbol"
  >=</a
  ><a name="15136"
  > </a
  ><a name="15137" href="Session.html#12960" class="Function"
  >Wk</a
  ><a name="15139"
  >           </a
  ><a name="15150" href="Session.html#15131" class="Bound"
  >&#915;</a
  ><a name="15151"
  > </a
  ><a name="15152" href="Session.html#15133" class="Bound"
  >&#916;</a
  ><a name="15153"
  >                 </a
  ><a name="15170" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="15171"
  > </a
  ><a name="15172" href="Session.html#15129" class="Bound"
  >X</a
  ><a name="15173"
  > </a
  ><a name="15174" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15175"
  > </a
  ><a name="15176" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="15177"
  >
</a
  ><a name="15178" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15179"
  > </a
  ><a name="15180" href="Session.html#14446" class="InductiveConstructor"
  >T.ctr</a
  ><a name="15185"
  >   </a
  ><a name="15188" href="Session.html#15188" class="Bound"
  >T</a
  ><a name="15189"
  > </a
  ><a name="15190" href="Session.html#15190" class="Bound"
  >X</a
  ><a name="15191"
  > </a
  ><a name="15192" href="Session.html#15192" class="Bound"
  >&#915;</a
  ><a name="15193"
  > </a
  ><a name="15194" href="Session.html#15194" class="Bound"
  >&#916;</a
  ><a name="15195"
  > </a
  ><a name="15196" class="Symbol"
  >=</a
  ><a name="15197"
  > </a
  ><a name="15198" href="Session.html#12963" class="Function"
  >Ctr</a
  ><a name="15201"
  >          </a
  ><a name="15211" href="Session.html#15192" class="Bound"
  >&#915;</a
  ><a name="15212"
  > </a
  ><a name="15213" href="Session.html#15194" class="Bound"
  >&#916;</a
  ><a name="15214"
  >                 </a
  ><a name="15231" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="15232"
  > </a
  ><a name="15233" href="Session.html#15190" class="Bound"
  >X</a
  ><a name="15234"
  > </a
  ><a name="15235" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15236"
  > </a
  ><a name="15237" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="15238"
  >
</a
  ><a name="15239" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15240"
  > </a
  ><a name="15241" href="Session.html#14462" class="InductiveConstructor"
  >T.corec</a
  ><a name="15248"
  > </a
  ><a name="15249" href="Session.html#15249" class="Bound"
  >T</a
  ><a name="15250"
  > </a
  ><a name="15251" href="Session.html#15251" class="Bound"
  >X</a
  ><a name="15252"
  > </a
  ><a name="15253" href="Session.html#15253" class="Bound"
  >&#915;</a
  ><a name="15254"
  > </a
  ><a name="15255" href="Session.html#15255" class="Bound"
  >&#916;</a
  ><a name="15256"
  > </a
  ><a name="15257" class="Symbol"
  >=</a
  ><a name="15258"
  > </a
  ><a name="15259" href="Session.html#13845" class="Function"
  >CoRec</a
  ><a name="15264"
  >   </a
  ><a name="15267" href="Session.html#15249" class="Bound"
  >T</a
  ><a name="15268"
  > </a
  ><a name="15269" href="Session.html#15251" class="Bound"
  >X</a
  ><a name="15270"
  >  </a
  ><a name="15272" href="Session.html#15253" class="Bound"
  >&#915;</a
  ><a name="15273"
  > </a
  ><a name="15274" href="Session.html#15255" class="Bound"
  >&#916;</a
  ><a name="15275"
  >
</a
  ><a name="15276" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15277"
  > </a
  ><a name="15278" href="Session.html#14487" class="InductiveConstructor"
  >T.write</a
  ><a name="15285"
  > </a
  ><a name="15286" href="Session.html#15286" class="Bound"
  >T</a
  ><a name="15287"
  > </a
  ><a name="15288" href="Session.html#15288" class="Bound"
  >X</a
  ><a name="15289"
  > </a
  ><a name="15290" href="Session.html#15290" class="Bound"
  >&#915;</a
  ><a name="15291"
  > </a
  ><a name="15292" href="Session.html#15292" class="Bound"
  >&#916;</a
  ><a name="15293"
  > </a
  ><a name="15294" class="Symbol"
  >=</a
  ><a name="15295"
  > </a
  ><a name="15296" href="Session.html#10461" class="Function"
  >Write</a
  ><a name="15301"
  >        </a
  ><a name="15309" href="Session.html#15290" class="Bound"
  >&#915;</a
  ><a name="15310"
  > </a
  ><a name="15311" href="Session.html#15292" class="Bound"
  >&#916;</a
  ><a name="15312"
  >                 </a
  ><a name="15329" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="15330"
  > </a
  ><a name="15331" href="Session.html#15288" class="Bound"
  >X</a
  ><a name="15332"
  > </a
  ><a name="15333" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15334"
  > </a
  ><a name="15335" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="15336"
  >
</a
  ><a name="15337" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15338"
  > </a
  ><a name="15339" href="Session.html#14493" class="InductiveConstructor"
  >T.read</a
  ><a name="15345"
  >  </a
  ><a name="15347" href="Session.html#15347" class="Bound"
  >T</a
  ><a name="15348"
  > </a
  ><a name="15349" href="Session.html#15349" class="Bound"
  >X</a
  ><a name="15350"
  > </a
  ><a name="15351" href="Session.html#15351" class="Bound"
  >&#915;</a
  ><a name="15352"
  > </a
  ><a name="15353" href="Session.html#15353" class="Bound"
  >&#916;</a
  ><a name="15354"
  > </a
  ><a name="15355" class="Symbol"
  >=</a
  ><a name="15356"
  > </a
  ><a name="15357" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="15358"
  > </a
  ><a name="15359" class="Symbol"
  >(</a
  ><a name="15360" href="Session.html#10467" class="Function"
  >Read</a
  ><a name="15364"
  > </a
  ><a name="15365" href="Session.html#15351" class="Bound"
  >&#915;</a
  ><a name="15366"
  > </a
  ><a name="15367" href="Session.html#15353" class="Bound"
  >&#916;</a
  ><a name="15368" class="Symbol"
  >)</a
  ><a name="15369"
  > </a
  ><a name="15370" class="Symbol"
  >&#955;</a
  ><a name="15371"
  > </a
  ><a name="15372" href="Session.html#15372" class="Bound"
  >p</a
  ><a name="15373"
  > </a
  ><a name="15374" class="Symbol"
  >&#8594;</a
  ><a name="15375"
  >                          
                    </a
  ><a name="15422" class="Keyword"
  >let</a
  ><a name="15425"
  > </a
  ><a name="15426" class="Symbol"
  >((_</a
  ><a name="15429"
  > </a
  ><a name="15430" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15431"
  > </a
  ><a name="15432" href="Session.html#15432" class="Bound"
  >J</a
  ><a name="15433"
  > </a
  ><a name="15434" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15435"
  > </a
  ><a name="15436" class="Symbol"
  >_)</a
  ><a name="15438"
  > </a
  ><a name="15439" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15440"
  > </a
  ><a name="15441" class="Symbol"
  >_)</a
  ><a name="15443"
  > </a
  ><a name="15444" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15445"
  > </a
  ><a name="15446" class="Symbol"
  >_</a
  ><a name="15447"
  > </a
  ><a name="15448" class="Symbol"
  >=</a
  ><a name="15449"
  > </a
  ><a name="15450" href="Session.html#15372" class="Bound"
  >p</a
  ><a name="15451"
  > </a
  ><a name="15452" class="Keyword"
  >in</a
  ><a name="15454"
  >   </a
  ><a name="15457" href="Session.html#15349" class="Bound"
  >X</a
  ><a name="15458"
  > </a
  ><a name="15459" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15460"
  > </a
  ><a name="15461" href="Session.html#15432" class="Bound"
  >J</a
  ><a name="15462"
  >       
</a
  ><a name="15470" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15471"
  > </a
  ><a name="15472" href="Session.html#14512" class="InductiveConstructor"
  >T.at</a
  ><a name="15476"
  >    </a
  ><a name="15480" href="Session.html#15480" class="Bound"
  >T</a
  ><a name="15481"
  > </a
  ><a name="15482" href="Session.html#15482" class="Bound"
  >X</a
  ><a name="15483"
  > </a
  ><a name="15484" href="Session.html#15484" class="Bound"
  >&#915;</a
  ><a name="15485"
  > </a
  ><a name="15486" href="Session.html#15486" class="Bound"
  >&#916;</a
  ><a name="15487"
  > </a
  ><a name="15488" class="Symbol"
  >=</a
  ><a name="15489"
  > </a
  ><a name="15490" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="15491"
  > </a
  ><a name="15492" class="Symbol"
  >(</a
  ><a name="15493" href="Session.html#11057" class="Function"
  >At</a
  ><a name="15495"
  > </a
  ><a name="15496" href="Session.html#15484" class="Bound"
  >&#915;</a
  ><a name="15497"
  > </a
  ><a name="15498" href="Session.html#15486" class="Bound"
  >&#916;</a
  ><a name="15499" class="Symbol"
  >)</a
  ><a name="15500"
  > </a
  ><a name="15501" class="Symbol"
  >&#955;</a
  ><a name="15502"
  > </a
  ><a name="15503" href="Session.html#15503" class="Bound"
  >p</a
  ><a name="15504"
  > </a
  ><a name="15505" class="Symbol"
  >&#8594;</a
  ><a name="15506"
  >
                    </a
  ><a name="15527" class="Keyword"
  >let</a
  ><a name="15530"
  > </a
  ><a name="15531" class="Symbol"
  >(_</a
  ><a name="15533"
  > </a
  ><a name="15534" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15535"
  > </a
  ><a name="15536" href="Session.html#15536" class="Bound"
  >O</a
  ><a name="15537"
  > </a
  ><a name="15538" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15539"
  > </a
  ><a name="15540" class="Symbol"
  >_)</a
  ><a name="15542"
  > </a
  ><a name="15543" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15544"
  > </a
  ><a name="15545" class="Symbol"
  >_</a
  ><a name="15546"
  > </a
  ><a name="15547" class="Symbol"
  >=</a
  ><a name="15548"
  > </a
  ><a name="15549" href="Session.html#15503" class="Bound"
  >p</a
  ><a name="15550"
  > </a
  ><a name="15551" class="Keyword"
  >in</a
  ><a name="15553"
  >         </a
  ><a name="15562" href="Session.html#15482" class="Bound"
  >X</a
  ><a name="15563"
  > </a
  ><a name="15564" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15565"
  > </a
  ><a name="15566" href="Session.html#15536" class="Bound"
  >O</a
  ><a name="15567"
  >
</a
  ><a name="15568" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="15569"
  > </a
  ><a name="15570" href="Session.html#14537" class="InductiveConstructor"
  >T.end</a
  ><a name="15575"
  >   </a
  ><a name="15578" href="Session.html#15578" class="Bound"
  >T</a
  ><a name="15579"
  > </a
  ><a name="15580" href="Session.html#15580" class="Bound"
  >X</a
  ><a name="15581"
  > </a
  ><a name="15582" href="Session.html#15582" class="Bound"
  >&#915;</a
  ><a name="15583"
  > </a
  ><a name="15584" href="Session.html#15584" class="Bound"
  >&#916;</a
  ><a name="15585"
  > </a
  ><a name="15586" class="Symbol"
  >=</a
  ><a name="15587"
  > </a
  ><a name="15588" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="15589"
  > </a
  ><a name="15590" class="Symbol"
  >(</a
  ><a name="15591" href="Session.html#11405" class="Function"
  >End</a
  ><a name="15594"
  >  </a
  ><a name="15596" href="Session.html#15582" class="Bound"
  >&#915;</a
  ><a name="15597"
  > </a
  ><a name="15598" href="Session.html#15584" class="Bound"
  >&#916;</a
  ><a name="15599" class="Symbol"
  >)</a
  ><a name="15600"
  > </a
  ><a name="15601" class="Symbol"
  >&#955;</a
  ><a name="15602"
  > </a
  ><a name="15603" href="Session.html#15603" class="Bound"
  >p</a
  ><a name="15604"
  > </a
  ><a name="15605" class="Symbol"
  >&#8594;</a
  ><a name="15606"
  >                             
                    </a
  ><a name="15656" class="Keyword"
  >let</a
  ><a name="15659"
  > </a
  ><a name="15660" class="Symbol"
  >(</a
  ><a name="15661" href="Session.html#15661" class="Bound"
  >I</a
  ><a name="15662"
  > </a
  ><a name="15663" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15664"
  > </a
  ><a name="15665" class="Symbol"
  >_</a
  ><a name="15666"
  > </a
  ><a name="15667" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15668"
  > </a
  ><a name="15669" class="Symbol"
  >_)</a
  ><a name="15671"
  > </a
  ><a name="15672" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="15673"
  > </a
  ><a name="15674" class="Symbol"
  >_</a
  ><a name="15675"
  > </a
  ><a name="15676" class="Symbol"
  >=</a
  ><a name="15677"
  > </a
  ><a name="15678" href="Session.html#15603" class="Bound"
  >p</a
  ><a name="15679"
  > </a
  ><a name="15680" class="Keyword"
  >in</a
  ><a name="15682"
  >         </a
  ><a name="15691" href="Session.html#15580" class="Bound"
  >X</a
  ><a name="15692"
  > </a
  ><a name="15693" href="Relation.Binary.Core.html#4603" class="Datatype Operator"
  >&#8801;</a
  ><a name="15694"
  > </a
  ><a name="15695" href="Session.html#15661" class="Bound"
  >I</a
  ><a name="15696"
  ></pre>
<h3 id="process-terms">Process terms</h3>
<p>As already stated, we plan to adopt codes for indexed functors instead of defining those directly. We could then simply use a generic indexed free monad construction, as in McBride's &quot;Kleisli Arrows of Outrageous Fortune&quot;, encoding our &quot;Atkey-style&quot; parameterisation in the way described there.</p>
<p>To make things simpler we use the following definition for now: this is neither a monad nor a monad transfomer, it is just convenient temporary syntax.</p>
<pre></a
  ><a name="16190" class="Keyword"
  >module</a
  ><a name="16196"
  > </a
  ><a name="16197" href="Session.html#16197" class="Module"
  >Process</a
  ><a name="16204"
  > </a
  ><a name="16205" class="Keyword"
  >where</a
  ><a name="16210"
  >

  </a
  ><a name="16214" class="Keyword"
  >infix</a
  ><a name="16219"
  > </a
  ><a name="16220" class="Number"
  >2</a
  ><a name="16221"
  > _[_&#8866;_]&gt;_

  </a
  ><a name="16234" href="Session.html#16234" class="Function"
  >F</a
  ><a name="16235"
  > </a
  ><a name="16236" class="Symbol"
  >=</a
  ><a name="16237"
  > </a
  ><a name="16238" class="Symbol"
  >&#955;</a
  ><a name="16239"
  > </a
  ><a name="16240" href="Session.html#16240" class="Bound"
  >T</a
  ><a name="16241"
  > </a
  ><a name="16242" href="Session.html#16242" class="Bound"
  >X</a
  ><a name="16243"
  > </a
  ><a name="16244" href="Session.html#16244" class="Bound"
  >&#915;</a
  ><a name="16245"
  > </a
  ><a name="16246" href="Session.html#16246" class="Bound"
  >&#916;</a
  ><a name="16247"
  > </a
  ><a name="16248" class="Symbol"
  >&#8594;</a
  ><a name="16249"
  > </a
  ><a name="16250" href="Data.Product.html#439" class="Record"
  >&#931;</a
  ><a name="16251"
  > </a
  ><a name="16252" href="Session.html#14367" class="Datatype"
  >T.Tag</a
  ><a name="16257"
  > </a
  ><a name="16258" class="Symbol"
  >&#955;</a
  ><a name="16259"
  > </a
  ><a name="16260" href="Session.html#16260" class="Bound"
  >t</a
  ><a name="16261"
  > </a
  ><a name="16262" class="Symbol"
  >&#8594;</a
  ><a name="16263"
  > </a
  ><a name="16264" href="Session.html#14743" class="Function"
  >&#960;</a
  ><a name="16265"
  > </a
  ><a name="16266" href="Session.html#16260" class="Bound"
  >t</a
  ><a name="16267"
  > </a
  ><a name="16268" href="Session.html#16240" class="Bound"
  >T</a
  ><a name="16269"
  > </a
  ><a name="16270" href="Session.html#16242" class="Bound"
  >X</a
  ><a name="16271"
  > </a
  ><a name="16272" href="Session.html#16244" class="Bound"
  >&#915;</a
  ><a name="16273"
  > </a
  ><a name="16274" href="Session.html#16246" class="Bound"
  >&#916;</a
  ><a name="16275"
  >

  </a
  ><a name="16279" class="Keyword"
  >data</a
  ><a name="16283"
  > </a
  ><a name="16284" href="Session.html#16284" class="Datatype Operator"
  >_[_&#8866;_]&gt;_</a
  ><a name="16292"
  > </a
  ><a name="16293" href="Session.html#16293" class="Bound"
  >&#915;</a
  ><a name="16294"
  > </a
  ><a name="16295" class="Symbol"
  >(</a
  ><a name="16296" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16297"
  > </a
  ><a name="16298" class="Symbol"
  >:</a
  ><a name="16299"
  > </a
  ><a name="16300" class="PrimitiveType"
  >Set</a
  ><a name="16303"
  > </a
  ><a name="16304" class="Symbol"
  >&#8594;</a
  ><a name="16305"
  > </a
  ><a name="16306" class="PrimitiveType"
  >Set</a
  ><a name="16309" class="Symbol"
  >)</a
  ><a name="16310"
  > </a
  ><a name="16311" href="Session.html#16311" class="Bound"
  >X</a
  ><a name="16312"
  > </a
  ><a name="16313" class="Symbol"
  >:</a
  ><a name="16314"
  > </a
  ><a name="16315" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="16317"
  > </a
  ><a name="16318" class="Symbol"
  >&#8594;</a
  ><a name="16319"
  > </a
  ><a name="16320" class="PrimitiveType"
  >Set&#8321;</a
  ><a name="16324"
  > </a
  ><a name="16325" class="Keyword"
  >where</a
  ><a name="16330"
  >
    </a
  ><a name="16335" href="Session.html#16335" class="InductiveConstructor Operator"
  >&#8657;_</a
  ><a name="16337"
  >    </a
  ><a name="16341" class="Symbol"
  >:</a
  ><a name="16342"
  >             </a
  ><a name="16355" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16356"
  > </a
  ><a name="16357" href="Session.html#16311" class="Bound"
  >X</a
  ><a name="16358"
  >                                </a
  ><a name="16390" class="Symbol"
  >&#8594;</a
  ><a name="16391"
  > </a
  ><a name="16392" href="Session.html#16293" class="Bound"
  >&#915;</a
  ><a name="16393"
  > </a
  ><a name="16394" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="16395"
  > </a
  ><a name="16396" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16397"
  > </a
  ><a name="16398" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="16399"
  > </a
  ><a name="16400" href="Session.html#16311" class="Bound"
  >X</a
  ><a name="16401"
  > </a
  ><a name="16402" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="16404"
  > </a
  ><a name="16405" href="Session.html#16293" class="Bound"
  >&#915;</a
  ><a name="16406"
  >
    </a
  ><a name="16411" href="Session.html#16411" class="InductiveConstructor Operator"
  >[_]</a
  ><a name="16414"
  >   </a
  ><a name="16417" class="Symbol"
  >:</a
  ><a name="16418"
  > </a
  ><a name="16419" class="Symbol"
  >&#8704;</a
  ><a name="16420"
  > </a
  ><a name="16421" class="Symbol"
  >{</a
  ><a name="16422" href="Session.html#16422" class="Bound"
  >&#916;</a
  ><a name="16423" class="Symbol"
  >}</a
  ><a name="16424"
  >     </a
  ><a name="16429" class="Symbol"
  >&#8594;</a
  ><a name="16430"
  > </a
  ><a name="16431" href="Session.html#16234" class="Function"
  >F</a
  ><a name="16432"
  > </a
  ><a name="16433" class="Symbol"
  >(&#955;</a
  ><a name="16435"
  > </a
  ><a name="16436" href="Session.html#16436" class="Bound"
  >Z</a
  ><a name="16437"
  > </a
  ><a name="16438" href="Session.html#16438" class="Bound"
  >A</a
  ><a name="16439"
  > </a
  ><a name="16440" href="Session.html#16440" class="Bound"
  >B</a
  ><a name="16441"
  > </a
  ><a name="16442" class="Symbol"
  >&#8594;</a
  ><a name="16443"
  > </a
  ><a name="16444" href="Session.html#16438" class="Bound"
  >A</a
  ><a name="16445"
  > </a
  ><a name="16446" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="16447"
  > </a
  ><a name="16448" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16449"
  > </a
  ><a name="16450" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="16451"
  > </a
  ><a name="16452" href="Session.html#16436" class="Bound"
  >Z</a
  ><a name="16453"
  > </a
  ><a name="16454" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="16456"
  > </a
  ><a name="16457" href="Session.html#16440" class="Bound"
  >B</a
  ><a name="16458" class="Symbol"
  >)</a
  ><a name="16459"
  > </a
  ><a name="16460" href="Session.html#16311" class="Bound"
  >X</a
  ><a name="16461"
  > </a
  ><a name="16462" href="Session.html#16293" class="Bound"
  >&#915;</a
  ><a name="16463"
  > </a
  ><a name="16464" href="Session.html#16422" class="Bound"
  >&#916;</a
  ><a name="16465"
  > </a
  ><a name="16466" class="Symbol"
  >&#8594;</a
  ><a name="16467"
  > </a
  ><a name="16468" href="Session.html#16293" class="Bound"
  >&#915;</a
  ><a name="16469"
  > </a
  ><a name="16470" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="16471"
  > </a
  ><a name="16472" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16473"
  > </a
  ><a name="16474" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="16475"
  > </a
  ><a name="16476" href="Session.html#16311" class="Bound"
  >X</a
  ><a name="16477"
  > </a
  ><a name="16478" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="16480"
  > </a
  ><a name="16481" href="Session.html#16422" class="Bound"
  >&#916;</a
  ><a name="16482"
  >
    </a
  ><a name="16487" href="Session.html#16487" class="InductiveConstructor Operator"
  >_&#187;=_</a
  ><a name="16491"
  >  </a
  ><a name="16493" class="Symbol"
  >:</a
  ><a name="16494"
  > </a
  ><a name="16495" class="Symbol"
  >&#8704;</a
  ><a name="16496"
  > </a
  ><a name="16497" class="Symbol"
  >{</a
  ><a name="16498" href="Session.html#16498" class="Bound"
  >&#926;</a
  ><a name="16499"
  > </a
  ><a name="16500" href="Session.html#16500" class="Bound"
  >&#916;</a
  ><a name="16501"
  > </a
  ><a name="16502" href="Session.html#16502" class="Bound"
  >Y</a
  ><a name="16503" class="Symbol"
  >}</a
  ><a name="16504"
  > </a
  ><a name="16505" class="Symbol"
  >&#8594;</a
  ><a name="16506"
  > </a
  ><a name="16507" href="Session.html#16293" class="Bound"
  >&#915;</a
  ><a name="16508"
  > </a
  ><a name="16509" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="16510"
  > </a
  ><a name="16511" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16512"
  > </a
  ><a name="16513" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="16514"
  > </a
  ><a name="16515" href="Session.html#16502" class="Bound"
  >Y</a
  ><a name="16516"
  > </a
  ><a name="16517" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="16519"
  > </a
  ><a name="16520" href="Session.html#16498" class="Bound"
  >&#926;</a
  ><a name="16521"
  >                     </a
  ><a name="16542" class="Symbol"
  >&#8594;</a
  ><a name="16543"
  > 
                   </a
  ><a name="16564" class="Symbol"
  >(</a
  ><a name="16565" href="Session.html#16502" class="Bound"
  >Y</a
  ><a name="16566"
  > </a
  ><a name="16567" class="Symbol"
  >&#8594;</a
  ><a name="16568"
  > </a
  ><a name="16569" href="Session.html#16498" class="Bound"
  >&#926;</a
  ><a name="16570"
  > </a
  ><a name="16571" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="16572"
  > </a
  ><a name="16573" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16574"
  > </a
  ><a name="16575" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="16576"
  > </a
  ><a name="16577" href="Session.html#16311" class="Bound"
  >X</a
  ><a name="16578"
  > </a
  ><a name="16579" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="16581"
  > </a
  ><a name="16582" href="Session.html#16500" class="Bound"
  >&#916;</a
  ><a name="16583" class="Symbol"
  >)</a
  ><a name="16584"
  >                    </a
  ><a name="16604" class="Symbol"
  >&#8594;</a
  ><a name="16605"
  > </a
  ><a name="16606" href="Session.html#16293" class="Bound"
  >&#915;</a
  ><a name="16607"
  > </a
  ><a name="16608" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="16609"
  > </a
  ><a name="16610" href="Session.html#16296" class="Bound"
  >M</a
  ><a name="16611"
  > </a
  ><a name="16612" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="16613"
  > </a
  ><a name="16614" href="Session.html#16311" class="Bound"
  >X</a
  ><a name="16615"
  > </a
  ><a name="16616" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="16618"
  > </a
  ><a name="16619" href="Session.html#16500" class="Bound"
  >&#916;</a
  ><a name="16620"
  >

</a
  ><a name="16622" class="Keyword"
  >open</a
  ><a name="16626"
  > </a
  ><a name="16627" href="Session.html#16197" class="Module"
  >Process</a
  ><a name="16634"
  > </a
  ><a name="16635" class="Keyword"
  >using</a
  ><a name="16640"
  > </a
  ><a name="16641" class="Symbol"
  >(</a
  ><a name="16642"
  >_[_&#8866;_]&gt;_ </a
  ><a name="16651" class="Symbol"
  >;</a
  ><a name="16652"
  > &#8657;_ </a
  ><a name="16656" class="Symbol"
  >;</a
  ><a name="16657"
  > _&#187;=_ </a
  ><a name="16663" class="Symbol"
  >;</a
  ><a name="16664"
  > [_]</a
  ><a name="16668" class="Symbol"
  >)</a
  ><a name="16669"
  > </a
  ><a name="16670" class="Keyword"
  >public</a
  ><a name="16676"
  ></pre>
<p>Note that referring to the above operators as &quot;strictly positive functors&quot; as we did, while very reasonable from their definitions, is also justified by the fact that Agda's positivity checker accepts <code>_[_⊢_]&gt;_</code>.</p>
<h3 id="syntactic-sugar">Syntactic sugar</h3>
<h4 id="patterns">Patterns</h4>
<p>To construct and pattern match on processes we make extensive use of Agda's <code>pattern</code> facility.</p>
<pre></a
  ><a name="17049" class="Keyword"
  >pattern</a
  ><a name="17056"
  > </a
  ><a name="17057" href="Session.html#17057" class="InductiveConstructor"
  >fork</a
  ><a name="17061"
  >    </a
  ><a name="17065" href="Session.html#17087" class="Bound"
  >d</a
  ><a name="17066"
  > </a
  ><a name="17067" href="Session.html#17091" class="Bound"
  >x</a
  ><a name="17068"
  >    </a
  ><a name="17072" class="Symbol"
  >=</a
  ><a name="17073"
  > </a
  ><a name="17074" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17075"
  > </a
  ><a name="17076" href="Session.html#14391" class="InductiveConstructor"
  >T.fork</a
  ><a name="17082"
  >  </a
  ><a name="17084" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17085"
  > </a
  ><a name="17086" class="Symbol"
  >(</a
  ><a name="17087" href="Session.html#17087" class="Bound"
  >d</a
  ><a name="17088"
  > </a
  ><a name="17089" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17090"
  > </a
  ><a name="17091" href="Session.html#17091" class="Bound"
  >x</a
  ><a name="17092"
  > </a
  ><a name="17093" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17094"
  > </a
  ><a name="17095" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17097" class="Symbol"
  >)</a
  ><a name="17098"
  >                 </a
  ><a name="17115" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17116"
  > </a
  ><a name="17117" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17119"
  > </a
  ><a name="17120" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17121"
  > 
</a
  ><a name="17123" class="Keyword"
  >pattern</a
  ><a name="17130"
  > </a
  ><a name="17131" href="Session.html#17131" class="InductiveConstructor"
  >new</a
  ><a name="17134"
  >            </a
  ><a name="17146" class="Symbol"
  >=</a
  ><a name="17147"
  > </a
  ><a name="17148" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17149"
  > </a
  ><a name="17150" href="Session.html#14387" class="InductiveConstructor"
  >T.new</a
  ><a name="17155"
  >   </a
  ><a name="17158" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17159"
  > </a
  ><a name="17160" class="Symbol"
  >(_</a
  ><a name="17162"
  > </a
  ><a name="17163" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17164"
  > </a
  ><a name="17165" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17167" class="Symbol"
  >)</a
  ><a name="17168"
  >                     </a
  ><a name="17189" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17190"
  > </a
  ><a name="17191" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17193"
  > </a
  ><a name="17194" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17195"
  > 
</a
  ><a name="17197" class="Keyword"
  >pattern</a
  ><a name="17204"
  > </a
  ><a name="17205" href="Session.html#17205" class="InductiveConstructor"
  >send</a
  ><a name="17209"
  >    </a
  ><a name="17213" href="Session.html#17237" class="Bound"
  >i</a
  ><a name="17214"
  > </a
  ><a name="17215" href="Session.html#17241" class="Bound"
  >j</a
  ><a name="17216"
  >    </a
  ><a name="17220" class="Symbol"
  >=</a
  ><a name="17221"
  > </a
  ><a name="17222" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17223"
  > </a
  ><a name="17224" href="Session.html#14412" class="InductiveConstructor"
  >T.send</a
  ><a name="17230"
  >  </a
  ><a name="17232" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17233"
  > </a
  ><a name="17234" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="17235"
  > </a
  ><a name="17236" class="Symbol"
  >(</a
  ><a name="17237" href="Session.html#17237" class="Bound"
  >i</a
  ><a name="17238"
  > </a
  ><a name="17239" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17240"
  > </a
  ><a name="17241" href="Session.html#17241" class="Bound"
  >j</a
  ><a name="17242"
  > </a
  ><a name="17243" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17244"
  > </a
  ><a name="17245" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17247" class="Symbol"
  >)</a
  ><a name="17248"
  >               </a
  ><a name="17263" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17264"
  > </a
  ><a name="17265" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17267"
  > </a
  ><a name="17268" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17269"
  > 
</a
  ><a name="17271" class="Keyword"
  >pattern</a
  ><a name="17278"
  > </a
  ><a name="17279" href="Session.html#17279" class="InductiveConstructor"
  >receive</a
  ><a name="17286"
  > </a
  ><a name="17287" href="Session.html#17311" class="Bound"
  >i</a
  ><a name="17288"
  >      </a
  ><a name="17294" class="Symbol"
  >=</a
  ><a name="17295"
  > </a
  ><a name="17296" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17297"
  > </a
  ><a name="17298" href="Session.html#14417" class="InductiveConstructor"
  >T.recv</a
  ><a name="17304"
  >  </a
  ><a name="17306" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17307"
  > </a
  ><a name="17308" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="17309"
  > </a
  ><a name="17310" class="Symbol"
  >(</a
  ><a name="17311" href="Session.html#17311" class="Bound"
  >i</a
  ><a name="17312"
  > </a
  ><a name="17313" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17314"
  > </a
  ><a name="17315" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17317" class="Symbol"
  >)</a
  ><a name="17318"
  >                   </a
  ><a name="17337" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17338"
  > </a
  ><a name="17339" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17341"
  > </a
  ><a name="17342" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17343"
  > 
</a
  ><a name="17345" class="Keyword"
  >pattern</a
  ><a name="17352"
  > </a
  ><a name="17353" href="Session.html#17353" class="InductiveConstructor"
  >accept</a
  ><a name="17359"
  >  </a
  ><a name="17361" href="Session.html#17385" class="Bound"
  >i</a
  ><a name="17362"
  > </a
  ><a name="17363" href="Session.html#17389" class="Bound"
  >a</a
  ><a name="17364"
  > </a
  ><a name="17365" href="Session.html#17393" class="Bound"
  >p</a
  ><a name="17366"
  >  </a
  ><a name="17368" class="Symbol"
  >=</a
  ><a name="17369"
  > </a
  ><a name="17370" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17371"
  > </a
  ><a name="17372" href="Session.html#14437" class="InductiveConstructor"
  >T.!!</a
  ><a name="17376"
  >    </a
  ><a name="17380" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17381"
  > </a
  ><a name="17382" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="17383"
  > </a
  ><a name="17384" class="Symbol"
  >(</a
  ><a name="17385" href="Session.html#17385" class="Bound"
  >i</a
  ><a name="17386"
  > </a
  ><a name="17387" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17388"
  > </a
  ><a name="17389" href="Session.html#17389" class="Bound"
  >a</a
  ><a name="17390"
  > </a
  ><a name="17391" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17392"
  > </a
  ><a name="17393" href="Session.html#17393" class="Bound"
  >p</a
  ><a name="17394"
  > </a
  ><a name="17395" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17396"
  > </a
  ><a name="17397" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17399" class="Symbol"
  >)</a
  ><a name="17400"
  >           </a
  ><a name="17411" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17412"
  > </a
  ><a name="17413" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17415"
  > </a
  ><a name="17416" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17417"
  > 
</a
  ><a name="17419" class="Keyword"
  >pattern</a
  ><a name="17426"
  > </a
  ><a name="17427" href="Session.html#17427" class="InductiveConstructor"
  >connect</a
  ><a name="17434"
  > </a
  ><a name="17435" href="Session.html#17459" class="Bound"
  >i</a
  ><a name="17436"
  >   </a
  ><a name="17439" href="Session.html#17463" class="Bound"
  >p</a
  ><a name="17440"
  >  </a
  ><a name="17442" class="Symbol"
  >=</a
  ><a name="17443"
  > </a
  ><a name="17444" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17445"
  > </a
  ><a name="17446" href="Session.html#14440" class="InductiveConstructor"
  >T.??</a
  ><a name="17450"
  >    </a
  ><a name="17454" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17455"
  > </a
  ><a name="17456" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="17457"
  > </a
  ><a name="17458" class="Symbol"
  >(</a
  ><a name="17459" href="Session.html#17459" class="Bound"
  >i</a
  ><a name="17460"
  > </a
  ><a name="17461" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17462"
  > </a
  ><a name="17463" href="Session.html#17463" class="Bound"
  >p</a
  ><a name="17464" class="Symbol"
  >)</a
  ><a name="17465"
  >                         </a
  ><a name="17490" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17491"
  > 
</a
  ><a name="17493" class="Keyword"
  >pattern</a
  ><a name="17500"
  > </a
  ><a name="17501" href="Session.html#17501" class="InductiveConstructor"
  >wont</a
  ><a name="17505"
  >    </a
  ><a name="17509" href="Session.html#17533" class="Bound"
  >i</a
  ><a name="17510"
  >      </a
  ><a name="17516" class="Symbol"
  >=</a
  ><a name="17517"
  > </a
  ><a name="17518" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17519"
  > </a
  ><a name="17520" href="Session.html#14443" class="InductiveConstructor"
  >T.wk</a
  ><a name="17524"
  >    </a
  ><a name="17528" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17529"
  > </a
  ><a name="17530" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="17531"
  > </a
  ><a name="17532" class="Symbol"
  >(</a
  ><a name="17533" href="Session.html#17533" class="Bound"
  >i</a
  ><a name="17534"
  > </a
  ><a name="17535" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17536"
  > </a
  ><a name="17537" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17539" class="Symbol"
  >)</a
  ><a name="17540"
  >                   </a
  ><a name="17559" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17560"
  > </a
  ><a name="17561" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17563"
  > </a
  ><a name="17564" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17565"
  > 
</a
  ><a name="17567" class="Keyword"
  >pattern</a
  ><a name="17574"
  > </a
  ><a name="17575" href="Session.html#17575" class="InductiveConstructor"
  >twice</a
  ><a name="17580"
  >   </a
  ><a name="17583" href="Session.html#17607" class="Bound"
  >i</a
  ><a name="17584"
  >      </a
  ><a name="17590" class="Symbol"
  >=</a
  ><a name="17591"
  > </a
  ><a name="17592" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17593"
  > </a
  ><a name="17594" href="Session.html#14446" class="InductiveConstructor"
  >T.ctr</a
  ><a name="17599"
  >   </a
  ><a name="17602" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17603"
  > </a
  ><a name="17604" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="17605"
  > </a
  ><a name="17606" class="Symbol"
  >(</a
  ><a name="17607" href="Session.html#17607" class="Bound"
  >i</a
  ><a name="17608"
  > </a
  ><a name="17609" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17610"
  > </a
  ><a name="17611" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17613" class="Symbol"
  >)</a
  ><a name="17614"
  >                   </a
  ><a name="17633" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17634"
  > </a
  ><a name="17635" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17637"
  > </a
  ><a name="17638" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17639"
  > 
</a
  ><a name="17641" class="Keyword"
  >pattern</a
  ><a name="17648"
  > </a
  ><a name="17649" href="Session.html#17649" class="InductiveConstructor"
  >write</a
  ><a name="17654"
  >   </a
  ><a name="17657" href="Session.html#17693" class="Bound"
  >i</a
  ><a name="17658"
  > </a
  ><a name="17659" href="Session.html#17684" class="Bound"
  >x</a
  ><a name="17660"
  >    </a
  ><a name="17664" class="Symbol"
  >=</a
  ><a name="17665"
  > </a
  ><a name="17666" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17667"
  > </a
  ><a name="17668" href="Session.html#14487" class="InductiveConstructor"
  >T.write</a
  ><a name="17675"
  > </a
  ><a name="17676" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17677"
  > </a
  ><a name="17678" class="Symbol"
  >((_</a
  ><a name="17681"
  > </a
  ><a name="17682" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17683"
  > </a
  ><a name="17684" href="Session.html#17684" class="Bound"
  >x</a
  ><a name="17685"
  > </a
  ><a name="17686" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17687"
  > </a
  ><a name="17688" class="Symbol"
  >_)</a
  ><a name="17690"
  > </a
  ><a name="17691" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17692"
  > </a
  ><a name="17693" href="Session.html#17693" class="Bound"
  >i</a
  ><a name="17694"
  > </a
  ><a name="17695" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17696"
  > </a
  ><a name="17697" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17699" class="Symbol"
  >)</a
  ><a name="17700"
  >       </a
  ><a name="17707" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17708"
  > </a
  ><a name="17709" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17711"
  > </a
  ><a name="17712" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17713"
  > 
</a
  ><a name="17715" class="Keyword"
  >pattern</a
  ><a name="17722"
  > </a
  ><a name="17723" href="Session.html#17723" class="InductiveConstructor"
  >read</a
  ><a name="17727"
  >    </a
  ><a name="17731" href="Session.html#17755" class="Bound"
  >i</a
  ><a name="17732"
  >      </a
  ><a name="17738" class="Symbol"
  >=</a
  ><a name="17739"
  > </a
  ><a name="17740" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17741"
  > </a
  ><a name="17742" href="Session.html#14493" class="InductiveConstructor"
  >T.read</a
  ><a name="17748"
  >  </a
  ><a name="17750" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17751"
  > </a
  ><a name="17752" href="Session.html#8583" class="InductiveConstructor Operator"
  >%</a
  ><a name="17753"
  > </a
  ><a name="17754" class="Symbol"
  >(</a
  ><a name="17755" href="Session.html#17755" class="Bound"
  >i</a
  ><a name="17756"
  > </a
  ><a name="17757" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17758"
  > </a
  ><a name="17759" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17761" class="Symbol"
  >)</a
  ><a name="17762"
  >                   </a
  ><a name="17781" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17782"
  > </a
  ><a name="17783" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17785"
  > </a
  ><a name="17786" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17787"
  > 
</a
  ><a name="17789" class="Keyword"
  >pattern</a
  ><a name="17796"
  > </a
  ><a name="17797" href="Session.html#17797" class="InductiveConstructor"
  >end/</a
  ><a name="17801"
  >    </a
  ><a name="17805" href="Session.html#17846" class="Bound"
  >i</a
  ><a name="17806"
  > </a
  ><a name="17807" href="Session.html#17836" class="Bound"
  >r</a
  ><a name="17808"
  >    </a
  ><a name="17812" class="Symbol"
  >=</a
  ><a name="17813"
  > </a
  ><a name="17814" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17815"
  > </a
  ><a name="17816" href="Session.html#14537" class="InductiveConstructor"
  >T.end</a
  ><a name="17821"
  >   </a
  ><a name="17824" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17825"
  > </a
  ><a name="17826" class="Symbol"
  >((_</a
  ><a name="17829"
  > </a
  ><a name="17830" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17831"
  > </a
  ><a name="17832" class="Symbol"
  >_</a
  ><a name="17833"
  > </a
  ><a name="17834" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17835"
  > </a
  ><a name="17836" href="Session.html#17836" class="Bound"
  >r</a
  ><a name="17837"
  > </a
  ><a name="17838" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17839"
  > </a
  ><a name="17840" class="Symbol"
  >_)</a
  ><a name="17842"
  > </a
  ><a name="17843" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17844"
  > </a
  ><a name="17845" class="Symbol"
  >(</a
  ><a name="17846" href="Session.html#17846" class="Bound"
  >i</a
  ><a name="17847"
  > </a
  ><a name="17848" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17849"
  > </a
  ><a name="17850" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17852" class="Symbol"
  >))</a
  ><a name="17854"
  > </a
  ><a name="17855" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17856"
  > </a
  ><a name="17857" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17859"
  > </a
  ><a name="17860" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17861"
  > 
</a
  ><a name="17863" class="Keyword"
  >pattern</a
  ><a name="17870"
  > </a
  ><a name="17871" href="Session.html#17871" class="InductiveConstructor"
  >end</a
  ><a name="17874"
  >     </a
  ><a name="17879" href="Session.html#17893" class="Bound"
  >i</a
  ><a name="17880"
  >      </a
  ><a name="17886" class="Symbol"
  >=</a
  ><a name="17887"
  > </a
  ><a name="17888" href="Session.html#17797" class="InductiveConstructor"
  >end/</a
  ><a name="17892"
  > </a
  ><a name="17893" href="Session.html#17893" class="Bound"
  >i</a
  ><a name="17894"
  > </a
  ><a name="17895" class="Symbol"
  >_</a
  ><a name="17896"
  >
</a
  ><a name="17897" class="Keyword"
  >pattern</a
  ><a name="17904"
  > </a
  ><a name="17905" href="Session.html#17905" class="InductiveConstructor"
  >at/</a
  ><a name="17908"
  >     </a
  ><a name="17913" href="Session.html#17950" class="Bound"
  >i</a
  ><a name="17914"
  > </a
  ><a name="17915" href="Session.html#17940" class="Bound"
  >o</a
  ><a name="17916"
  >    </a
  ><a name="17920" class="Symbol"
  >=</a
  ><a name="17921"
  > </a
  ><a name="17922" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="17923"
  > </a
  ><a name="17924" href="Session.html#14512" class="InductiveConstructor"
  >T.at</a
  ><a name="17928"
  >    </a
  ><a name="17932" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17933"
  > </a
  ><a name="17934" class="Symbol"
  >((</a
  ><a name="17936" href="Session.html#8628" class="InductiveConstructor Operator"
  >%3</a
  ><a name="17938"
  > </a
  ><a name="17939" class="Symbol"
  >(</a
  ><a name="17940" href="Session.html#17940" class="Bound"
  >o</a
  ><a name="17941"
  > </a
  ><a name="17942" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17943"
  > </a
  ><a name="17944" class="Symbol"
  >_)</a
  ><a name="17946"
  > </a
  ><a name="17947" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17948"
  > </a
  ><a name="17949" class="Symbol"
  >(</a
  ><a name="17950" href="Session.html#17950" class="Bound"
  >i</a
  ><a name="17951"
  > </a
  ><a name="17952" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17953"
  > </a
  ><a name="17954" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17956" class="Symbol"
  >)))</a
  ><a name="17959"
  >    </a
  ><a name="17963" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="17964"
  > </a
  ><a name="17965" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="17967"
  > </a
  ><a name="17968" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="17969"
  > 
</a
  ><a name="17971" class="Keyword"
  >pattern</a
  ><a name="17978"
  > </a
  ><a name="17979" href="Session.html#17979" class="InductiveConstructor"
  >at</a
  ><a name="17981"
  >      </a
  ><a name="17987" href="Session.html#18000" class="Bound"
  >i</a
  ><a name="17988"
  >      </a
  ><a name="17994" class="Symbol"
  >=</a
  ><a name="17995"
  > </a
  ><a name="17996" href="Session.html#17905" class="InductiveConstructor"
  >at/</a
  ><a name="17999"
  > </a
  ><a name="18000" href="Session.html#18000" class="Bound"
  >i</a
  ><a name="18001"
  > </a
  ><a name="18002" class="Symbol"
  >_</a
  ><a name="18003"
  >                                         
</a
  ><a name="18045" class="Keyword"
  >pattern</a
  ><a name="18052"
  > </a
  ><a name="18053" href="Session.html#18053" class="InductiveConstructor"
  >corec</a
  ><a name="18058"
  >   </a
  ><a name="18061" href="Session.html#18092" class="Bound"
  >i</a
  ><a name="18062"
  > </a
  ><a name="18063" href="Session.html#18086" class="Bound"
  >o</a
  ><a name="18064"
  > </a
  ><a name="18065" href="Session.html#18097" class="Bound"
  >gp</a
  ><a name="18067"
  > </a
  ><a name="18068" class="Symbol"
  >=</a
  ><a name="18069"
  > </a
  ><a name="18070" href="Session.html#16411" class="InductiveConstructor Operator"
  >[</a
  ><a name="18071"
  > </a
  ><a name="18072" href="Session.html#14462" class="InductiveConstructor"
  >T.corec</a
  ><a name="18079"
  > </a
  ><a name="18080" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="18081"
  > </a
  ><a name="18082" class="Symbol"
  >(</a
  ><a name="18083" href="Session.html#8651" class="InductiveConstructor Operator"
  >%4</a
  ><a name="18085"
  > </a
  ><a name="18086" href="Session.html#18086" class="Bound"
  >o</a
  ><a name="18087" class="Symbol"
  >)</a
  ><a name="18088"
  > </a
  ><a name="18089" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="18090"
  > </a
  ><a name="18091" class="Symbol"
  >(</a
  ><a name="18092" href="Session.html#18092" class="Bound"
  >i</a
  ><a name="18093"
  > </a
  ><a name="18094" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="18095"
  > </a
  ><a name="18096" class="Symbol"
  >(</a
  ><a name="18097" href="Session.html#18097" class="Bound"
  >gp</a
  ><a name="18099"
  > </a
  ><a name="18100" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="18101"
  > </a
  ><a name="18102" href="Relation.Binary.Core.html#4651" class="InductiveConstructor"
  >&lt;&gt;</a
  ><a name="18104" class="Symbol"
  >))</a
  ><a name="18106"
  >          </a
  ><a name="18116" href="Session.html#16411" class="InductiveConstructor Operator"
  >]</a
  ><a name="18117"
  ></pre>
<p>(We plan to also define a view for these patterns, so that Agda's interactive splitting (<code>C-c C-c</code>) can be recovered after a <code>with</code>)</p>
<h4 id="monadic-binding-notation">Monadic binding notation</h4>
<p>For the binding operator we mimic Haskell's <code>do</code>-notation with a <code>syntax</code> declaration.</p>
<pre></a
  ><a name="18396" class="Keyword"
  >infixr</a
  ><a name="18402"
  > </a
  ><a name="18403" class="Number"
  >5</a
  ><a name="18404"
  > bind
</a
  ><a name="18410" href="Session.html#18410" class="Function"
  >bind</a
  ><a name="18414"
  > </a
  ><a name="18415" class="Symbol"
  >:</a
  ><a name="18416"
  > </a
  ><a name="18417" class="Symbol"
  >&#8704;</a
  ><a name="18418"
  > </a
  ><a name="18419" class="Symbol"
  >{</a
  ><a name="18420" href="Session.html#18420" class="Bound"
  >M</a
  ><a name="18421"
  > </a
  ><a name="18422" href="Session.html#18422" class="Bound"
  >&#915;</a
  ><a name="18423"
  > </a
  ><a name="18424" href="Session.html#18424" class="Bound"
  >&#926;</a
  ><a name="18425"
  > </a
  ><a name="18426" href="Session.html#18426" class="Bound"
  >&#916;</a
  ><a name="18427"
  > </a
  ><a name="18428" href="Session.html#18428" class="Bound"
  >X</a
  ><a name="18429"
  > </a
  ><a name="18430" href="Session.html#18430" class="Bound"
  >Y</a
  ><a name="18431" class="Symbol"
  >}</a
  ><a name="18432"
  > </a
  ><a name="18433" class="Symbol"
  >&#8594;</a
  ><a name="18434"
  > </a
  ><a name="18435" href="Session.html#18422" class="Bound"
  >&#915;</a
  ><a name="18436"
  > </a
  ><a name="18437" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="18438"
  > </a
  ><a name="18439" href="Session.html#18420" class="Bound"
  >M</a
  ><a name="18440"
  > </a
  ><a name="18441" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="18442"
  > </a
  ><a name="18443" href="Session.html#18430" class="Bound"
  >Y</a
  ><a name="18444"
  > </a
  ><a name="18445" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="18447"
  > </a
  ><a name="18448" href="Session.html#18424" class="Bound"
  >&#926;</a
  ><a name="18449"
  >  </a
  ><a name="18451" class="Symbol"
  >&#8594;</a
  ><a name="18452"
  > 
                    </a
  ><a name="18474" class="Symbol"
  >(</a
  ><a name="18475" href="Session.html#18430" class="Bound"
  >Y</a
  ><a name="18476"
  > </a
  ><a name="18477" class="Symbol"
  >&#8594;</a
  ><a name="18478"
  > </a
  ><a name="18479" href="Session.html#18424" class="Bound"
  >&#926;</a
  ><a name="18480"
  > </a
  ><a name="18481" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="18482"
  > </a
  ><a name="18483" href="Session.html#18420" class="Bound"
  >M</a
  ><a name="18484"
  > </a
  ><a name="18485" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="18486"
  > </a
  ><a name="18487" href="Session.html#18428" class="Bound"
  >X</a
  ><a name="18488"
  > </a
  ><a name="18489" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="18491"
  > </a
  ><a name="18492" href="Session.html#18426" class="Bound"
  >&#916;</a
  ><a name="18493" class="Symbol"
  >)</a
  ><a name="18494"
  > </a
  ><a name="18495" class="Symbol"
  >&#8594;</a
  ><a name="18496"
  > </a
  ><a name="18497" href="Session.html#18422" class="Bound"
  >&#915;</a
  ><a name="18498"
  > </a
  ><a name="18499" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="18500"
  > </a
  ><a name="18501" href="Session.html#18420" class="Bound"
  >M</a
  ><a name="18502"
  > </a
  ><a name="18503" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="18504"
  > </a
  ><a name="18505" href="Session.html#18428" class="Bound"
  >X</a
  ><a name="18506"
  > </a
  ><a name="18507" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="18509"
  > </a
  ><a name="18510" href="Session.html#18426" class="Bound"
  >&#916;</a
  ><a name="18511"
  >
</a
  ><a name="18512" href="Session.html#18410" class="Function"
  >bind</a
  ><a name="18516"
  > </a
  ><a name="18517" class="Symbol"
  >=</a
  ><a name="18518"
  > </a
  ><a name="18519" href="Session.html#16487" class="InductiveConstructor Operator"
  >_&#187;=_</a
  ><a name="18523"
  >
</a
  ><a name="18524" class="Keyword"
  >syntax</a
  ><a name="18530"
  > bind m </a
  ><a name="18538" class="Symbol"
  >(&#955;</a
  ><a name="18540"
  > x </a
  ><a name="18543" class="Symbol"
  >&#8594;</a
  ><a name="18544"
  > y</a
  ><a name="18546" class="Symbol"
  >)</a
  ><a name="18547"
  > </a
  ><a name="18548" class="Symbol"
  >=</a
  ><a name="18549"
  > x &lt;- m &#8943; y</pre>

<pre></a
  ><a name="18586" class="Keyword"
  >infixr</a
  ><a name="18592"
  > </a
  ><a name="18593" class="Number"
  >5</a
  ><a name="18594"
  > _&#187;_
</a
  ><a name="18599" href="Session.html#18599" class="Function Operator"
  >_&#187;_</a
  ><a name="18602"
  > </a
  ><a name="18603" class="Symbol"
  >:</a
  ><a name="18604"
  > </a
  ><a name="18605" class="Symbol"
  >&#8704;</a
  ><a name="18606"
  > </a
  ><a name="18607" class="Symbol"
  >{</a
  ><a name="18608" href="Session.html#18608" class="Bound"
  >M</a
  ><a name="18609"
  > </a
  ><a name="18610" href="Session.html#18610" class="Bound"
  >&#915;</a
  ><a name="18611"
  > </a
  ><a name="18612" href="Session.html#18612" class="Bound"
  >&#926;</a
  ><a name="18613"
  > </a
  ><a name="18614" href="Session.html#18614" class="Bound"
  >&#916;</a
  ><a name="18615"
  > </a
  ><a name="18616" href="Session.html#18616" class="Bound"
  >X</a
  ><a name="18617"
  > </a
  ><a name="18618" href="Session.html#18618" class="Bound"
  >Y</a
  ><a name="18619" class="Symbol"
  >}</a
  ><a name="18620"
  > </a
  ><a name="18621" class="Symbol"
  >&#8594;</a
  ><a name="18622"
  > </a
  ><a name="18623" href="Session.html#18610" class="Bound"
  >&#915;</a
  ><a name="18624"
  > </a
  ><a name="18625" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="18626"
  > </a
  ><a name="18627" href="Session.html#18608" class="Bound"
  >M</a
  ><a name="18628"
  > </a
  ><a name="18629" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="18630"
  > </a
  ><a name="18631" href="Session.html#18616" class="Bound"
  >X</a
  ><a name="18632"
  > </a
  ><a name="18633" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="18635"
  > </a
  ><a name="18636" href="Session.html#18612" class="Bound"
  >&#926;</a
  ><a name="18637"
  > </a
  ><a name="18638" class="Symbol"
  >&#8594;</a
  ><a name="18639"
  > </a
  ><a name="18640" href="Session.html#18612" class="Bound"
  >&#926;</a
  ><a name="18641"
  > </a
  ><a name="18642" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="18643"
  > </a
  ><a name="18644" href="Session.html#18608" class="Bound"
  >M</a
  ><a name="18645"
  > </a
  ><a name="18646" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="18647"
  > </a
  ><a name="18648" href="Session.html#18618" class="Bound"
  >Y</a
  ><a name="18649"
  > </a
  ><a name="18650" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="18652"
  > </a
  ><a name="18653" href="Session.html#18614" class="Bound"
  >&#916;</a
  ><a name="18654"
  > </a
  ><a name="18655" class="Symbol"
  >&#8594;</a
  ><a name="18656"
  > </a
  ><a name="18657" href="Session.html#18610" class="Bound"
  >&#915;</a
  ><a name="18658"
  > </a
  ><a name="18659" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="18660"
  > </a
  ><a name="18661" href="Session.html#18608" class="Bound"
  >M</a
  ><a name="18662"
  > </a
  ><a name="18663" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="18664"
  > </a
  ><a name="18665" href="Session.html#18618" class="Bound"
  >Y</a
  ><a name="18666"
  > </a
  ><a name="18667" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="18669"
  > </a
  ><a name="18670" href="Session.html#18614" class="Bound"
  >&#916;</a
  ><a name="18671"
  >
</a
  ><a name="18672" href="Session.html#18672" class="Bound"
  >m</a
  ><a name="18673"
  > </a
  ><a name="18674" href="Session.html#18599" class="Function Operator"
  >&#187;</a
  ><a name="18675"
  > </a
  ><a name="18676" href="Session.html#18676" class="Bound"
  >n</a
  ><a name="18677"
  > </a
  ><a name="18678" class="Symbol"
  >=</a
  ><a name="18679"
  > </a
  ><a name="18680" href="Session.html#18672" class="Bound"
  >m</a
  ><a name="18681"
  > </a
  ><a name="18682" href="Session.html#16487" class="InductiveConstructor Operator"
  >&#187;=</a
  ><a name="18684"
  > </a
  ><a name="18685" class="Symbol"
  >&#955;</a
  ><a name="18686"
  > </a
  ><a name="18687" href="Session.html#18687" class="Bound"
  >_</a
  ><a name="18688"
  > </a
  ><a name="18689" class="Symbol"
  >&#8594;</a
  ><a name="18690"
  > </a
  ><a name="18691" href="Session.html#18676" class="Bound"
  >n</a
  ><a name="18692"
  ></pre>
<h4 id="write-and-read-dependently"><code>write</code> and <code>read</code> dependently</h4>
<p>We added <code>`^</code> (in Strictly Positive Families we would have used <code>`Δ</code>) to recover the <em>possibility</em> of making use of data exchanged by <code>write</code> and <code>read</code> at the type level.</p>
<pre></a
  ><a name="18936" href="Session.html#18936" class="Function"
  >put</a
  ><a name="18939"
  > </a
  ><a name="18940" class="Symbol"
  >:</a
  ><a name="18941"
  > </a
  ><a name="18942" class="Symbol"
  >&#8704;</a
  ><a name="18943"
  > </a
  ><a name="18944" class="Symbol"
  >{</a
  ><a name="18945" href="Session.html#18945" class="Bound"
  >M</a
  ><a name="18946"
  > </a
  ><a name="18947" href="Session.html#18947" class="Bound"
  >&#915;</a
  ><a name="18948" class="Symbol"
  >}{</a
  ><a name="18950" href="Session.html#18950" class="Bound"
  >I</a
  ><a name="18951"
  > </a
  ><a name="18952" href="Session.html#18952" class="Bound"
  >O</a
  ><a name="18953"
  > </a
  ><a name="18954" href="Session.html#18954" class="Bound"
  >A</a
  ><a name="18955"
  > </a
  ><a name="18956" class="Symbol"
  >:</a
  ><a name="18957"
  > </a
  ><a name="18958" class="PrimitiveType"
  >Set</a
  ><a name="18961" class="Symbol"
  >}{</a
  ><a name="18963" href="Session.html#18963" class="Bound"
  >T</a
  ><a name="18964"
  > </a
  ><a name="18965" class="Symbol"
  >:</a
  ><a name="18966"
  > </a
  ><a name="18967" href="Session.html#18954" class="Bound"
  >A</a
  ><a name="18968"
  > </a
  ><a name="18969" class="Symbol"
  >&#8594;</a
  ><a name="18970"
  > </a
  ><a name="18971" href="Session.html#3663" class="Function"
  >De</a
  ><a name="18973"
  > </a
  ><a name="18974" href="Session.html#18950" class="Bound"
  >I</a
  ><a name="18975" class="Symbol"
  >}{</a
  ><a name="18977" href="Session.html#18977" class="Bound"
  >s</a
  ><a name="18978" class="Symbol"
  >}</a
  ><a name="18979"
  > </a
  ><a name="18980" class="Symbol"
  >&#8594;</a
  ><a name="18981"
  >
      </a
  ><a name="18988" class="Symbol"
  >(</a
  ><a name="18989" href="Session.html#18989" class="Bound"
  >i</a
  ><a name="18990"
  > </a
  ><a name="18991" class="Symbol"
  >:</a
  ><a name="18992"
  > </a
  ><a name="18993" class="Symbol"
  >(</a
  ><a name="18994" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="18995"
  > </a
  ><a name="18996" href="Session.html#18977" class="Bound"
  >s</a
  ><a name="18997"
  > </a
  ><a name="18998" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="18999"
  > </a
  ><a name="19000" href="Session.html#18950" class="Bound"
  >I</a
  ><a name="19001"
  > </a
  ><a name="19002" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19003"
  > </a
  ><a name="19004" href="Session.html#18952" class="Bound"
  >O</a
  ><a name="19005"
  > </a
  ><a name="19006" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19007"
  > </a
  ><a name="19008" href="Session.html#5132" class="Function Operator"
  >[</a
  ><a name="19009"
  > </a
  ><a name="19010" href="Session.html#18977" class="Bound"
  >s</a
  ><a name="19011"
  > </a
  ><a name="19012" href="Session.html#5132" class="Function Operator"
  >]&#931;</a
  ><a name="19014"
  > </a
  ><a name="19015" href="Session.html#18954" class="Bound"
  >A</a
  ><a name="19016"
  > </a
  ><a name="19017" class="Symbol"
  >(</a
  ><a name="19018" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="19020"
  > </a
  ><a name="19021" href="Session.html#18963" class="Bound"
  >T</a
  ><a name="19022" class="Symbol"
  >))</a
  ><a name="19024"
  > </a
  ><a name="19025" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="19026"
  > </a
  ><a name="19027" href="Session.html#18947" class="Bound"
  >&#915;</a
  ><a name="19028" class="Symbol"
  >)</a
  ><a name="19029"
  > </a
  ><a name="19030" class="Symbol"
  >&#8594;</a
  ><a name="19031"
  >
      </a
  ><a name="19038" class="Symbol"
  >(</a
  ><a name="19039" href="Session.html#19039" class="Bound"
  >a</a
  ><a name="19040"
  > </a
  ><a name="19041" class="Symbol"
  >:</a
  ><a name="19042"
  > </a
  ><a name="19043" href="Session.html#18954" class="Bound"
  >A</a
  ><a name="19044" class="Symbol"
  >)</a
  ><a name="19045"
  > </a
  ><a name="19046" class="Symbol"
  >&#8594;</a
  ><a name="19047"
  > </a
  ><a name="19048" href="Session.html#18947" class="Bound"
  >&#915;</a
  ><a name="19049"
  > </a
  ><a name="19050" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="19051"
  > </a
  ><a name="19052" href="Session.html#18945" class="Bound"
  >M</a
  ><a name="19053"
  > </a
  ><a name="19054" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="19055"
  > </a
  ><a name="19056" href="Session.html#18954" class="Bound"
  >A</a
  ><a name="19057"
  > </a
  ><a name="19058" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="19060"
  > </a
  ><a name="19061" class="Symbol"
  >(</a
  ><a name="19062" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="19064"
  > </a
  ><a name="19065" class="Symbol"
  >(</a
  ><a name="19066" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="19067"
  > </a
  ><a name="19068" href="Session.html#18977" class="Bound"
  >s</a
  ><a name="19069"
  > </a
  ><a name="19070" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19071"
  > </a
  ><a name="19072" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="19074"
  > </a
  ><a name="19075" href="Session.html#18963" class="Bound"
  >T</a
  ><a name="19076"
  > </a
  ><a name="19077" href="Session.html#19039" class="Bound"
  >a</a
  ><a name="19078" class="Symbol"
  >)</a
  ><a name="19079"
  > </a
  ><a name="19080" class="Symbol"
  >(</a
  ><a name="19081" href="Session.Base.html#3541" class="Function"
  >&#8712;ud</a
  ><a name="19084"
  > </a
  ><a name="19085" href="Session.html#18989" class="Bound"
  >i</a
  ><a name="19086" class="Symbol"
  >))</a
  ><a name="19088"
  >
</a
  ><a name="19089" href="Session.html#18936" class="Function"
  >put</a
  ><a name="19092"
  > </a
  ><a name="19093" href="Session.html#19093" class="Bound"
  >i</a
  ><a name="19094"
  > </a
  ><a name="19095" href="Session.html#19095" class="Bound"
  >a</a
  ><a name="19096"
  > </a
  ><a name="19097" class="Symbol"
  >=</a
  ><a name="19098"
  > </a
  ><a name="19099" href="Session.html#17649" class="InductiveConstructor"
  >write</a
  ><a name="19104"
  > </a
  ><a name="19105" href="Session.html#19093" class="Bound"
  >i</a
  ><a name="19106"
  > </a
  ><a name="19107" href="Session.html#19095" class="Bound"
  >a</a
  ><a name="19108"
  > </a
  ><a name="19109" href="Session.html#16487" class="InductiveConstructor Operator"
  >&#187;=</a
  ><a name="19111"
  > </a
  ><a name="19112" class="Symbol"
  >&#955;</a
  ><a name="19113"
  > </a
  ><a name="19114" href="Session.html#19114" class="Bound"
  >_</a
  ><a name="19115"
  > </a
  ><a name="19116" class="Symbol"
  >&#8594;</a
  ><a name="19117"
  > </a
  ><a name="19118" href="Session.html#17979" class="InductiveConstructor"
  >at</a
  ><a name="19120"
  > </a
  ><a name="19121" class="Symbol"
  >(</a
  ><a name="19122" href="Session.Base.html#3541" class="Function"
  >&#8712;ud</a
  ><a name="19125"
  > </a
  ><a name="19126" href="Session.html#19093" class="Bound"
  >i</a
  ><a name="19127" class="Symbol"
  >)</a
  ><a name="19128"
  >

</a
  ><a name="19130" href="Session.html#19130" class="Function"
  >get</a
  ><a name="19133"
  > </a
  ><a name="19134" class="Symbol"
  >:</a
  ><a name="19135"
  > </a
  ><a name="19136" class="Symbol"
  >&#8704;</a
  ><a name="19137"
  > </a
  ><a name="19138" class="Symbol"
  >{</a
  ><a name="19139" href="Session.html#19139" class="Bound"
  >M</a
  ><a name="19140"
  > </a
  ><a name="19141" href="Session.html#19141" class="Bound"
  >&#915;</a
  ><a name="19142"
  > </a
  ><a name="19143" href="Session.html#19143" class="Bound"
  >&#916;</a
  ><a name="19144" class="Symbol"
  >}{</a
  ><a name="19146" href="Session.html#19146" class="Bound"
  >I</a
  ><a name="19147"
  > </a
  ><a name="19148" href="Session.html#19148" class="Bound"
  >O</a
  ><a name="19149"
  > </a
  ><a name="19150" href="Session.html#19150" class="Bound"
  >A</a
  ><a name="19151"
  > </a
  ><a name="19152" href="Session.html#19152" class="Bound"
  >B</a
  ><a name="19153"
  > </a
  ><a name="19154" class="Symbol"
  >:</a
  ><a name="19155"
  > </a
  ><a name="19156" class="PrimitiveType"
  >Set</a
  ><a name="19159" class="Symbol"
  >}{</a
  ><a name="19161" href="Session.html#19161" class="Bound"
  >T</a
  ><a name="19162"
  > </a
  ><a name="19163" class="Symbol"
  >:</a
  ><a name="19164"
  > </a
  ><a name="19165" href="Session.html#19150" class="Bound"
  >A</a
  ><a name="19166"
  > </a
  ><a name="19167" class="Symbol"
  >&#8594;</a
  ><a name="19168"
  > </a
  ><a name="19169" href="Session.html#3663" class="Function"
  >De</a
  ><a name="19171"
  > </a
  ><a name="19172" href="Session.html#19146" class="Bound"
  >I</a
  ><a name="19173" class="Symbol"
  >}{</a
  ><a name="19175" href="Session.html#19175" class="Bound"
  >s</a
  ><a name="19176" class="Symbol"
  >}</a
  ><a name="19177"
  >
      </a
  ><a name="19184" class="Symbol"
  >(</a
  ><a name="19185" href="Session.html#19185" class="Bound"
  >i</a
  ><a name="19186"
  > </a
  ><a name="19187" class="Symbol"
  >:</a
  ><a name="19188"
  > </a
  ><a name="19189" class="Symbol"
  >(</a
  ><a name="19190" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="19191"
  > </a
  ><a name="19192" href="Session.html#19175" class="Bound"
  >s</a
  ><a name="19193"
  > </a
  ><a name="19194" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19195"
  > </a
  ><a name="19196" href="Session.html#19146" class="Bound"
  >I</a
  ><a name="19197"
  > </a
  ><a name="19198" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19199"
  > </a
  ><a name="19200" href="Session.html#19148" class="Bound"
  >O</a
  ><a name="19201"
  > </a
  ><a name="19202" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19203"
  > </a
  ><a name="19204" href="Session.html#5139" class="Function Operator"
  >[</a
  ><a name="19205"
  > </a
  ><a name="19206" href="Session.html#19175" class="Bound"
  >s</a
  ><a name="19207"
  > </a
  ><a name="19208" href="Session.html#5139" class="Function Operator"
  >]&#928;</a
  ><a name="19210"
  > </a
  ><a name="19211" href="Session.html#19150" class="Bound"
  >A</a
  ><a name="19212"
  > </a
  ><a name="19213" class="Symbol"
  >(</a
  ><a name="19214" href="Session.html#4056" class="InductiveConstructor"
  >`^</a
  ><a name="19216"
  > </a
  ><a name="19217" href="Session.html#19161" class="Bound"
  >T</a
  ><a name="19218" class="Symbol"
  >))</a
  ><a name="19220"
  > </a
  ><a name="19221" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="19222"
  > </a
  ><a name="19223" href="Session.html#19141" class="Bound"
  >&#915;</a
  ><a name="19224" class="Symbol"
  >)</a
  ><a name="19225"
  > </a
  ><a name="19226" class="Symbol"
  >&#8594;</a
  ><a name="19227"
  >
      </a
  ><a name="19234" class="Symbol"
  >(</a
  ><a name="19235" href="Session.html#19235" class="Bound"
  >f</a
  ><a name="19236"
  > </a
  ><a name="19237" class="Symbol"
  >:</a
  ><a name="19238"
  > </a
  ><a name="19239" class="Symbol"
  >&#8704;</a
  ><a name="19240"
  > </a
  ><a name="19241" href="Session.html#19241" class="Bound"
  >a</a
  ><a name="19242"
  > </a
  ><a name="19243" class="Symbol"
  >&#8594;</a
  ><a name="19244"
  > </a
  ><a name="19245" href="Session.Base.html#3420" class="Function"
  >ud</a
  ><a name="19247"
  > </a
  ><a name="19248" class="Symbol"
  >(</a
  ><a name="19249" href="Data.Maybe.Core.html#353" class="InductiveConstructor"
  >&gt;</a
  ><a name="19250"
  > </a
  ><a name="19251" href="Session.html#19175" class="Bound"
  >s</a
  ><a name="19252"
  > </a
  ><a name="19253" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19254"
  > </a
  ><a name="19255" href="Session.html#8605" class="InductiveConstructor Operator"
  >%2</a
  ><a name="19257"
  > </a
  ><a name="19258" href="Session.html#19161" class="Bound"
  >T</a
  ><a name="19259"
  > </a
  ><a name="19260" href="Session.html#19241" class="Bound"
  >a</a
  ><a name="19261" class="Symbol"
  >)</a
  ><a name="19262"
  > </a
  ><a name="19263" class="Symbol"
  >(</a
  ><a name="19264" href="Session.Base.html#3541" class="Function"
  >&#8712;ud</a
  ><a name="19267"
  > </a
  ><a name="19268" href="Session.html#19185" class="Bound"
  >i</a
  ><a name="19269" class="Symbol"
  >)</a
  ><a name="19270"
  > </a
  ><a name="19271" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="19272"
  > </a
  ><a name="19273" href="Session.html#19139" class="Bound"
  >M</a
  ><a name="19274"
  > </a
  ><a name="19275" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="19276"
  > </a
  ><a name="19277" href="Session.html#19152" class="Bound"
  >B</a
  ><a name="19278"
  > </a
  ><a name="19279" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="19281"
  > </a
  ><a name="19282" href="Session.html#19143" class="Bound"
  >&#916;</a
  ><a name="19283" class="Symbol"
  >)</a
  ><a name="19284"
  > </a
  ><a name="19285" class="Symbol"
  >&#8594;</a
  ><a name="19286"
  >
      </a
  ><a name="19293" href="Session.html#19141" class="Bound"
  >&#915;</a
  ><a name="19294"
  > </a
  ><a name="19295" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="19296"
  > </a
  ><a name="19297" href="Session.html#19139" class="Bound"
  >M</a
  ><a name="19298"
  > </a
  ><a name="19299" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="19300"
  > </a
  ><a name="19301" href="Session.html#19152" class="Bound"
  >B</a
  ><a name="19302"
  > </a
  ><a name="19303" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="19305"
  > </a
  ><a name="19306" href="Session.html#19143" class="Bound"
  >&#916;</a
  ><a name="19307"
  >
</a
  ><a name="19308" href="Session.html#19130" class="Function"
  >get</a
  ><a name="19311"
  > </a
  ><a name="19312" href="Session.html#19312" class="Bound"
  >i</a
  ><a name="19313"
  > </a
  ><a name="19314" href="Session.html#19314" class="Bound"
  >f</a
  ><a name="19315"
  > </a
  ><a name="19316" class="Symbol"
  >=</a
  ><a name="19317"
  > </a
  ><a name="19318" href="Session.html#17723" class="InductiveConstructor"
  >read</a
  ><a name="19322"
  > </a
  ><a name="19323" href="Session.html#19312" class="Bound"
  >i</a
  ><a name="19324"
  > </a
  ><a name="19325" href="Session.html#16487" class="InductiveConstructor Operator"
  >&#187;=</a
  ><a name="19327"
  > </a
  ><a name="19328" class="Symbol"
  >&#955;</a
  ><a name="19329"
  > </a
  ><a name="19330" href="Session.html#19330" class="Bound"
  >a</a
  ><a name="19331"
  > </a
  ><a name="19332" class="Symbol"
  >&#8594;</a
  ><a name="19333"
  > </a
  ><a name="19334" href="Session.html#17979" class="InductiveConstructor"
  >at</a
  ><a name="19336"
  > </a
  ><a name="19337" class="Symbol"
  >(</a
  ><a name="19338" href="Session.Base.html#3541" class="Function"
  >&#8712;ud</a
  ><a name="19341"
  > </a
  ><a name="19342" href="Session.html#19312" class="Bound"
  >i</a
  ><a name="19343" class="Symbol"
  >)</a
  ><a name="19344"
  > </a
  ><a name="19345" href="Session.html#18599" class="Function Operator"
  >&#187;</a
  ><a name="19346"
  > </a
  ><a name="19347" href="Session.html#19314" class="Bound"
  >f</a
  ><a name="19348"
  > </a
  ><a name="19349" href="Session.html#19330" class="Bound"
  >a</a
  ><a name="19350"
  ></pre>
<h4 id="new-channel-for--indexed-sessions"><code>new</code> channel for ⊤-indexed sessions</h4>
<p>We often create channels for stateful sessions where both index sets are <code>⊤</code>: using <code>new⊤</code> helps inference.</p>
<pre></a
  ><a name="19528" href="Session.html#19528" class="Function"
  >new&#8868;</a
  ><a name="19532"
  > </a
  ><a name="19533" class="Symbol"
  >:</a
  ><a name="19534"
  > </a
  ><a name="19535" class="Symbol"
  >&#8704;</a
  ><a name="19536"
  > </a
  ><a name="19537" class="Symbol"
  >{</a
  ><a name="19538" href="Session.html#19538" class="Bound"
  >&#915;</a
  ><a name="19539"
  > </a
  ><a name="19540" href="Session.html#19540" class="Bound"
  >M</a
  ><a name="19541"
  > </a
  ><a name="19542" href="Session.html#19542" class="Bound"
  >F</a
  ><a name="19543" class="Symbol"
  >}</a
  ><a name="19544"
  > </a
  ><a name="19545" class="Symbol"
  >&#8594;</a
  ><a name="19546"
  > </a
  ><a name="19547" href="Session.html#19538" class="Bound"
  >&#915;</a
  ><a name="19548"
  > </a
  ><a name="19549" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="19550"
  > </a
  ><a name="19551" href="Session.html#19540" class="Bound"
  >M</a
  ><a name="19552"
  > </a
  ><a name="19553" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="19554"
  > </a
  ><a name="19555" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="19556"
  > </a
  ><a name="19557" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="19559"
  > </a
  ><a name="19560" href="Session.html#19538" class="Bound"
  >&#915;</a
  ><a name="19561"
  > </a
  ><a name="19562" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="19563"
  > </a
  ><a name="19564" class="Symbol"
  >(</a
  ><a name="19565" href="Data.Maybe.Core.html#383" class="InductiveConstructor"
  >&#949;</a
  ><a name="19566"
  > </a
  ><a name="19567" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19568"
  > </a
  ><a name="19569" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="19570"
  > </a
  ><a name="19571" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19572"
  > </a
  ><a name="19573" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="19574"
  > </a
  ><a name="19575" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="19576"
  > </a
  ><a name="19577" href="Session.html#19542" class="Bound"
  >F</a
  ><a name="19578" class="Symbol"
  >)</a
  ><a name="19579"
  >
</a
  ><a name="19580" href="Session.html#19528" class="Function"
  >new&#8868;</a
  ><a name="19584"
  > </a
  ><a name="19585" class="Symbol"
  >=</a
  ><a name="19586"
  > </a
  ><a name="19587" href="Session.html#17131" class="InductiveConstructor"
  >new</a
  ><a name="19590"
  ></pre>
<h2 id="haskell-evaluator">Haskell evaluator</h2>
<p>To make an efficient use of Haskell channels, while forgetting the data required to compute their &quot;changing&quot; types, we resort to making a <em>sensible</em> use of <strong>unsafe</strong> casts. What follows should therefore be considered as an extension to the <em>trusted base</em>.</p>
<p>We provide <strong>no correctness proof</strong> for this evaluator.</p>
<pre></a
  ><a name="19953" class="Keyword"
  >private</a
  ><a name="19960"
  >

  </a
  ><a name="19964" class="Keyword"
  >postulate</a
  ><a name="19973"
  >
    </a
  ><a name="19978" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="19990"
  > </a
  ><a name="19991" class="Symbol"
  >:</a
  ><a name="19992"
  > </a
  ><a name="19993" class="Symbol"
  >&#8704;</a
  ><a name="19994"
  > </a
  ><a name="19995" class="Symbol"
  >{</a
  ><a name="19996" href="Session.html#19996" class="Bound"
  >l1</a
  ><a name="19998" class="Symbol"
  >}{</a
  ><a name="20000" href="Session.html#20000" class="Bound"
  >A</a
  ><a name="20001"
  > </a
  ><a name="20002" class="Symbol"
  >:</a
  ><a name="20003"
  > </a
  ><a name="20004" class="PrimitiveType"
  >Set</a
  ><a name="20007"
  > </a
  ><a name="20008" href="Session.html#19996" class="Bound"
  >l1</a
  ><a name="20010" class="Symbol"
  >}{</a
  ><a name="20012" href="Session.html#20012" class="Bound"
  >l2</a
  ><a name="20014" class="Symbol"
  >}{</a
  ><a name="20016" href="Session.html#20016" class="Bound"
  >B</a
  ><a name="20017"
  > </a
  ><a name="20018" class="Symbol"
  >:</a
  ><a name="20019"
  > </a
  ><a name="20020" class="PrimitiveType"
  >Set</a
  ><a name="20023"
  > </a
  ><a name="20024" href="Session.html#20012" class="Bound"
  >l2</a
  ><a name="20026" class="Symbol"
  >}</a
  ><a name="20027"
  > </a
  ><a name="20028" class="Symbol"
  >&#8594;</a
  ><a name="20029"
  > </a
  ><a name="20030" href="Session.html#20000" class="Bound"
  >A</a
  ><a name="20031"
  > </a
  ><a name="20032" class="Symbol"
  >&#8594;</a
  ><a name="20033"
  > </a
  ><a name="20034" href="Session.html#20016" class="Bound"
  >B</a
  ><a name="20035"
  >

  </a
  ><a name="20039" class="Symbol"
  >{-#</a
  ><a name="20042"
  > </a
  ><a name="20043" class="Keyword"
  >IMPORT</a
  ><a name="20049"
  >   Unsafe.Coerce                                          </a
  ><a name="20107" class="Symbol"
  >#-}</a
  ><a name="20110"
  >
  </a
  ><a name="20113" class="Symbol"
  >{-#</a
  ><a name="20116"
  > </a
  ><a name="20117" class="Keyword"
  >COMPILED</a
  ><a name="20125"
  > </a
  ><a name="20126" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="20138"
  > (\ _ _ _ _ -&gt; Unsafe.Coerce.unsafeCoerce) </a
  ><a name="20181" class="Symbol"
  >#-}</a
  ><a name="20184"
  ></pre>

<pre></a
  ><a name="20210" class="Keyword"
  >open</a
  ><a name="20214"
  > </a
  ><a name="20215" class="Keyword"
  >import</a
  ><a name="20221"
  > </a
  ><a name="20222" href="IO.Primitive.html#1" class="Module"
  >IO.Primitive</a
  ><a name="20234"
  > </a
  ><a name="20235" class="Keyword"
  >using</a
  ><a name="20240"
  > </a
  ><a name="20241" class="Symbol"
  >(</a
  ><a name="20242"
  >IO </a
  ><a name="20245" class="Symbol"
  >;</a
  ><a name="20246"
  > return </a
  ><a name="20254" class="Symbol"
  >;</a
  ><a name="20255"
  > _&gt;&gt;=_ </a
  ><a name="20262" class="Symbol"
  >;</a
  ><a name="20263"
  > putStr </a
  ><a name="20271" class="Symbol"
  >;</a
  ><a name="20272"
  > putStrLn</a
  ><a name="20281" class="Symbol"
  >)</a
  ><a name="20282"
  >
</a
  ><a name="20283" class="Keyword"
  >module</a
  ><a name="20289"
  > </a
  ><a name="20290" href="Session.html#20290" class="Module"
  >IO</a
  ><a name="20292"
  > </a
  ><a name="20293" class="Symbol"
  >=</a
  ><a name="20294"
  > </a
  ><a name="20295" href="IO.Primitive.html#1" class="Module"
  >IO.Primitive</a
  ><a name="20307"
  ></pre>

<pre></a
  ><a name="20333" class="Keyword"
  >infix</a
  ><a name="20338"
  > </a
  ><a name="20339" class="Number"
  >2</a
  ><a name="20340"
  > _[IO_]&gt;_
</a
  ><a name="20350" href="Session.html#20350" class="Function Operator"
  >_[IO_]&gt;_</a
  ><a name="20358"
  > </a
  ><a name="20359" class="Symbol"
  >=</a
  ><a name="20360"
  > </a
  ><a name="20361" class="Symbol"
  >&#955;</a
  ><a name="20362"
  > </a
  ><a name="20363" href="Session.html#20363" class="Bound"
  >&#915;</a
  ><a name="20364"
  > </a
  ><a name="20365" href="Session.html#20365" class="Bound"
  >X</a
  ><a name="20366"
  > </a
  ><a name="20367" href="Session.html#20367" class="Bound"
  >&#916;</a
  ><a name="20368"
  > </a
  ><a name="20369" class="Symbol"
  >&#8594;</a
  ><a name="20370"
  > </a
  ><a name="20371" href="Session.html#20363" class="Bound"
  >&#915;</a
  ><a name="20372"
  > </a
  ><a name="20373" href="Session.html#16284" class="Datatype Operator"
  >[</a
  ><a name="20374"
  > </a
  ><a name="20375" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="20377"
  > </a
  ><a name="20378" href="Session.html#16284" class="Datatype Operator"
  >&#8866;</a
  ><a name="20379"
  > </a
  ><a name="20380" href="Session.html#20365" class="Bound"
  >X</a
  ><a name="20381"
  > </a
  ><a name="20382" href="Session.html#16284" class="Datatype Operator"
  >]&gt;</a
  ><a name="20384"
  > </a
  ><a name="20385" href="Session.html#20367" class="Bound"
  >&#916;</a
  ><a name="20386"
  >

</a
  ><a name="20388" href="Session.html#20388" class="Function"
  >IOProc</a
  ><a name="20394"
  > </a
  ><a name="20395" class="Symbol"
  >=</a
  ><a name="20396"
  > </a
  ><a name="20397" class="Symbol"
  >&#955;</a
  ><a name="20398"
  > </a
  ><a name="20399" href="Session.html#20399" class="Bound"
  >X</a
  ><a name="20400"
  > </a
  ><a name="20401" class="Symbol"
  >&#8594;</a
  ><a name="20402"
  > </a
  ><a name="20403" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="20405"
  > </a
  ><a name="20406" href="Session.html#20350" class="Function Operator"
  >[IO</a
  ><a name="20409"
  > </a
  ><a name="20410" href="Session.html#20399" class="Bound"
  >X</a
  ><a name="20411"
  > </a
  ><a name="20412" href="Session.html#20350" class="Function Operator"
  >]&gt;</a
  ><a name="20414"
  > </a
  ><a name="20415" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="20417"
  >

</a
  ><a name="20419" class="Keyword"
  >open</a
  ><a name="20423"
  > </a
  ><a name="20424" class="Keyword"
  >import</a
  ><a name="20430"
  > </a
  ><a name="20431" href="Control.Concurrent.html#1" class="Module"
  >Control.Concurrent</a
  ><a name="20449"
  >
</a
  ><a name="20450" class="Keyword"
  >module</a
  ><a name="20456"
  > </a
  ><a name="20457" href="Session.html#20457" class="Module"
  >C</a
  ><a name="20458"
  >  </a
  ><a name="20460" class="Symbol"
  >=</a
  ><a name="20461"
  > </a
  ><a name="20462" href="Control.Concurrent.html#1" class="Module"
  >Control.Concurrent</a
  ><a name="20480"
  >
</a
  ><a name="20481" class="Keyword"
  >open</a
  ><a name="20485"
  > </a
  ><a name="20486" class="Keyword"
  >import</a
  ><a name="20492"
  > </a
  ><a name="20493" href="Control.Concurrent.Chan.Synchronous.html#1" class="Module"
  >Control.Concurrent.Chan.Synchronous</a
  ><a name="20528"
  >
</a
  ><a name="20529" class="Keyword"
  >module</a
  ><a name="20535"
  > </a
  ><a name="20536" href="Session.html#20536" class="Module"
  >CS</a
  ><a name="20538"
  > </a
  ><a name="20539" class="Symbol"
  >=</a
  ><a name="20540"
  > </a
  ><a name="20541" href="Control.Concurrent.Chan.Synchronous.html#1" class="Module"
  >Control.Concurrent.Chan.Synchronous</a
  ><a name="20576"
  ></pre>
<p>We need our channels to be untyped, to obtain which we postulate an abstract type and use unsafe coercions to and from it.</p>
<p>This is similar to Pucella and Tov's embedding in <a href="http://www.eecs.harvard.edu/~tov/pubs/haskell-session-types/">&quot;Haskell Session Types with (Almost) No Class&quot;</a>.</p>
<pre></a
  ><a name="20889" class="Keyword"
  >postulate</a
  ><a name="20898"
  > </a
  ><a name="20899" href="Session.html#20899" class="Postulate"
  >Abs</a
  ><a name="20902"
  > </a
  ><a name="20903" class="Symbol"
  >:</a
  ><a name="20904"
  > </a
  ><a name="20905" class="PrimitiveType"
  >Set</a
  ><a name="20908"
  >

</a
  ><a name="20910" href="Session.html#20910" class="Function"
  >UChan</a
  ><a name="20915"
  > </a
  ><a name="20916" class="Symbol"
  >=</a
  ><a name="20917"
  > </a
  ><a name="20918" href="Control.Concurrent.Chan.Synchronous.html#131" class="Postulate"
  >Chan</a
  ><a name="20922"
  > </a
  ><a name="20923" href="Session.html#20899" class="Postulate"
  >Abs</a
  ><a name="20926"
  ></pre>
<p>The channels for a context.</p>
<pre></a
  ><a name="20981" href="Session.html#20981" class="Function Operator"
  >&#10214;_&#10215;Cx</a
  ><a name="20986"
  > </a
  ><a name="20987" class="Symbol"
  >:</a
  ><a name="20988"
  > </a
  ><a name="20989" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="20991"
  > </a
  ><a name="20992" class="Symbol"
  >&#8594;</a
  ><a name="20993"
  > </a
  ><a name="20994" class="PrimitiveType"
  >Set&#8321;</a
  ><a name="20998"
  >
</a
  ><a name="20999" href="Session.html#20981" class="Function Operator"
  >&#10214;_&#10215;Cx</a
  ><a name="21004"
  > </a
  ><a name="21005" class="Symbol"
  >=</a
  ><a name="21006"
  > </a
  ><a name="21007" href="Data.List.All.html#701" class="Datatype"
  >All</a
  ><a name="21010"
  > </a
  ><a name="21011" class="Symbol"
  >&#955;</a
  ><a name="21012"
  > </a
  ><a name="21013" href="Session.html#21013" class="Bound"
  >_</a
  ><a name="21014"
  > </a
  ><a name="21015" class="Symbol"
  >&#8594;</a
  ><a name="21016"
  > </a
  ><a name="21017" href="Session.html#20910" class="Function"
  >UChan</a
  ><a name="21022"
  ></pre>

<pre></a
  ><a name="21048" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="21059"
  > </a
  ><a name="21060" class="Symbol"
  >:</a
  ><a name="21061"
  > </a
  ><a name="21062" class="Symbol"
  >&#8704;</a
  ><a name="21063"
  > </a
  ><a name="21064" class="Symbol"
  >{</a
  ><a name="21065" href="Session.html#21065" class="Bound"
  >&#915;</a
  ><a name="21066"
  > </a
  ><a name="21067" href="Session.html#21067" class="Bound"
  >C</a
  ><a name="21068" class="Symbol"
  >}</a
  ><a name="21069"
  > </a
  ><a name="21070" class="Symbol"
  >&#8594;</a
  ><a name="21071"
  > </a
  ><a name="21072" class="Symbol"
  >(</a
  ><a name="21073" href="Session.html#21073" class="Bound"
  >i</a
  ><a name="21074"
  > </a
  ><a name="21075" class="Symbol"
  >:</a
  ><a name="21076"
  > </a
  ><a name="21077" href="Session.html#21067" class="Bound"
  >C</a
  ><a name="21078"
  > </a
  ><a name="21079" href="Data.List.Any.html#2915" class="Function Operator"
  >&#8712;</a
  ><a name="21080"
  > </a
  ><a name="21081" href="Session.html#21065" class="Bound"
  >&#915;</a
  ><a name="21082" class="Symbol"
  >)</a
  ><a name="21083"
  > </a
  ><a name="21084" class="Symbol"
  >&#8594;</a
  ><a name="21085"
  > </a
  ><a name="21086" href="Session.html#20981" class="Function Operator"
  >&#10214;</a
  ><a name="21087"
  > </a
  ><a name="21088" href="Session.html#21065" class="Bound"
  >&#915;</a
  ><a name="21089"
  > </a
  ><a name="21090" href="Session.html#20981" class="Function Operator"
  >&#10215;Cx</a
  ><a name="21093"
  > </a
  ><a name="21094" class="Symbol"
  >&#8594;</a
  ><a name="21095"
  > </a
  ><a name="21096" href="Session.html#20910" class="Function"
  >UChan</a
  ><a name="21101"
  >
</a
  ><a name="21102" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="21113"
  > </a
  ><a name="21114" href="Session.html#21114" class="Bound"
  >i</a
  ><a name="21115"
  > </a
  ><a name="21116" href="Session.html#21116" class="Bound"
  >cs</a
  ><a name="21118"
  > </a
  ><a name="21119" class="Symbol"
  >=</a
  ><a name="21120"
  > </a
  ><a name="21121" href="Data.Product.html#535" class="Field"
  >snd</a
  ><a name="21124"
  > </a
  ><a name="21125" class="Symbol"
  >(</a
  ><a name="21126" href="Session.Base.html#3865" class="Function"
  >lookupAll</a
  ><a name="21135"
  > </a
  ><a name="21136" href="Session.html#21114" class="Bound"
  >i</a
  ><a name="21137"
  > </a
  ><a name="21138" href="Session.html#21116" class="Bound"
  >cs</a
  ><a name="21140" class="Symbol"
  >)</a
  ><a name="21141"
  ></pre>
<p>We need some Haskell helpers.</p>
<p>Note that our channels are ultimately implemented on top of Jesse Tov's <code>synchronous-channels</code> package: for this reason, currently all the interactions are synchronous (blocking).</p>
<pre></a
  ><a name="21379" class="Keyword"
  >infixl</a
  ><a name="21385"
  > </a
  ><a name="21386" class="Number"
  >1</a
  ><a name="21387"
  > _&gt;&gt;_

</a
  ><a name="21394" href="Session.html#21394" class="Function Operator"
  >_&gt;&gt;_</a
  ><a name="21398"
  > </a
  ><a name="21399" class="Symbol"
  >:</a
  ><a name="21400"
  > </a
  ><a name="21401" class="Symbol"
  >&#8704;</a
  ><a name="21402"
  > </a
  ><a name="21403" class="Symbol"
  >{</a
  ><a name="21404" href="Session.html#21404" class="Bound"
  >lA</a
  ><a name="21406"
  > </a
  ><a name="21407" href="Session.html#21407" class="Bound"
  >lB</a
  ><a name="21409" class="Symbol"
  >}{</a
  ><a name="21411" href="Session.html#21411" class="Bound"
  >A</a
  ><a name="21412"
  > </a
  ><a name="21413" class="Symbol"
  >:</a
  ><a name="21414"
  > </a
  ><a name="21415" class="PrimitiveType"
  >Set</a
  ><a name="21418"
  > </a
  ><a name="21419" href="Session.html#21404" class="Bound"
  >lA</a
  ><a name="21421" class="Symbol"
  >}{</a
  ><a name="21423" href="Session.html#21423" class="Bound"
  >B</a
  ><a name="21424"
  > </a
  ><a name="21425" class="Symbol"
  >:</a
  ><a name="21426"
  > </a
  ><a name="21427" class="PrimitiveType"
  >Set</a
  ><a name="21430"
  > </a
  ><a name="21431" href="Session.html#21407" class="Bound"
  >lB</a
  ><a name="21433" class="Symbol"
  >}</a
  ><a name="21434"
  > </a
  ><a name="21435" class="Symbol"
  >&#8594;</a
  ><a name="21436"
  > </a
  ><a name="21437" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="21439"
  > </a
  ><a name="21440" href="Session.html#21411" class="Bound"
  >A</a
  ><a name="21441"
  > </a
  ><a name="21442" class="Symbol"
  >&#8594;</a
  ><a name="21443"
  > </a
  ><a name="21444" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="21446"
  > </a
  ><a name="21447" href="Session.html#21423" class="Bound"
  >B</a
  ><a name="21448"
  > </a
  ><a name="21449" class="Symbol"
  >&#8594;</a
  ><a name="21450"
  > </a
  ><a name="21451" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="21453"
  > </a
  ><a name="21454" href="Session.html#21423" class="Bound"
  >B</a
  ><a name="21455"
  >
</a
  ><a name="21456" href="Session.html#21456" class="Bound"
  >m</a
  ><a name="21457"
  > </a
  ><a name="21458" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="21460"
  > </a
  ><a name="21461" href="Session.html#21461" class="Bound"
  >n</a
  ><a name="21462"
  > </a
  ><a name="21463" class="Symbol"
  >=</a
  ><a name="21464"
  > </a
  ><a name="21465" href="Session.html#21456" class="Bound"
  >m</a
  ><a name="21466"
  > </a
  ><a name="21467" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="21470"
  > </a
  ><a name="21471" class="Symbol"
  >&#955;</a
  ><a name="21472"
  > </a
  ><a name="21473" href="Session.html#21473" class="Bound"
  >_</a
  ><a name="21474"
  > </a
  ><a name="21475" class="Symbol"
  >&#8594;</a
  ><a name="21476"
  > </a
  ><a name="21477" href="Session.html#21461" class="Bound"
  >n</a
  ><a name="21478"
  >

</a
  ><a name="21480" href="Session.html#21480" class="Function"
  >mapIO</a
  ><a name="21485"
  > </a
  ><a name="21486" class="Symbol"
  >:</a
  ><a name="21487"
  > </a
  ><a name="21488" class="Symbol"
  >&#8704;</a
  ><a name="21489"
  > </a
  ><a name="21490" class="Symbol"
  >{</a
  ><a name="21491" href="Session.html#21491" class="Bound"
  >lA</a
  ><a name="21493"
  > </a
  ><a name="21494" href="Session.html#21494" class="Bound"
  >lB</a
  ><a name="21496" class="Symbol"
  >}{</a
  ><a name="21498" href="Session.html#21498" class="Bound"
  >A</a
  ><a name="21499"
  > </a
  ><a name="21500" class="Symbol"
  >:</a
  ><a name="21501"
  > </a
  ><a name="21502" class="PrimitiveType"
  >Set</a
  ><a name="21505"
  > </a
  ><a name="21506" href="Session.html#21491" class="Bound"
  >lA</a
  ><a name="21508" class="Symbol"
  >}{</a
  ><a name="21510" href="Session.html#21510" class="Bound"
  >B</a
  ><a name="21511"
  > </a
  ><a name="21512" class="Symbol"
  >:</a
  ><a name="21513"
  > </a
  ><a name="21514" class="PrimitiveType"
  >Set</a
  ><a name="21517"
  > </a
  ><a name="21518" href="Session.html#21494" class="Bound"
  >lB</a
  ><a name="21520" class="Symbol"
  >}</a
  ><a name="21521"
  > </a
  ><a name="21522" class="Symbol"
  >&#8594;</a
  ><a name="21523"
  > </a
  ><a name="21524" class="Symbol"
  >(</a
  ><a name="21525" href="Session.html#21498" class="Bound"
  >A</a
  ><a name="21526"
  > </a
  ><a name="21527" class="Symbol"
  >&#8594;</a
  ><a name="21528"
  > </a
  ><a name="21529" href="Session.html#21510" class="Bound"
  >B</a
  ><a name="21530" class="Symbol"
  >)</a
  ><a name="21531"
  > </a
  ><a name="21532" class="Symbol"
  >&#8594;</a
  ><a name="21533"
  > </a
  ><a name="21534" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="21536"
  > </a
  ><a name="21537" href="Session.html#21498" class="Bound"
  >A</a
  ><a name="21538"
  > </a
  ><a name="21539" class="Symbol"
  >&#8594;</a
  ><a name="21540"
  > </a
  ><a name="21541" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="21543"
  > </a
  ><a name="21544" href="Session.html#21510" class="Bound"
  >B</a
  ><a name="21545"
  >
</a
  ><a name="21546" href="Session.html#21480" class="Function"
  >mapIO</a
  ><a name="21551"
  > </a
  ><a name="21552" href="Session.html#21552" class="Bound"
  >f</a
  ><a name="21553"
  > </a
  ><a name="21554" href="Session.html#21554" class="Bound"
  >xs</a
  ><a name="21556"
  > </a
  ><a name="21557" class="Symbol"
  >=</a
  ><a name="21558"
  > </a
  ><a name="21559" href="Session.html#21554" class="Bound"
  >xs</a
  ><a name="21561"
  > </a
  ><a name="21562" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="21565"
  > </a
  ><a name="21566" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="21572"
  > </a
  ><a name="21573" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="21574"
  > </a
  ><a name="21575" href="Session.html#21552" class="Bound"
  >f</a
  ><a name="21576"
  ></pre>
<p>Every communication with the untyped channels uses <code>unsafeCoerce</code>.</p>
<pre></a
  ><a name="21670" href="Session.html#21670" class="Function"
  >writeUChan</a
  ><a name="21680"
  > </a
  ><a name="21681" class="Symbol"
  >:</a
  ><a name="21682"
  > </a
  ><a name="21683" class="Symbol"
  >{</a
  ><a name="21684" href="Session.html#21684" class="Bound"
  >A</a
  ><a name="21685"
  > </a
  ><a name="21686" class="Symbol"
  >:</a
  ><a name="21687"
  > </a
  ><a name="21688" class="PrimitiveType"
  >Set</a
  ><a name="21691" class="Symbol"
  >}</a
  ><a name="21692"
  > </a
  ><a name="21693" class="Symbol"
  >&#8594;</a
  ><a name="21694"
  > </a
  ><a name="21695" href="Session.html#20910" class="Function"
  >UChan</a
  ><a name="21700"
  > </a
  ><a name="21701" class="Symbol"
  >&#8594;</a
  ><a name="21702"
  > </a
  ><a name="21703" href="Session.html#21684" class="Bound"
  >A</a
  ><a name="21704"
  > </a
  ><a name="21705" class="Symbol"
  >&#8594;</a
  ><a name="21706"
  > </a
  ><a name="21707" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="21709"
  > </a
  ><a name="21710" href="Unit.html#194" class="Function"
  >C.&lt;&gt;</a
  ><a name="21714"
  >
</a
  ><a name="21715" href="Session.html#21670" class="Function"
  >writeUChan</a
  ><a name="21725"
  > </a
  ><a name="21726" href="Session.html#21726" class="Bound"
  >c</a
  ><a name="21727"
  > </a
  ><a name="21728" class="Symbol"
  >=</a
  ><a name="21729"
  > </a
  ><a name="21730" href="Control.Concurrent.Chan.Synchronous.html#345" class="Postulate"
  >writeChan</a
  ><a name="21739"
  > </a
  ><a name="21740" href="Session.html#21726" class="Bound"
  >c</a
  ><a name="21741"
  > </a
  ><a name="21742" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="21743"
  > </a
  ><a name="21744" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="21756"
  >

</a
  ><a name="21758" href="Session.html#21758" class="Function"
  >readUChan</a
  ><a name="21767"
  > </a
  ><a name="21768" class="Symbol"
  >:</a
  ><a name="21769"
  > </a
  ><a name="21770" class="Symbol"
  >{</a
  ><a name="21771" href="Session.html#21771" class="Bound"
  >A</a
  ><a name="21772"
  > </a
  ><a name="21773" class="Symbol"
  >:</a
  ><a name="21774"
  > </a
  ><a name="21775" class="PrimitiveType"
  >Set</a
  ><a name="21778" class="Symbol"
  >}</a
  ><a name="21779"
  > </a
  ><a name="21780" class="Symbol"
  >&#8594;</a
  ><a name="21781"
  > </a
  ><a name="21782" href="Session.html#20910" class="Function"
  >UChan</a
  ><a name="21787"
  > </a
  ><a name="21788" class="Symbol"
  >&#8594;</a
  ><a name="21789"
  > </a
  ><a name="21790" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="21792"
  > </a
  ><a name="21793" href="Session.html#21771" class="Bound"
  >A</a
  ><a name="21794"
  >
</a
  ><a name="21795" href="Session.html#21758" class="Function"
  >readUChan</a
  ><a name="21804"
  > </a
  ><a name="21805" class="Symbol"
  >{</a
  ><a name="21806"
  >A </a
  ><a name="21808" class="Symbol"
  >=</a
  ><a name="21809"
  > </a
  ><a name="21810" href="Session.html#21810" class="Bound"
  >A</a
  ><a name="21811" class="Symbol"
  >}</a
  ><a name="21812"
  > </a
  ><a name="21813" href="Session.html#21813" class="Bound"
  >c</a
  ><a name="21814"
  > </a
  ><a name="21815" class="Symbol"
  >=</a
  ><a name="21816"
  > </a
  ><a name="21817" href="Control.Concurrent.Chan.Synchronous.html#397" class="Postulate"
  >readChan</a
  ><a name="21825"
  > </a
  ><a name="21826" href="Session.html#21813" class="Bound"
  >c</a
  ><a name="21827"
  > </a
  ><a name="21828" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="21831"
  > </a
  ><a name="21832" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="21838"
  > </a
  ><a name="21839" href="Function.html#713" class="Function Operator"
  >&#8728;</a
  ><a name="21840"
  > </a
  ><a name="21841" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="21853"
  ></pre>
<p>Here is the actual test evaluator, to implement which we disable termination checking: we already use &quot;unsafe&quot; features so we do not bother defining a <em>coinductive</em> wrapper as in the <code>IO</code> module of Agda's standard library.</p>
<pre></a
  ><a name="22103" class="Symbol"
  >{-#</a
  ><a name="22106"
  > </a
  ><a name="22107" class="Keyword"
  >NO_TERMINATION_CHECK</a
  ><a name="22127"
  > </a
  ><a name="22128" class="Symbol"
  >#-}</a
  ><a name="22131"
  >
</a
  ><a name="22132" href="Session.html#22132" class="Function"
  >run</a
  ><a name="22135"
  > </a
  ><a name="22136" class="Symbol"
  >:</a
  ><a name="22137"
  > </a
  ><a name="22138" class="Symbol"
  >{</a
  ><a name="22139" href="Session.html#22139" class="Bound"
  >&#915;</a
  ><a name="22140"
  > </a
  ><a name="22141" href="Session.html#22141" class="Bound"
  >&#916;</a
  ><a name="22142"
  > </a
  ><a name="22143" class="Symbol"
  >:</a
  ><a name="22144"
  > </a
  ><a name="22145" href="Session.html#5925" class="Function"
  >Cx</a
  ><a name="22147" class="Symbol"
  >}{</a
  ><a name="22149" href="Session.html#22149" class="Bound"
  >X</a
  ><a name="22150"
  > </a
  ><a name="22151" class="Symbol"
  >:</a
  ><a name="22152"
  > </a
  ><a name="22153" class="PrimitiveType"
  >Set</a
  ><a name="22156" class="Symbol"
  >}</a
  ><a name="22157"
  > </a
  ><a name="22158" class="Symbol"
  >&#8594;</a
  ><a name="22159"
  > </a
  ><a name="22160" href="Session.html#22139" class="Bound"
  >&#915;</a
  ><a name="22161"
  > </a
  ><a name="22162" href="Session.html#20350" class="Function Operator"
  >[IO</a
  ><a name="22165"
  > </a
  ><a name="22166" href="Session.html#22149" class="Bound"
  >X</a
  ><a name="22167"
  > </a
  ><a name="22168" href="Session.html#20350" class="Function Operator"
  >]&gt;</a
  ><a name="22170"
  > </a
  ><a name="22171" href="Session.html#22141" class="Bound"
  >&#916;</a
  ><a name="22172"
  > </a
  ><a name="22173" class="Symbol"
  >&#8594;</a
  ><a name="22174"
  > </a
  ><a name="22175" href="Session.html#20981" class="Function Operator"
  >&#10214;</a
  ><a name="22176"
  > </a
  ><a name="22177" href="Session.html#22139" class="Bound"
  >&#915;</a
  ><a name="22178"
  > </a
  ><a name="22179" href="Session.html#20981" class="Function Operator"
  >&#10215;Cx</a
  ><a name="22182"
  > </a
  ><a name="22183" class="Symbol"
  >&#8594;</a
  ><a name="22184"
  > </a
  ><a name="22185" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="22187"
  > </a
  ><a name="22188" class="Symbol"
  >(</a
  ><a name="22189" href="Session.html#22149" class="Bound"
  >X</a
  ><a name="22190"
  > </a
  ><a name="22191" href="Data.Product.html#1078" class="Function Operator"
  >&#215;</a
  ><a name="22192"
  > </a
  ><a name="22193" href="Session.html#20981" class="Function Operator"
  >&#10214;</a
  ><a name="22194"
  > </a
  ><a name="22195" href="Session.html#22141" class="Bound"
  >&#916;</a
  ><a name="22196"
  > </a
  ><a name="22197" href="Session.html#20981" class="Function Operator"
  >&#10215;Cx</a
  ><a name="22200" class="Symbol"
  >)</a
  ><a name="22201"
  ></pre>
<p>We map the embedded monadic actions to themselves, and the binding syntax to the binding operator for the <code>IO</code> monad.</p>
<pre></a
  ><a name="22346" href="Session.html#22132" class="Function"
  >run</a
  ><a name="22349"
  > </a
  ><a name="22350" class="Symbol"
  >(</a
  ><a name="22351" href="Session.html#16335" class="InductiveConstructor Operator"
  >&#8657;</a
  ><a name="22352"
  > </a
  ><a name="22353" href="Session.html#22353" class="Bound"
  >m</a
  ><a name="22354"
  >           </a
  ><a name="22365" class="Symbol"
  >)</a
  ><a name="22366"
  > </a
  ><a name="22367" href="Session.html#22367" class="Bound"
  >cs</a
  ><a name="22369"
  > </a
  ><a name="22370" class="Symbol"
  >=</a
  ><a name="22371"
  > </a
  ><a name="22372" href="Session.html#21480" class="Function"
  >mapIO</a
  ><a name="22377"
  > </a
  ><a name="22378" class="Symbol"
  >(</a
  ><a name="22379" href="Function.html#1474" class="Function"
  >flip</a
  ><a name="22383"
  > </a
  ><a name="22384" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >_,_</a
  ><a name="22387"
  > </a
  ><a name="22388" href="Session.html#22367" class="Bound"
  >cs</a
  ><a name="22390" class="Symbol"
  >)</a
  ><a name="22391"
  > </a
  ><a name="22392" href="Session.html#22353" class="Bound"
  >m</a
  ><a name="22393"
  >                                           
                                                                                          
</a
  ><a name="22528" href="Session.html#22132" class="Function"
  >run</a
  ><a name="22531"
  > </a
  ><a name="22532" class="Symbol"
  >(</a
  ><a name="22533" href="Session.html#22533" class="Bound"
  >m</a
  ><a name="22534"
  > </a
  ><a name="22535" href="Session.html#16487" class="InductiveConstructor Operator"
  >&#187;=</a
  ><a name="22537"
  > </a
  ><a name="22538" href="Session.html#22538" class="Bound"
  >f</a
  ><a name="22539"
  >        </a
  ><a name="22547" class="Symbol"
  >)</a
  ><a name="22548"
  > </a
  ><a name="22549" href="Session.html#22549" class="Bound"
  >cs</a
  ><a name="22551"
  > </a
  ><a name="22552" class="Symbol"
  >=</a
  ><a name="22553"
  > </a
  ><a name="22554" href="Session.html#22132" class="Function"
  >run</a
  ><a name="22557"
  > </a
  ><a name="22558" href="Session.html#22533" class="Bound"
  >m</a
  ><a name="22559"
  > </a
  ><a name="22560" href="Session.html#22549" class="Bound"
  >cs</a
  ><a name="22562"
  > </a
  ><a name="22563" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="22566"
  > </a
  ><a name="22567" class="Symbol"
  >&#955;</a
  ><a name="22568"
  > </a
  ><a name="22569" class="Symbol"
  >{</a
  ><a name="22570"
  > </a
  ><a name="22571" class="Symbol"
  >(</a
  ><a name="22572" href="Session.html#22572" class="Bound"
  >x</a
  ><a name="22573"
  > </a
  ><a name="22574" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="22575"
  > </a
  ><a name="22576" href="Session.html#22576" class="Bound"
  >cs</a
  ><a name="22578" class="Symbol"
  >)</a
  ><a name="22579"
  > </a
  ><a name="22580" class="Symbol"
  >&#8594;</a
  ><a name="22581"
  > </a
  ><a name="22582" href="Session.html#22132" class="Function"
  >run</a
  ><a name="22585"
  > </a
  ><a name="22586" class="Symbol"
  >(</a
  ><a name="22587" href="Session.html#22538" class="Bound"
  >f</a
  ><a name="22588"
  > </a
  ><a name="22589" href="Session.html#22572" class="Bound"
  >x</a
  ><a name="22590" class="Symbol"
  >)</a
  ><a name="22591"
  > </a
  ><a name="22592" href="Session.html#22576" class="Bound"
  >cs</a
  ><a name="22594"
  > </a
  ><a name="22595" class="Symbol"
  >}</a
  ><a name="22596"
  >                      </pre>
<p><code>new</code> just creates a new channel.</p>
<pre></a
  ><a name="22837" href="Session.html#22132" class="Function"
  >run</a
  ><a name="22840"
  > </a
  ><a name="22841" class="Symbol"
  >(</a
  ><a name="22842" href="Session.html#17131" class="InductiveConstructor"
  >new</a
  ><a name="22845"
  >           </a
  ><a name="22856" class="Symbol"
  >)</a
  ><a name="22857"
  > </a
  ><a name="22858" href="Session.html#22858" class="Bound"
  >cs</a
  ><a name="22860"
  > </a
  ><a name="22861" class="Symbol"
  >=</a
  ><a name="22862"
  > </a
  ><a name="22863" href="Control.Concurrent.Chan.Synchronous.html#300" class="Postulate"
  >newChan</a
  ><a name="22870"
  > </a
  ><a name="22871" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="22874"
  > </a
  ><a name="22875" class="Symbol"
  >&#955;</a
  ><a name="22876"
  > </a
  ><a name="22877" href="Session.html#22877" class="Bound"
  >c</a
  ><a name="22878"
  > </a
  ><a name="22879" class="Symbol"
  >&#8594;</a
  ><a name="22880"
  > </a
  ><a name="22881" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="22887"
  > </a
  ><a name="22888" class="Symbol"
  >(_</a
  ><a name="22890"
  > </a
  ><a name="22891" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="22892"
  > </a
  ><a name="22893" class="Symbol"
  >(</a
  ><a name="22894" href="Session.html#22858" class="Bound"
  >cs</a
  ><a name="22896"
  > </a
  ><a name="22897" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="22899"
  > </a
  ><a name="22900" href="Session.html#22877" class="Bound"
  >c</a
  ><a name="22901" class="Symbol"
  >))</a
  ><a name="22903"
  ></pre>
<p><code>forks x</code> interprets the <code>Splits</code> in <code>s</code> obtaining two lists of channels <code>ls</code> and <code>rs</code>: it keeps <code>ls</code> for the parent thread and leaves access to <code>rs</code> to the child (<code>x</code>).</p>
<pre></a
  ><a name="23190" href="Session.html#22132" class="Function"
  >run</a
  ><a name="23193"
  > </a
  ><a name="23194" class="Symbol"
  >(</a
  ><a name="23195" href="Session.html#17057" class="InductiveConstructor"
  >fork</a
  ><a name="23199"
  >       </a
  ><a name="23206" href="Session.html#23206" class="Bound"
  >s</a
  ><a name="23207"
  > </a
  ><a name="23208" href="Session.html#23208" class="Bound"
  >x</a
  ><a name="23209" class="Symbol"
  >)</a
  ><a name="23210"
  > </a
  ><a name="23211" href="Session.html#23211" class="Bound"
  >cs</a
  ><a name="23213"
  > </a
  ><a name="23214" class="Symbol"
  >=</a
  ><a name="23215"
  > </a
  ><a name="23216" class="Keyword"
  >let</a
  ><a name="23219"
  > </a
  ><a name="23220" href="Session.html#23220" class="Bound"
  >ls</a
  ><a name="23222"
  > </a
  ><a name="23223" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="23224"
  > </a
  ><a name="23225" href="Session.html#23225" class="Bound"
  >rs</a
  ><a name="23227"
  > </a
  ><a name="23228" class="Symbol"
  >=</a
  ><a name="23229"
  > </a
  ><a name="23230" href="Session.html#7501" class="Function"
  >all-splits</a
  ><a name="23240"
  > </a
  ><a name="23241" href="Session.html#23211" class="Bound"
  >cs</a
  ><a name="23243"
  > </a
  ><a name="23244" href="Session.html#23206" class="Bound"
  >s</a
  ><a name="23245"
  > </a
  ><a name="23246" class="Keyword"
  >in</a
  ><a name="23248"
  >
                          </a
  ><a name="23275" href="Control.Concurrent.html#252" class="Postulate"
  >forkIO</a
  ><a name="23281"
  > </a
  ><a name="23282" class="Symbol"
  >(</a
  ><a name="23283" href="Session.html#22132" class="Function"
  >run</a
  ><a name="23286"
  > </a
  ><a name="23287" href="Session.html#23208" class="Bound"
  >x</a
  ><a name="23288"
  > </a
  ><a name="23289" href="Session.html#23225" class="Bound"
  >rs</a
  ><a name="23291"
  > </a
  ><a name="23292" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="23294"
  > </a
  ><a name="23295" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="23301"
  > </a
  ><a name="23302" href="Unit.html#210" class="Function"
  >&#10216;&#10217;</a
  ><a name="23304" class="Symbol"
  >)</a
  ><a name="23305"
  > </a
  ><a name="23306" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="23308"
  >                               
                          </a
  ><a name="23366" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="23372"
  > </a
  ><a name="23373" class="Symbol"
  >(</a
  ><a name="23374" class="InductiveConstructor"
  >tt</a
  ><a name="23376"
  > </a
  ><a name="23377" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="23378"
  > </a
  ><a name="23379" href="Session.html#23220" class="Bound"
  >ls</a
  ><a name="23381" class="Symbol"
  >)</a
  ><a name="23382"
  >                                                </pre>
<p><code>send i j</code> writes channel <code>i</code> on channel <code>j</code> and frees the continuation from the burden of communicating along <code>i</code>.</p>
<p>We could avoid many uses of <code>unsafeCoerce</code> in the following but we think it is more efficient to avoid calling functions like <code>all-ud</code> as in the commented-out code: they perform no operations on the actual lists of <em>untyped</em> channels.</p>
<p>The usages of <code>unsafeCoerce</code> which are more difficult justify are those inside every call to <code>readUChan</code> and <code>writeUChan</code>.</p>
<pre></a
  ><a name="24091" href="Session.html#22132" class="Function"
  >run</a
  ><a name="24094"
  > </a
  ><a name="24095" class="Symbol"
  >(</a
  ><a name="24096" href="Session.html#17205" class="InductiveConstructor"
  >send</a
  ><a name="24100"
  >       </a
  ><a name="24107" href="Session.html#24107" class="Bound"
  >i</a
  ><a name="24108"
  > </a
  ><a name="24109" href="Session.html#24109" class="Bound"
  >j</a
  ><a name="24110" class="Symbol"
  >)</a
  ><a name="24111"
  > </a
  ><a name="24112" href="Session.html#24112" class="Bound"
  >cs</a
  ><a name="24114"
  > </a
  ><a name="24115" class="Symbol"
  >=</a
  ><a name="24116"
  > </a
  ><a name="24117" class="Keyword"
  >let</a
  ><a name="24120"
  > </a
  ><a name="24121" href="Session.html#24121" class="Bound"
  >chanToSend</a
  ><a name="24131"
  >    </a
  ><a name="24135" class="Symbol"
  >=</a
  ><a name="24136"
  > </a
  ><a name="24137" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="24148"
  >        </a
  ><a name="24156" href="Session.html#24107" class="Bound"
  >i</a
  ><a name="24157"
  >  </a
  ><a name="24159" href="Session.html#24112" class="Bound"
  >cs</a
  ><a name="24161"
  > </a
  ><a name="24162" class="Keyword"
  >in</a
  ><a name="24164"
  >                 
                          </a
  ><a name="24208" class="Keyword"
  >let</a
  ><a name="24211"
  > </a
  ><a name="24212" href="Session.html#24212" class="Bound"
  >chanToWriteOn</a
  ><a name="24225"
  > </a
  ><a name="24226" class="Symbol"
  >=</a
  ><a name="24227"
  > </a
  ><a name="24228" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="24239"
  > </a
  ><a name="24240" class="Symbol"
  >(</a
  ><a name="24241" href="Session.Base.html#4047" class="Function"
  >wk/</a
  ><a name="24244"
  > </a
  ><a name="24245" href="Session.html#24107" class="Bound"
  >i</a
  ><a name="24246"
  > </a
  ><a name="24247" href="Session.html#24109" class="Bound"
  >j</a
  ><a name="24248" class="Symbol"
  >)</a
  ><a name="24249"
  > </a
  ><a name="24250" href="Session.html#24112" class="Bound"
  >cs</a
  ><a name="24252"
  > </a
  ><a name="24253" class="Keyword"
  >in</a
  ><a name="24255"
  >                 
                          </a
  ><a name="24299" href="Session.html#21670" class="Function"
  >writeUChan</a
  ><a name="24309"
  > </a
  ><a name="24310" href="Session.html#24212" class="Bound"
  >chanToWriteOn</a
  ><a name="24323"
  > </a
  ><a name="24324" href="Session.html#24121" class="Bound"
  >chanToSend</a
  ><a name="24334"
  > </a
  ><a name="24335" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="24337"
  >
                          </a
  ><a name="24364" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="24370"
  > </a
  ><a name="24371" class="Symbol"
  >(</a
  ><a name="24372" class="InductiveConstructor"
  >tt</a
  ><a name="24374"
  > </a
  ><a name="24375" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="24376"
  > </a
  ><a name="24377" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="24389"
  > </a
  ><a name="24390" class="Symbol"
  >(</a
  ><a name="24391" href="Session.Base.html#4259" class="Function"
  >all-rm</a
  ><a name="24397"
  > </a
  ><a name="24398" href="Session.html#24107" class="Bound"
  >i</a
  ><a name="24399"
  > </a
  ><a name="24400" href="Session.html#24112" class="Bound"
  >cs</a
  ><a name="24402" class="Symbol"
  >))</a
  ><a name="24404"
  >
                       </a
  ><a name="24428" class="Comment"
  >-- return (tt , all-ud j (all-rm i cs) chanToWriteOn)</a
  ><a name="24481"
  ></pre>
<p><code>receive</code> receives a channel from channel <code>i</code> and allows/forces the continuation to also take care of it.</p>
<pre></a
  ><a name="24704" href="Session.html#22132" class="Function"
  >run</a
  ><a name="24707"
  > </a
  ><a name="24708" class="Symbol"
  >(</a
  ><a name="24709" href="Session.html#17279" class="InductiveConstructor"
  >receive</a
  ><a name="24716"
  >      </a
  ><a name="24722" href="Session.html#24722" class="Bound"
  >i</a
  ><a name="24723" class="Symbol"
  >)</a
  ><a name="24724"
  > </a
  ><a name="24725" href="Session.html#24725" class="Bound"
  >cs</a
  ><a name="24727"
  > </a
  ><a name="24728" class="Symbol"
  >=</a
  ><a name="24729"
  > </a
  ><a name="24730" class="Keyword"
  >let</a
  ><a name="24733"
  > </a
  ><a name="24734" href="Session.html#24734" class="Bound"
  >chanToReadFrom</a
  ><a name="24748"
  > </a
  ><a name="24749" class="Symbol"
  >=</a
  ><a name="24750"
  > </a
  ><a name="24751" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="24762"
  > </a
  ><a name="24763" href="Session.html#24722" class="Bound"
  >i</a
  ><a name="24764"
  > </a
  ><a name="24765" href="Session.html#24725" class="Bound"
  >cs</a
  ><a name="24767"
  > </a
  ><a name="24768" class="Keyword"
  >in</a
  ><a name="24770"
  >                        
                          </a
  ><a name="24821" href="Session.html#21758" class="Function"
  >readUChan</a
  ><a name="24830"
  > </a
  ><a name="24831" href="Session.html#24734" class="Bound"
  >chanToReadFrom</a
  ><a name="24845"
  > </a
  ><a name="24846" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="24849"
  > </a
  ><a name="24850" class="Symbol"
  >&#955;</a
  ><a name="24851"
  > </a
  ><a name="24852" href="Session.html#24852" class="Bound"
  >receivedChan</a
  ><a name="24864"
  > </a
  ><a name="24865" class="Symbol"
  >&#8594;</a
  ><a name="24866"
  >                   
                          </a
  ><a name="24912" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="24918"
  > </a
  ><a name="24919" class="Symbol"
  >(</a
  ><a name="24920" class="InductiveConstructor"
  >tt</a
  ><a name="24922"
  > </a
  ><a name="24923" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="24924"
  > </a
  ><a name="24925" class="Symbol"
  >(</a
  ><a name="24926" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="24938"
  > </a
  ><a name="24939" href="Session.html#24725" class="Bound"
  >cs</a
  ><a name="24941"
  > </a
  ><a name="24942" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="24944"
  > </a
  ><a name="24945" href="Session.html#24852" class="Bound"
  >receivedChan</a
  ><a name="24957" class="Symbol"
  >))</a
  ><a name="24959"
  >                  </pre>
<p><code>accept i a p</code> forks a process that waits for channels: whenever one is received it spawns a new copy of the server along it.</p>
<pre></a
  ><a name="25208" href="Session.html#22132" class="Function"
  >run</a
  ><a name="25211"
  > </a
  ><a name="25212" class="Symbol"
  >(</a
  ><a name="25213" href="Session.html#17353" class="InductiveConstructor"
  >accept</a
  ><a name="25219"
  >   </a
  ><a name="25222" href="Session.html#25222" class="Bound"
  >i</a
  ><a name="25223"
  > </a
  ><a name="25224" href="Session.html#25224" class="Bound"
  >a</a
  ><a name="25225"
  > </a
  ><a name="25226" href="Session.html#25226" class="Bound"
  >p</a
  ><a name="25227" class="Symbol"
  >)</a
  ><a name="25228"
  > </a
  ><a name="25229" href="Session.html#25229" class="Bound"
  >cs</a
  ><a name="25231"
  > </a
  ><a name="25232" class="Symbol"
  >=</a
  ><a name="25233"
  > </a
  ><a name="25234" href="Control.Concurrent.html#252" class="Postulate"
  >forkIO</a
  ><a name="25240"
  > </a
  ><a name="25241" href="Session.html#25505" class="Function"
  >server</a
  ><a name="25247"
  > </a
  ><a name="25248" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="25250"
  > </a
  ><a name="25251" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="25257"
  > </a
  ><a name="25258" class="Symbol"
  >(</a
  ><a name="25259" class="InductiveConstructor"
  >tt</a
  ><a name="25261"
  > </a
  ><a name="25262" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="25263"
  > </a
  ><a name="25264" href="Session.Base.html#4259" class="Function"
  >all-rm</a
  ><a name="25270"
  > </a
  ><a name="25271" href="Session.html#25222" class="Bound"
  >i</a
  ><a name="25272"
  > </a
  ><a name="25273" href="Session.html#25229" class="Bound"
  >cs</a
  ><a name="25275" class="Symbol"
  >)</a
  ><a name="25276"
  >                   
  </a
  ><a name="25298" class="Keyword"
  >where</a
  ><a name="25303"
  > </a
  ><a name="25304" href="Session.html#25304" class="Function"
  >c</a
  ><a name="25305"
  > </a
  ><a name="25306" class="Symbol"
  >=</a
  ><a name="25307"
  > </a
  ><a name="25308" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="25319"
  > </a
  ><a name="25320" href="Session.html#25222" class="Bound"
  >i</a
  ><a name="25321"
  > </a
  ><a name="25322" href="Session.html#25229" class="Bound"
  >cs</a
  ><a name="25324"
  >                                            
        </a
  ><a name="25377" href="Session.html#25377" class="Function"
  >service</a
  ><a name="25384"
  > </a
  ><a name="25385" class="Symbol"
  >:</a
  ><a name="25386"
  > </a
  ><a name="25387" href="Session.html#20910" class="Function"
  >UChan</a
  ><a name="25392"
  > </a
  ><a name="25393" class="Symbol"
  >&#8594;</a
  ><a name="25394"
  > </a
  ><a name="25395" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="25397"
  > </a
  ><a name="25398" class="Symbol"
  >_</a
  ><a name="25399"
  >                                          
        </a
  ><a name="25450" href="Session.html#25377" class="Function"
  >service</a
  ><a name="25457"
  > </a
  ><a name="25458" href="Session.html#25458" class="Bound"
  >n</a
  ><a name="25459"
  > </a
  ><a name="25460" class="Symbol"
  >=</a
  ><a name="25461"
  > </a
  ><a name="25462" href="Session.html#22132" class="Function"
  >run</a
  ><a name="25465"
  > </a
  ><a name="25466" href="Session.html#25226" class="Bound"
  >p</a
  ><a name="25467"
  > </a
  ><a name="25468" class="Symbol"
  >(</a
  ><a name="25469" href="Session.Base.html#4407" class="Function"
  >all-ud</a
  ><a name="25475"
  > </a
  ><a name="25476" href="Session.html#25222" class="Bound"
  >i</a
  ><a name="25477"
  > </a
  ><a name="25478" href="Session.html#25229" class="Bound"
  >cs</a
  ><a name="25480"
  > </a
  ><a name="25481" href="Session.html#25458" class="Bound"
  >n</a
  ><a name="25482" class="Symbol"
  >)</a
  ><a name="25483"
  > </a
  ><a name="25484" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="25486"
  > </a
  ><a name="25487" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="25493"
  > </a
  ><a name="25494" href="Unit.html#210" class="Function"
  >&#10216;&#10217;</a
  ><a name="25496"
  >
        </a
  ><a name="25505" href="Session.html#25505" class="Function"
  >server</a
  ><a name="25511"
  > </a
  ><a name="25512" class="Symbol"
  >:</a
  ><a name="25513"
  > </a
  ><a name="25514" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="25516"
  > </a
  ><a name="25517" href="Unit.html#194" class="Function"
  >C.&lt;&gt;</a
  ><a name="25521"
  >                                                
        </a
  ><a name="25578" href="Session.html#25505" class="Function"
  >server</a
  ><a name="25584"
  > </a
  ><a name="25585" class="Symbol"
  >=</a
  ><a name="25586"
  > </a
  ><a name="25587" href="Session.html#21758" class="Function"
  >readUChan</a
  ><a name="25596"
  > </a
  ><a name="25597" href="Session.html#25304" class="Function"
  >c</a
  ><a name="25598"
  >        </a
  ><a name="25606" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="25609"
  > </a
  ><a name="25610" class="Symbol"
  >&#955;</a
  ><a name="25611"
  > </a
  ><a name="25612" href="Session.html#25612" class="Bound"
  >n</a
  ><a name="25613"
  > </a
  ><a name="25614" class="Symbol"
  >&#8594;</a
  ><a name="25615"
  >                           
                 </a
  ><a name="25660" href="Control.Concurrent.html#252" class="Postulate"
  >forkIO</a
  ><a name="25666"
  > </a
  ><a name="25667" class="Symbol"
  >(</a
  ><a name="25668" href="Session.html#25377" class="Function"
  >service</a
  ><a name="25675"
  > </a
  ><a name="25676" href="Session.html#25612" class="Bound"
  >n</a
  ><a name="25677" class="Symbol"
  >)</a
  ><a name="25678"
  > </a
  ><a name="25679" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="25681"
  >                                  
                 </a
  ><a name="25733" href="Session.html#25505" class="Function"
  >server</a
  ><a name="25739"
  >                                                 </pre>
<p><code>connect i p</code> creates a channel and sends it along the channel <code>i</code>, which is (or should be) shared by construction with a server, then it becomes process <code>p</code>.</p>
<pre></a
  ><a name="26064" href="Session.html#22132" class="Function"
  >run</a
  ><a name="26067"
  > </a
  ><a name="26068" class="Symbol"
  >(</a
  ><a name="26069" href="Session.html#17427" class="InductiveConstructor"
  >connect</a
  ><a name="26076"
  >    </a
  ><a name="26080" href="Session.html#26080" class="Bound"
  >i</a
  ><a name="26081"
  > </a
  ><a name="26082" href="Session.html#26082" class="Bound"
  >p</a
  ><a name="26083" class="Symbol"
  >)</a
  ><a name="26084"
  > </a
  ><a name="26085" href="Session.html#26085" class="Bound"
  >cs</a
  ><a name="26087"
  > </a
  ><a name="26088" class="Symbol"
  >=</a
  ><a name="26089"
  > </a
  ><a name="26090" href="Control.Concurrent.Chan.Synchronous.html#300" class="Postulate"
  >newChan</a
  ><a name="26097"
  >                         </a
  ><a name="26122" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="26125"
  > </a
  ><a name="26126" class="Symbol"
  >&#955;</a
  ><a name="26127"
  > </a
  ><a name="26128" href="Session.html#26128" class="Bound"
  >n</a
  ><a name="26129"
  > </a
  ><a name="26130" class="Symbol"
  >&#8594;</a
  ><a name="26131"
  >                       
                          </a
  ><a name="26181" href="Session.html#21670" class="Function"
  >writeUChan</a
  ><a name="26191"
  > </a
  ><a name="26192" class="Symbol"
  >(</a
  ><a name="26193" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="26204"
  > </a
  ><a name="26205" href="Session.html#26080" class="Bound"
  >i</a
  ><a name="26206"
  > </a
  ><a name="26207" href="Session.html#26085" class="Bound"
  >cs</a
  ><a name="26209" class="Symbol"
  >)</a
  ><a name="26210"
  > </a
  ><a name="26211" href="Session.html#26128" class="Bound"
  >n</a
  ><a name="26212"
  > </a
  ><a name="26213" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="26215"
  >                              
                          </a
  ><a name="26272" href="Session.html#22132" class="Function"
  >run</a
  ><a name="26275"
  > </a
  ><a name="26276" href="Session.html#26082" class="Bound"
  >p</a
  ><a name="26277"
  > </a
  ><a name="26278" class="Symbol"
  >(</a
  ><a name="26279" href="Session.Base.html#4407" class="Function"
  >all-ud</a
  ><a name="26285"
  > </a
  ><a name="26286" href="Session.html#26080" class="Bound"
  >i</a
  ><a name="26287"
  > </a
  ><a name="26288" href="Session.html#26085" class="Bound"
  >cs</a
  ><a name="26290"
  > </a
  ><a name="26291" href="Session.html#26128" class="Bound"
  >n</a
  ><a name="26292" class="Symbol"
  >)</a
  ><a name="26293"
  ></pre>
<p><code>wont i</code> avoids starting the client/server interaction with the server which waits for channels on <code>i</code>.</p>
<pre></a
  ><a name="26514" href="Session.html#22132" class="Function"
  >run</a
  ><a name="26517"
  > </a
  ><a name="26518" class="Symbol"
  >(</a
  ><a name="26519" href="Session.html#17501" class="InductiveConstructor"
  >wont</a
  ><a name="26523"
  >         </a
  ><a name="26532" href="Session.html#26532" class="Bound"
  >i</a
  ><a name="26533" class="Symbol"
  >)</a
  ><a name="26534"
  > </a
  ><a name="26535" href="Session.html#26535" class="Bound"
  >cs</a
  ><a name="26537"
  > </a
  ><a name="26538" class="Symbol"
  >=</a
  ><a name="26539"
  > </a
  ><a name="26540" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="26546"
  > </a
  ><a name="26547" class="Symbol"
  >(</a
  ><a name="26548" class="InductiveConstructor"
  >tt</a
  ><a name="26550"
  > </a
  ><a name="26551" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="26552"
  > </a
  ><a name="26553" href="Session.Base.html#4259" class="Function"
  >all-rm</a
  ><a name="26559"
  > </a
  ><a name="26560" href="Session.html#26532" class="Bound"
  >i</a
  ><a name="26561"
  > </a
  ><a name="26562" href="Session.html#26535" class="Bound"
  >cs</a
  ><a name="26564" class="Symbol"
  >)</a
  ><a name="26565"
  ></pre>
<p><code>twice i</code> duplicates the server which waits for channels on <code>i</code>.</p>
<pre></a
  ><a name="26747" href="Session.html#22132" class="Function"
  >run</a
  ><a name="26750"
  > </a
  ><a name="26751" class="Symbol"
  >(</a
  ><a name="26752" href="Session.html#17575" class="InductiveConstructor"
  >twice</a
  ><a name="26757"
  >        </a
  ><a name="26765" href="Session.html#26765" class="Bound"
  >i</a
  ><a name="26766" class="Symbol"
  >)</a
  ><a name="26767"
  > </a
  ><a name="26768" href="Session.html#26768" class="Bound"
  >cs</a
  ><a name="26770"
  > </a
  ><a name="26771" class="Symbol"
  >=</a
  ><a name="26772"
  > </a
  ><a name="26773" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="26779"
  > </a
  ><a name="26780" class="Symbol"
  >(</a
  ><a name="26781" class="InductiveConstructor"
  >tt</a
  ><a name="26783"
  > </a
  ><a name="26784" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="26785"
  > </a
  ><a name="26786" class="Symbol"
  >(</a
  ><a name="26787" href="Session.html#26768" class="Bound"
  >cs</a
  ><a name="26789"
  > </a
  ><a name="26790" href="Session.Base.html#2124" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="26792"
  > </a
  ><a name="26793" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="26804"
  > </a
  ><a name="26805" href="Session.html#26765" class="Bound"
  >i</a
  ><a name="26806"
  > </a
  ><a name="26807" href="Session.html#26768" class="Bound"
  >cs</a
  ><a name="26809" class="Symbol"
  >))</a
  ><a name="26811"
  >                           </pre>
<p><code>write i x</code> writes <code>x</code> on channel <code>i</code>.</p>
<pre></a
  ><a name="27072" href="Session.html#22132" class="Function"
  >run</a
  ><a name="27075"
  > </a
  ><a name="27076" class="Symbol"
  >(</a
  ><a name="27077" href="Session.html#17649" class="InductiveConstructor"
  >write</a
  ><a name="27082"
  >      </a
  ><a name="27088" href="Session.html#27088" class="Bound"
  >i</a
  ><a name="27089"
  > </a
  ><a name="27090" href="Session.html#27090" class="Bound"
  >x</a
  ><a name="27091" class="Symbol"
  >)</a
  ><a name="27092"
  > </a
  ><a name="27093" href="Session.html#27093" class="Bound"
  >cs</a
  ><a name="27095"
  > </a
  ><a name="27096" class="Symbol"
  >=</a
  ><a name="27097"
  > </a
  ><a name="27098" class="Keyword"
  >let</a
  ><a name="27101"
  > </a
  ><a name="27102" href="Session.html#27102" class="Bound"
  >c</a
  ><a name="27103"
  > </a
  ><a name="27104" class="Symbol"
  >=</a
  ><a name="27105"
  > </a
  ><a name="27106" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="27117"
  > </a
  ><a name="27118" href="Session.html#27088" class="Bound"
  >i</a
  ><a name="27119"
  > </a
  ><a name="27120" href="Session.html#27093" class="Bound"
  >cs</a
  ><a name="27122"
  > </a
  ><a name="27123" class="Keyword"
  >in</a
  ><a name="27125"
  >                                     
                          </a
  ><a name="27189" href="Session.html#21670" class="Function"
  >writeUChan</a
  ><a name="27199"
  > </a
  ><a name="27200" href="Session.html#27102" class="Bound"
  >c</a
  ><a name="27201"
  > </a
  ><a name="27202" href="Session.html#27090" class="Bound"
  >x</a
  ><a name="27203"
  > </a
  ><a name="27204" href="Session.html#21394" class="Function Operator"
  >&gt;&gt;</a
  ><a name="27206"
  >                                               
                          </a
  ><a name="27280" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="27286"
  > </a
  ><a name="27287" class="Symbol"
  >(</a
  ><a name="27288" class="InductiveConstructor"
  >tt</a
  ><a name="27290"
  > </a
  ><a name="27291" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="27292"
  > </a
  ><a name="27293" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="27305"
  > </a
  ><a name="27306" href="Session.html#27093" class="Bound"
  >cs</a
  ><a name="27308" class="Symbol"
  >)</a
  ><a name="27309"
  >                                   </pre>
<p><code>read i</code> reads from <code>i</code> and returns what it read.</p>
<pre></a
  ><a name="27511" href="Session.html#22132" class="Function"
  >run</a
  ><a name="27514"
  > </a
  ><a name="27515" class="Symbol"
  >(</a
  ><a name="27516" href="Session.html#17723" class="InductiveConstructor"
  >read</a
  ><a name="27520"
  >         </a
  ><a name="27529" href="Session.html#27529" class="Bound"
  >i</a
  ><a name="27530" class="Symbol"
  >)</a
  ><a name="27531"
  > </a
  ><a name="27532" href="Session.html#27532" class="Bound"
  >cs</a
  ><a name="27534"
  > </a
  ><a name="27535" class="Symbol"
  >=</a
  ><a name="27536"
  > </a
  ><a name="27537" class="Keyword"
  >let</a
  ><a name="27540"
  > </a
  ><a name="27541" href="Session.html#27541" class="Bound"
  >c</a
  ><a name="27542"
  > </a
  ><a name="27543" class="Symbol"
  >=</a
  ><a name="27544"
  > </a
  ><a name="27545" href="Session.html#21048" class="Function"
  >lookupUChan</a
  ><a name="27556"
  > </a
  ><a name="27557" href="Session.html#27529" class="Bound"
  >i</a
  ><a name="27558"
  > </a
  ><a name="27559" href="Session.html#27532" class="Bound"
  >cs</a
  ><a name="27561"
  > </a
  ><a name="27562" class="Keyword"
  >in</a
  ><a name="27564"
  >                                     
                          </a
  ><a name="27628" href="Session.html#21758" class="Function"
  >readUChan</a
  ><a name="27637"
  > </a
  ><a name="27638" href="Session.html#27541" class="Bound"
  >c</a
  ><a name="27639"
  > </a
  ><a name="27640" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="27643"
  > </a
  ><a name="27644" class="Symbol"
  >&#955;</a
  ><a name="27645"
  > </a
  ><a name="27646" href="Session.html#27646" class="Bound"
  >x</a
  ><a name="27647"
  > </a
  ><a name="27648" class="Symbol"
  >&#8594;</a
  ><a name="27649"
  >
                          </a
  ><a name="27676" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="27682"
  > </a
  ><a name="27683" class="Symbol"
  >(</a
  ><a name="27684" href="Session.html#27646" class="Bound"
  >x</a
  ><a name="27685"
  > </a
  ><a name="27686" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="27687"
  > </a
  ><a name="27688" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="27700"
  > </a
  ><a name="27701" href="Session.html#27532" class="Bound"
  >cs</a
  ><a name="27703" class="Symbol"
  >)</a
  ><a name="27704"
  >                                    </pre>
<p><code>end i</code> terminates the (sub)session</p>
<pre></a
  ><a name="27971" href="Session.html#22132" class="Function"
  >run</a
  ><a name="27974"
  > </a
  ><a name="27975" class="Symbol"
  >(</a
  ><a name="27976" href="Session.html#17797" class="InductiveConstructor"
  >end/</a
  ><a name="27980"
  >       </a
  ><a name="27987" href="Session.html#27987" class="Bound"
  >i</a
  ><a name="27988"
  > </a
  ><a name="27989" href="Session.html#27989" class="Bound"
  >r</a
  ><a name="27990" class="Symbol"
  >)</a
  ><a name="27991"
  > </a
  ><a name="27992" href="Session.html#27992" class="Bound"
  >cs</a
  ><a name="27994"
  > </a
  ><a name="27995" class="Symbol"
  >=</a
  ><a name="27996"
  > </a
  ><a name="27997" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="28003"
  > </a
  ><a name="28004" class="Symbol"
  >(</a
  ><a name="28005" href="Session.html#27989" class="Bound"
  >r</a
  ><a name="28006"
  > </a
  ><a name="28007" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="28008"
  > </a
  ><a name="28009" href="Session.Base.html#4259" class="Function"
  >all-rm</a
  ><a name="28015"
  > </a
  ><a name="28016" href="Session.html#27987" class="Bound"
  >i</a
  ><a name="28017"
  > </a
  ><a name="28018" href="Session.html#27992" class="Bound"
  >cs</a
  ><a name="28020" class="Symbol"
  >)</a
  ><a name="28021"
  >                                     </pre>
<p><code>at/ i o</code> simply returns <code>o</code>.</p>
<pre></a
  ><a name="28115" href="Session.html#22132" class="Function"
  >run</a
  ><a name="28118"
  > </a
  ><a name="28119" class="Symbol"
  >(</a
  ><a name="28120" href="Session.html#17905" class="InductiveConstructor"
  >at/</a
  ><a name="28123"
  >        </a
  ><a name="28131" href="Session.html#28131" class="Bound"
  >i</a
  ><a name="28132"
  > </a
  ><a name="28133" href="Session.html#28133" class="Bound"
  >o</a
  ><a name="28134" class="Symbol"
  >)</a
  ><a name="28135"
  > </a
  ><a name="28136" href="Session.html#28136" class="Bound"
  >cs</a
  ><a name="28138"
  > </a
  ><a name="28139" class="Symbol"
  >=</a
  ><a name="28140"
  > </a
  ><a name="28141" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="28147"
  > </a
  ><a name="28148" class="Symbol"
  >(</a
  ><a name="28149" href="Session.html#28133" class="Bound"
  >o</a
  ><a name="28150"
  > </a
  ><a name="28151" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="28152"
  > </a
  ><a name="28153" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="28165"
  > </a
  ><a name="28166" href="Session.html#28136" class="Bound"
  >cs</a
  ><a name="28168" class="Symbol"
  >)</a
  ><a name="28169"
  >                                    </pre>
<p><code>corec</code> enters a loop whose body is contained in <code>gp</code>: the coiteration will possibly be exited whenever the value the process returns is <code>inl x</code> for some <code>x</code>.</p>
<pre></a
  ><a name="28391" href="Session.html#22132" class="Function"
  >run</a
  ><a name="28394"
  > </a
  ><a name="28395" class="Symbol"
  >(</a
  ><a name="28396" href="Session.html#18053" class="InductiveConstructor"
  >corec</a
  ><a name="28401"
  >   </a
  ><a name="28404" href="Session.html#28404" class="Bound"
  >i</a
  ><a name="28405"
  > </a
  ><a name="28406" href="Session.html#28406" class="Bound"
  >o</a
  ><a name="28407"
  > </a
  ><a name="28408" href="Session.html#28408" class="Bound"
  >gp</a
  ><a name="28410" class="Symbol"
  >)</a
  ><a name="28411"
  > </a
  ><a name="28412" href="Session.html#28412" class="Bound"
  >cs</a
  ><a name="28414"
  > </a
  ><a name="28415" class="Symbol"
  >=</a
  ><a name="28416"
  > </a
  ><a name="28417" href="Session.html#28431" class="Function"
  >aux</a
  ><a name="28420"
  > </a
  ><a name="28421" href="Session.html#28406" class="Bound"
  >o</a
  ><a name="28422"
  >
  </a
  ><a name="28425" class="Keyword"
  >where</a
  ><a name="28430"
  > </a
  ><a name="28431" href="Session.html#28431" class="Function"
  >aux</a
  ><a name="28434"
  > </a
  ><a name="28435" class="Symbol"
  >=</a
  ><a name="28436"
  > </a
  ><a name="28437" class="Symbol"
  >&#955;</a
  ><a name="28438"
  > </a
  ><a name="28439" href="Session.html#28439" class="Bound"
  >o</a
  ><a name="28440"
  > </a
  ><a name="28441" class="Symbol"
  >&#8594;</a
  ><a name="28442"
  > </a
  ><a name="28443" href="Session.html#22132" class="Function"
  >run</a
  ><a name="28446"
  > </a
  ><a name="28447" class="Symbol"
  >(</a
  ><a name="28448" href="Data.Product.html#535" class="Field"
  >snd</a
  ><a name="28451"
  > </a
  ><a name="28452" class="Symbol"
  >(</a
  ><a name="28453" href="Session.html#28408" class="Bound"
  >gp</a
  ><a name="28455"
  > </a
  ><a name="28456" href="Session.html#28439" class="Bound"
  >o</a
  ><a name="28457" class="Symbol"
  >))</a
  ><a name="28459"
  > </a
  ><a name="28460" class="Symbol"
  >(</a
  ><a name="28461" href="Session.html#19978" class="Postulate"
  >unsafeCoerce</a
  ><a name="28473"
  > </a
  ><a name="28474" href="Session.html#28412" class="Bound"
  >cs</a
  ><a name="28476" class="Symbol"
  >)</a
  ><a name="28477"
  > </a
  ><a name="28478" href="IO.Primitive.html#628" class="Postulate Operator"
  >&gt;&gt;=</a
  ><a name="28481"
  >
                    </a
  ><a name="28502" href="Data.Product.html#2847" class="Function"
  >uc</a
  ><a name="28504"
  > </a
  ><a name="28505" href="Data.Sum.html#678" class="Function Operator"
  >&#8846;.[</a
  ><a name="28508"
  > </a
  ><a name="28509" href="Data.Product.html#2682" class="Function"
  >cu</a
  ><a name="28511"
  > </a
  ><a name="28512" href="IO.Primitive.html#588" class="Postulate"
  >return</a
  ><a name="28518"
  > </a
  ><a name="28519" href="Data.Sum.html#678" class="Function Operator"
  >,</a
  ><a name="28520"
  > </a
  ><a name="28521" class="Symbol"
  >(&#955;</a
  ><a name="28523"
  > </a
  ><a name="28524" href="Session.html#28524" class="Bound"
  >o</a
  ><a name="28525"
  > </a
  ><a name="28526" href="Session.html#28526" class="Bound"
  >_</a
  ><a name="28527"
  > </a
  ><a name="28528" class="Symbol"
  >&#8594;</a
  ><a name="28529"
  > </a
  ><a name="28530" href="Session.html#28431" class="Function"
  >aux</a
  ><a name="28533"
  > </a
  ><a name="28534" href="Session.html#28524" class="Bound"
  >o</a
  ><a name="28535" class="Symbol"
  >)</a
  ><a name="28536"
  > </a
  ><a name="28537" href="Data.Sum.html#678" class="Function Operator"
  >]</a
  ><a name="28538"
  ></pre>
<p>Closed processes describe IO computations.</p>
<pre></a
  ><a name="28608" href="Session.html#28608" class="Function"
  >run[]</a
  ><a name="28613"
  > </a
  ><a name="28614" class="Symbol"
  >:</a
  ><a name="28615"
  > </a
  ><a name="28616" class="Symbol"
  >&#8704;</a
  ><a name="28617"
  > </a
  ><a name="28618" class="Symbol"
  >{</a
  ><a name="28619" href="Session.html#28619" class="Bound"
  >X</a
  ><a name="28620" class="Symbol"
  >}</a
  ><a name="28621"
  > </a
  ><a name="28622" class="Symbol"
  >&#8594;</a
  ><a name="28623"
  >  </a
  ><a name="28625" href="Session.html#20388" class="Function"
  >IOProc</a
  ><a name="28631"
  > </a
  ><a name="28632" href="Session.html#28619" class="Bound"
  >X</a
  ><a name="28633"
  > </a
  ><a name="28634" class="Symbol"
  >&#8594;</a
  ><a name="28635"
  > </a
  ><a name="28636" href="IO.Primitive.html#448" class="Postulate"
  >IO</a
  ><a name="28638"
  > </a
  ><a name="28639" href="Session.html#28619" class="Bound"
  >X</a
  ><a name="28640"
  >
</a
  ><a name="28641" href="Session.html#28608" class="Function"
  >run[]</a
  ><a name="28646"
  > </a
  ><a name="28647" href="Session.html#28647" class="Bound"
  >P</a
  ><a name="28648"
  > </a
  ><a name="28649" class="Symbol"
  >=</a
  ><a name="28650"
  > </a
  ><a name="28651" href="Session.html#21480" class="Function"
  >mapIO</a
  ><a name="28656"
  > </a
  ><a name="28657" href="Data.Product.html#525" class="Field"
  >fst</a
  ><a name="28660"
  > </a
  ><a name="28661" class="Symbol"
  >(</a
  ><a name="28662" href="Session.html#22132" class="Function"
  >run</a
  ><a name="28665"
  > </a
  ><a name="28666" href="Session.html#28647" class="Bound"
  >P</a
  ><a name="28667"
  > </a
  ><a name="28668" href="Data.List.All.html#779" class="InductiveConstructor"
  >[]</a
  ><a name="28670" class="Symbol"
  >)</a
  ><a name="28671"
  ></pre>
<p>Note that as the evaluator allows for processes that embed any <code>IO</code> action one could easily add unwanted behaviours: the user is still free to capture a fragment of <code>IO</code> to be considered <em>safe</em> and simply compose this evaluator after a translation phase to <code>IO</code>.</p>
<p>For simplicity, the currently provided <a href="Session.Examples.html">examples</a> just use <code>IO</code> for basic operations like suspending processes for finite amounts of time or accessing the standard output.</p></body></html>