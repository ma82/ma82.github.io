<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Session.Examples.Stack</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<link href="Agda.css" rel="stylesheet" type="text/css"/></head><body><p><a href="https://www.gnu.org/licenses/gpl.html">2013-2014 matteo.acerbi@gmail.com</a></p>
<h2 id="stack">Stack</h2>
<p>See Toninho, Caires, Pfenning &quot;Higher-Order Processes, Functions, and Sessions: A Monadic Integration&quot;.</p>
<pre></a
  ><a name="205" class="Keyword"
  >module</a
  ><a name="211"
  > </a
  ><a name="212" href="Session.Examples.Stack.html#1" class="Module"
  >Session.Examples.Stack</a
  ><a name="234"
  > </a
  ><a name="235" class="Keyword"
  >where</a
  ><a name="240"
  ></pre>

<pre></a
  ><a name="266" class="Keyword"
  >open</a
  ><a name="270"
  > </a
  ><a name="271" class="Keyword"
  >import</a
  ><a name="277"
  > </a
  ><a name="278" href="Session.html#1" class="Module"
  >Session</a
  ><a name="285"
  ></pre>
<p>The original type was a <code>μ</code>: processes that interact forever to build an infinite stack should be forbidden. We temporarily lift the restriction.</p>
<pre></a
  ><a name="460" class="Keyword"
  >module</a
  ><a name="466"
  > </a
  ><a name="467" href="Session.Examples.Stack.html#467" class="Module"
  >AlmostOriginal</a
  ><a name="481"
  > </a
  ><a name="482" class="Keyword"
  >where</a
  ><a name="487"
  >

  </a
  ><a name="491" class="Keyword"
  >data</a
  ><a name="495"
  > </a
  ><a name="496" href="Session.Examples.Stack.html#496" class="Datatype"
  >Op</a
  ><a name="498"
  > </a
  ><a name="499" class="Symbol"
  >:</a
  ><a name="500"
  > </a
  ><a name="501" class="PrimitiveType"
  >Set</a
  ><a name="504"
  > </a
  ><a name="505" class="Keyword"
  >where</a
  ><a name="510"
  > </a
  ><a name="511" href="Session.Examples.Stack.html#511" class="InductiveConstructor"
  >push</a
  ><a name="515"
  > </a
  ><a name="516" href="Session.Examples.Stack.html#516" class="InductiveConstructor"
  >pop</a
  ><a name="519"
  > </a
  ><a name="520" href="Session.Examples.Stack.html#520" class="InductiveConstructor"
  >dealloc</a
  ><a name="527"
  > </a
  ><a name="528" class="Symbol"
  >:</a
  ><a name="529"
  > </a
  ><a name="530" href="Session.Examples.Stack.html#496" class="Datatype"
  >Op</a
  ><a name="532"
  >

  </a
  ><a name="536" href="Session.Examples.Stack.html#536" class="Function"
  >Stack</a
  ><a name="541"
  > </a
  ><a name="542" class="Symbol"
  >:</a
  ><a name="543"
  > </a
  ><a name="544" class="Symbol"
  >(</a
  ><a name="545" href="Session.Examples.Stack.html#545" class="Bound"
  >X</a
  ><a name="546"
  > </a
  ><a name="547" class="Symbol"
  >:</a
  ><a name="548"
  > </a
  ><a name="549" class="PrimitiveType"
  >Set</a
  ><a name="552" class="Symbol"
  >)</a
  ><a name="553"
  > </a
  ><a name="554" class="Symbol"
  >&#8594;</a
  ><a name="555"
  > </a
  ><a name="556" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="557"
  > </a
  ><a name="558" href="Session.html#2873" class="Function Operator"
  >&#9666;</a
  ><a name="559"
  > </a
  ><a name="560" href="Session.Base.html#220" class="Record"
  >&#8868;</a
  ><a name="561"
  >
  </a
  ><a name="564" href="Session.Examples.Stack.html#536" class="Function"
  >Stack</a
  ><a name="569"
  > </a
  ><a name="570" href="Session.Examples.Stack.html#570" class="Bound"
  >X</a
  ><a name="571"
  > </a
  ><a name="572" class="Symbol"
  >=</a
  ><a name="573"
  > </a
  ><a name="574" href="Session.html#2680" class="InductiveConstructor"
  >`&#957;</a
  ><a name="576"
  > </a
  ><a name="577" class="Symbol"
  >(&#955;</a
  ><a name="579"
  > </a
  ><a name="580" href="Session.Examples.Stack.html#580" class="Bound"
  >_</a
  ><a name="581"
  > </a
  ><a name="582" class="Symbol"
  >&#8594;</a
  ><a name="583"
  > </a
  ><a name="584" href="Session.html#2755" class="Function"
  >`&#928;^</a
  ><a name="587"
  > </a
  ><a name="588" href="Session.Examples.Stack.html#496" class="Datatype"
  >Op</a
  ><a name="590"
  > </a
  ><a name="591" class="Symbol"
  >&#955;</a
  ><a name="592"
  > </a
  ><a name="593" class="Symbol"
  >{</a
  ><a name="594"
  > </a
  ><a name="595" href="Session.Examples.Stack.html#511" class="InductiveConstructor"
  >push</a
  ><a name="599"
  >    </a
  ><a name="603" class="Symbol"
  >&#8594;</a
  ><a name="604"
  > </a
  ><a name="605" href="Session.html#2266" class="InductiveConstructor"
  >`&#928;</a
  ><a name="607"
  > </a
  ><a name="608" class="Symbol"
  >(</a
  ><a name="609" href="Session.Examples.Stack.html#570" class="Bound"
  >X</a
  ><a name="610"
  >   </a
  ><a name="613" class="Symbol"
  >)</a
  ><a name="614"
  > </a
  ><a name="615" class="Symbol"
  >(</a
  ><a name="616" href="Session.html#2158" class="InductiveConstructor"
  >`I</a
  ><a name="618"
  > </a
  ><a name="619" class="Symbol"
  >(</a
  ><a name="620" href="Data.Sum.html#485" class="InductiveConstructor"
  >inr</a
  ><a name="623"
  > </a
  ><a name="624" class="Symbol"
  >_))</a
  ><a name="627"
  >
                               </a
  ><a name="659" class="Symbol"
  >;</a
  ><a name="660"
  > </a
  ><a name="661" href="Session.Examples.Stack.html#516" class="InductiveConstructor"
  >pop</a
  ><a name="664"
  >     </a
  ><a name="669" class="Symbol"
  >&#8594;</a
  ><a name="670"
  > </a
  ><a name="671" href="Session.html#2263" class="InductiveConstructor"
  >`&#931;</a
  ><a name="673"
  > </a
  ><a name="674" class="Symbol"
  >(</a
  ><a name="675" href="Data.Maybe.Core.html#315" class="Datatype"
  >1+</a
  ><a name="677"
  > </a
  ><a name="678" href="Session.Examples.Stack.html#570" class="Bound"
  >X</a
  ><a name="679" class="Symbol"
  >)</a
  ><a name="680"
  > </a
  ><a name="681" class="Symbol"
  >(</a
  ><a name="682" href="Session.html#2158" class="InductiveConstructor"
  >`I</a
  ><a name="684"
  > </a
  ><a name="685" class="Symbol"
  >(</a
  ><a name="686" href="Data.Sum.html#485" class="InductiveConstructor"
  >inr</a
  ><a name="689"
  > </a
  ><a name="690" class="Symbol"
  >_))</a
  ><a name="693"
  >
                               </a
  ><a name="725" class="Symbol"
  >;</a
  ><a name="726"
  > </a
  ><a name="727" href="Session.Examples.Stack.html#520" class="InductiveConstructor"
  >dealloc</a
  ><a name="734"
  > </a
  ><a name="735" class="Symbol"
  >&#8594;</a
  ><a name="736"
  >            </a
  ><a name="748" href="Session.html#2158" class="InductiveConstructor"
  >`I</a
  ><a name="750"
  > </a
  ><a name="751" class="Symbol"
  >(</a
  ><a name="752" href="Data.Sum.html#460" class="InductiveConstructor"
  >inl</a
  ><a name="755"
  > </a
  ><a name="756" class="Symbol"
  >_)</a
  ><a name="758"
  >  </a
  ><a name="760" class="Symbol"
  >})</a
  ><a name="762"
  > </a
  ><a name="763" class="Symbol"
  >_</a
  ><a name="764"
  ></pre>
<p>We cannot implement <code>stack1</code> as in the paper, as a direct recursive definition is not possible.</p>
--

<p>We can instead make explicit at the type level (as an index to <code>`ν</code>) the arguments to the recursive calls.</p>
<p>We also explicitly allow the user of the stack to carry through the computation data from a type <code>Y</code> of her/his/its choice.</p>
<pre></a
  ><a name="1234" href="Session.Examples.Stack.html#1234" class="Function"
  >tryPop</a
  ><a name="1240"
  > </a
  ><a name="1241" class="Symbol"
  >:</a
  ><a name="1242"
  > </a
  ><a name="1243" class="Symbol"
  >{</a
  ><a name="1244" href="Session.Examples.Stack.html#1244" class="Bound"
  >X</a
  ><a name="1245"
  > </a
  ><a name="1246" class="Symbol"
  >:</a
  ><a name="1247"
  > </a
  ><a name="1248" class="PrimitiveType"
  >Set</a
  ><a name="1251" class="Symbol"
  >}</a
  ><a name="1252"
  > </a
  ><a name="1253" class="Symbol"
  >&#8594;</a
  ><a name="1254"
  > </a
  ><a name="1255" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="1259"
  > </a
  ><a name="1260" href="Session.Examples.Stack.html#1244" class="Bound"
  >X</a
  ><a name="1261"
  > </a
  ><a name="1262" class="Symbol"
  >&#8594;</a
  ><a name="1263"
  > </a
  ><a name="1264" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="1268"
  > </a
  ><a name="1269" href="Session.Examples.Stack.html#1244" class="Bound"
  >X</a
  ><a name="1270"
  >
</a
  ><a name="1271" href="Session.Examples.Stack.html#1234" class="Function"
  >tryPop</a
  ><a name="1277"
  > </a
  ><a name="1278" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="1280"
  >       </a
  ><a name="1287" class="Symbol"
  >=</a
  ><a name="1288"
  > </a
  ><a name="1289" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="1291"
  >
</a
  ><a name="1292" href="Session.Examples.Stack.html#1234" class="Function"
  >tryPop</a
  ><a name="1298"
  > </a
  ><a name="1299" class="Symbol"
  >(</a
  ><a name="1300" href="Session.Examples.Stack.html#1300" class="Bound"
  >xs</a
  ><a name="1302"
  > </a
  ><a name="1303" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="1304"
  > </a
  ><a name="1305" class="Symbol"
  >_)</a
  ><a name="1307"
  > </a
  ><a name="1308" class="Symbol"
  >=</a
  ><a name="1309"
  > </a
  ><a name="1310" href="Session.Examples.Stack.html#1300" class="Bound"
  >xs</a
  ><a name="1312"
  ></pre>
<p>We rename <code>dealloc</code> to <code>stop</code> as we do not actually &quot;deallocate&quot; the list, in fact we return it.</p>
<pre></a
  ><a name="1436" class="Keyword"
  >data</a
  ><a name="1440"
  > </a
  ><a name="1441" href="Session.Examples.Stack.html#1441" class="Datatype"
  >Op</a
  ><a name="1443"
  > </a
  ><a name="1444" class="Symbol"
  >:</a
  ><a name="1445"
  > </a
  ><a name="1446" class="PrimitiveType"
  >Set</a
  ><a name="1449"
  > </a
  ><a name="1450" class="Keyword"
  >where</a
  ><a name="1455"
  > </a
  ><a name="1456" class="Comment"
  >{- reset -}</a
  ><a name="1467"
  > </a
  ><a name="1468" href="Session.Examples.Stack.html#1468" class="InductiveConstructor"
  >push</a
  ><a name="1472"
  > </a
  ><a name="1473" href="Session.Examples.Stack.html#1473" class="InductiveConstructor"
  >pop</a
  ><a name="1476"
  > </a
  ><a name="1477" href="Session.Examples.Stack.html#1477" class="InductiveConstructor"
  >stop</a
  ><a name="1481"
  > </a
  ><a name="1482" class="Symbol"
  >:</a
  ><a name="1483"
  > </a
  ><a name="1484" href="Session.Examples.Stack.html#1441" class="Datatype"
  >Op</a
  ><a name="1486"
  >

</a
  ><a name="1488" href="Session.Examples.Stack.html#1488" class="Function"
  >Stack</a
  ><a name="1493"
  > </a
  ><a name="1494" class="Symbol"
  >:</a
  ><a name="1495"
  > </a
  ><a name="1496" class="Symbol"
  >{</a
  ><a name="1497" href="Session.Examples.Stack.html#1497" class="Bound"
  >X</a
  ><a name="1498"
  > </a
  ><a name="1499" href="Session.Examples.Stack.html#1499" class="Bound"
  >Y</a
  ><a name="1500"
  > </a
  ><a name="1501" class="Symbol"
  >:</a
  ><a name="1502"
  > </a
  ><a name="1503" class="PrimitiveType"
  >Set</a
  ><a name="1506" class="Symbol"
  >}</a
  ><a name="1507"
  > </a
  ><a name="1508" class="Symbol"
  >&#8594;</a
  ><a name="1509"
  > </a
  ><a name="1510" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="1514"
  > </a
  ><a name="1515" href="Session.Examples.Stack.html#1497" class="Bound"
  >X</a
  ><a name="1516"
  > </a
  ><a name="1517" class="Symbol"
  >&#8594;</a
  ><a name="1518"
  > </a
  ><a name="1519" href="Session.Examples.Stack.html#1499" class="Bound"
  >Y</a
  ><a name="1520"
  > </a
  ><a name="1521" class="Symbol"
  >&#8594;</a
  ><a name="1522"
  > </a
  ><a name="1523" class="Symbol"
  >(</a
  ><a name="1524" href="Session.Examples.Stack.html#1524" class="Bound"
  >ny</a
  ><a name="1526"
  > </a
  ><a name="1527" class="Symbol"
  >:</a
  ><a name="1528"
  > </a
  ><a name="1529" href="Session.Examples.Stack.html#1441" class="Datatype"
  >Op</a
  ><a name="1531"
  > </a
  ><a name="1532" class="Symbol"
  >&#8594;</a
  ><a name="1533"
  > </a
  ><a name="1534" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="1538"
  > </a
  ><a name="1539" href="Session.Examples.Stack.html#1497" class="Bound"
  >X</a
  ><a name="1540"
  > </a
  ><a name="1541" class="Symbol"
  >&#8594;</a
  ><a name="1542"
  > </a
  ><a name="1543" href="Session.Examples.Stack.html#1499" class="Bound"
  >Y</a
  ><a name="1544"
  > </a
  ><a name="1545" class="Symbol"
  >&#8594;</a
  ><a name="1546"
  > </a
  ><a name="1547" href="Session.Examples.Stack.html#1499" class="Bound"
  >Y</a
  ><a name="1548" class="Symbol"
  >)</a
  ><a name="1549"
  > </a
  ><a name="1550" class="Symbol"
  >&#8594;</a
  ><a name="1551"
  > </a
  ><a name="1552" class="Symbol"
  >(</a
  ><a name="1553" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="1557"
  > </a
  ><a name="1558" href="Session.Examples.Stack.html#1497" class="Bound"
  >X</a
  ><a name="1559"
  > </a
  ><a name="1560" href="Data.Product.html#1055" class="Function Operator"
  >&#215;</a
  ><a name="1561"
  > </a
  ><a name="1562" href="Session.Examples.Stack.html#1499" class="Bound"
  >Y</a
  ><a name="1563" class="Symbol"
  >)</a
  ><a name="1564"
  > </a
  ><a name="1565" href="Session.html#2873" class="Function Operator"
  >&#9666;</a
  ><a name="1566"
  > </a
  ><a name="1567" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="1571"
  > </a
  ><a name="1572" href="Session.Examples.Stack.html#1497" class="Bound"
  >X</a
  ><a name="1573"
  >
</a
  ><a name="1574" href="Session.Examples.Stack.html#1488" class="Function"
  >Stack</a
  ><a name="1579"
  > </a
  ><a name="1580" href="Session.Examples.Stack.html#1580" class="Bound"
  >is</a
  ><a name="1582"
  > </a
  ><a name="1583" href="Session.Examples.Stack.html#1583" class="Bound"
  >y</a
  ><a name="1584"
  > </a
  ><a name="1585" href="Session.Examples.Stack.html#1585" class="Bound"
  >ny</a
  ><a name="1587"
  > </a
  ><a name="1588" class="Symbol"
  >=</a
  ><a name="1589"
  >
  </a
  ><a name="1592" href="Session.html#2680" class="InductiveConstructor"
  >`&#957;</a
  ><a name="1594"
  > </a
  ><a name="1595" class="Symbol"
  >(&#955;</a
  ><a name="1597"
  > </a
  ><a name="1598" class="Symbol"
  >{</a
  ><a name="1599"
  > </a
  ><a name="1600" class="Symbol"
  >(</a
  ><a name="1601" href="Session.Examples.Stack.html#1601" class="Bound"
  >xs</a
  ><a name="1603"
  > </a
  ><a name="1604" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="1605"
  > </a
  ><a name="1606" href="Session.Examples.Stack.html#1606" class="Bound"
  >y</a
  ><a name="1607" class="Symbol"
  >)</a
  ><a name="1608"
  > </a
  ><a name="1609" class="Symbol"
  >&#8594;</a
  ><a name="1610"
  > </a
  ><a name="1611" href="Session.html#2755" class="Function"
  >`&#928;^</a
  ><a name="1614"
  > </a
  ><a name="1615" href="Session.Examples.Stack.html#1441" class="Datatype"
  >Op</a
  ><a name="1617"
  > </a
  ><a name="1618" class="Symbol"
  >&#955;</a
  ><a name="1619"
  > </a
  ><a name="1620" class="Symbol"
  >{</a
  ><a name="1621"
  > </a
  ><a name="1622" class="Comment"
  >-- reset &#8594; `I (inr (is , ny reset xs y))</a
  ><a name="1662"
  >
                                </a
  ><a name="1695" href="Session.Examples.Stack.html#1468" class="InductiveConstructor"
  >push</a
  ><a name="1699"
  > </a
  ><a name="1700" class="Symbol"
  >&#8594;</a
  ><a name="1701"
  > </a
  ><a name="1702" href="Session.html#2755" class="Function"
  >`&#928;^</a
  ><a name="1705"
  > </a
  ><a name="1706" class="Symbol"
  >_</a
  ><a name="1707"
  > </a
  ><a name="1708" class="Symbol"
  >&#955;</a
  ><a name="1709"
  > </a
  ><a name="1710" href="Session.Examples.Stack.html#1710" class="Bound"
  >x</a
  ><a name="1711"
  > </a
  ><a name="1712" class="Symbol"
  >&#8594;</a
  ><a name="1713"
  > </a
  ><a name="1714" href="Session.html#2158" class="InductiveConstructor"
  >`I</a
  ><a name="1716"
  > </a
  ><a name="1717" class="Symbol"
  >(</a
  ><a name="1718" href="Data.Sum.html#485" class="InductiveConstructor"
  >inr</a
  ><a name="1721"
  > </a
  ><a name="1722" class="Symbol"
  >((</a
  ><a name="1724" href="Session.Examples.Stack.html#1601" class="Bound"
  >xs</a
  ><a name="1726"
  > </a
  ><a name="1727" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="1728"
  > </a
  ><a name="1729" href="Session.Examples.Stack.html#1710" class="Bound"
  >x</a
  ><a name="1730" class="Symbol"
  >)</a
  ><a name="1731"
  > </a
  ><a name="1732" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="1733"
  > </a
  ><a name="1734" href="Session.Examples.Stack.html#1585" class="Bound"
  >ny</a
  ><a name="1736"
  > </a
  ><a name="1737" href="Session.Examples.Stack.html#1468" class="InductiveConstructor"
  >push</a
  ><a name="1741"
  > </a
  ><a name="1742" href="Session.Examples.Stack.html#1601" class="Bound"
  >xs</a
  ><a name="1744"
  > </a
  ><a name="1745" href="Session.Examples.Stack.html#1606" class="Bound"
  >y</a
  ><a name="1746" class="Symbol"
  >))</a
  ><a name="1748"
  >
                              </a
  ><a name="1779" class="Symbol"
  >;</a
  ><a name="1780"
  > </a
  ><a name="1781" href="Session.Examples.Stack.html#1473" class="InductiveConstructor"
  >pop</a
  ><a name="1784"
  >  </a
  ><a name="1786" class="Symbol"
  >&#8594;</a
  ><a name="1787"
  > </a
  ><a name="1788" href="Session.html#2158" class="InductiveConstructor"
  >`I</a
  ><a name="1790"
  > </a
  ><a name="1791" class="Symbol"
  >(</a
  ><a name="1792" href="Data.Sum.html#485" class="InductiveConstructor"
  >inr</a
  ><a name="1795"
  > </a
  ><a name="1796" class="Symbol"
  >(</a
  ><a name="1797" href="Session.Examples.Stack.html#1234" class="Function"
  >tryPop</a
  ><a name="1803"
  > </a
  ><a name="1804" href="Session.Examples.Stack.html#1601" class="Bound"
  >xs</a
  ><a name="1806"
  > </a
  ><a name="1807" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="1808"
  > </a
  ><a name="1809" href="Session.Examples.Stack.html#1585" class="Bound"
  >ny</a
  ><a name="1811"
  > </a
  ><a name="1812" href="Session.Examples.Stack.html#1473" class="InductiveConstructor"
  >pop</a
  ><a name="1815"
  > </a
  ><a name="1816" href="Session.Examples.Stack.html#1601" class="Bound"
  >xs</a
  ><a name="1818"
  > </a
  ><a name="1819" href="Session.Examples.Stack.html#1606" class="Bound"
  >y</a
  ><a name="1820" class="Symbol"
  >))</a
  ><a name="1822"
  >
                              </a
  ><a name="1853" class="Symbol"
  >;</a
  ><a name="1854"
  > </a
  ><a name="1855" href="Session.Examples.Stack.html#1477" class="InductiveConstructor"
  >stop</a
  ><a name="1859"
  > </a
  ><a name="1860" class="Symbol"
  >&#8594;</a
  ><a name="1861"
  > </a
  ><a name="1862" href="Session.html#2158" class="InductiveConstructor"
  >`I</a
  ><a name="1864"
  > </a
  ><a name="1865" class="Symbol"
  >(</a
  ><a name="1866" href="Data.Sum.html#460" class="InductiveConstructor"
  >inl</a
  ><a name="1869"
  > </a
  ><a name="1870" href="Session.Examples.Stack.html#1601" class="Bound"
  >xs</a
  ><a name="1872" class="Symbol"
  >)</a
  ><a name="1873"
  >                        </a
  ><a name="1897" class="Symbol"
  >}})</a
  ><a name="1900"
  > </a
  ><a name="1901" class="Symbol"
  >(</a
  ><a name="1902" href="Session.Examples.Stack.html#1580" class="Bound"
  >is</a
  ><a name="1904"
  > </a
  ><a name="1905" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="1906"
  > </a
  ><a name="1907" href="Session.Examples.Stack.html#1583" class="Bound"
  >y</a
  ><a name="1908" class="Symbol"
  >)</a
  ><a name="1909"
  ></pre>
<p>The type looks complicated but the process is straightforward.</p>
<pre></a
  ><a name="1999" class="Keyword"
  >open</a
  ><a name="2003"
  > </a
  ><a name="2004" href="Session.html#18557" class="Module"
  >IO</a
  ><a name="2006"
  >

</a
  ><a name="2008" href="Session.Examples.Stack.html#2008" class="Function"
  >stack</a
  ><a name="2013"
  > </a
  ><a name="2014" class="Symbol"
  >:</a
  ><a name="2015"
  > </a
  ><a name="2016" class="Symbol"
  >&#8704;</a
  ><a name="2017"
  > </a
  ><a name="2018" class="Symbol"
  >{</a
  ><a name="2019" href="Session.Examples.Stack.html#2019" class="Bound"
  >X</a
  ><a name="2020"
  > </a
  ><a name="2021" href="Session.Examples.Stack.html#2021" class="Bound"
  >Y</a
  ><a name="2022" class="Symbol"
  >}(</a
  ><a name="2024" href="Session.Examples.Stack.html#2024" class="Bound"
  >xs</a
  ><a name="2026"
  > </a
  ><a name="2027" class="Symbol"
  >:</a
  ><a name="2028"
  > </a
  ><a name="2029" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="2033"
  > </a
  ><a name="2034" href="Session.Examples.Stack.html#2019" class="Bound"
  >X</a
  ><a name="2035" class="Symbol"
  >)(</a
  ><a name="2037" href="Session.Examples.Stack.html#2037" class="Bound"
  >y</a
  ><a name="2038"
  > </a
  ><a name="2039" class="Symbol"
  >:</a
  ><a name="2040"
  > </a
  ><a name="2041" href="Session.Examples.Stack.html#2021" class="Bound"
  >Y</a
  ><a name="2042" class="Symbol"
  >)</a
  ><a name="2043"
  > </a
  ><a name="2044" href="Session.Examples.Stack.html#2044" class="Bound"
  >ny</a
  ><a name="2046"
  > </a
  ><a name="2047" class="Symbol"
  >&#8594;</a
  ><a name="2048"
  > </a
  ><a name="2049" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="2051"
  > </a
  ><a name="2052" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="2053"
  > </a
  ><a name="2054" href="Session.html#7002" class="InductiveConstructor Operator"
  >&#187;&#187;</a
  ><a name="2056"
  > </a
  ><a name="2057" href="Session.Examples.Stack.html#1488" class="Function"
  >Stack</a
  ><a name="2062"
  > </a
  ><a name="2063" href="Session.Examples.Stack.html#2024" class="Bound"
  >xs</a
  ><a name="2065"
  > </a
  ><a name="2066" href="Session.Examples.Stack.html#2037" class="Bound"
  >y</a
  ><a name="2067"
  > </a
  ><a name="2068" href="Session.Examples.Stack.html#2044" class="Bound"
  >ny</a
  ><a name="2070"
  >
                                         </a
  ><a name="2112" href="Session.html#18617" class="Function Operator"
  >[IO</a
  ><a name="2115"
  > </a
  ><a name="2116" class="Symbol"
  >(</a
  ><a name="2117" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="2121"
  > </a
  ><a name="2122" href="Session.Examples.Stack.html#2019" class="Bound"
  >X</a
  ><a name="2123" class="Symbol"
  >)</a
  ><a name="2124"
  > </a
  ><a name="2125" href="Session.html#18617" class="Function Operator"
  >]&gt;</a
  ><a name="2127"
  >
                                         </a
  ><a name="2169" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="2171"
  >
</a
  ><a name="2172" href="Session.Examples.Stack.html#2008" class="Function"
  >stack</a
  ><a name="2177"
  > </a
  ><a name="2178" href="Session.Examples.Stack.html#2178" class="Bound"
  >xs</a
  ><a name="2180"
  > </a
  ><a name="2181" href="Session.Examples.Stack.html#2181" class="Bound"
  >y</a
  ><a name="2182"
  > </a
  ><a name="2183" href="Session.Examples.Stack.html#2183" class="Bound"
  >ny</a
  ><a name="2185"
  > </a
  ><a name="2186" class="Symbol"
  >=</a
  ><a name="2187"
  >
  </a
  ><a name="2190" href="Session.html#16380" class="InductiveConstructor"
  >corec</a
  ><a name="2195"
  > </a
  ><a name="2196" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="2198"
  > </a
  ><a name="2199" class="Symbol"
  >(</a
  ><a name="2200" href="Session.Examples.Stack.html#2178" class="Bound"
  >xs</a
  ><a name="2202"
  > </a
  ><a name="2203" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="2204"
  > </a
  ><a name="2205" href="Session.Examples.Stack.html#2181" class="Bound"
  >y</a
  ><a name="2206" class="Symbol"
  >)</a
  ><a name="2207"
  > </a
  ><a name="2208" class="Symbol"
  >&#955;</a
  ><a name="2209"
  > </a
  ><a name="2210" href="Session.Examples.Stack.html#2210" class="Bound"
  >_</a
  ><a name="2211"
  > </a
  ><a name="2212" class="Symbol"
  >&#8594;</a
  ><a name="2213"
  > </a
  ><a name="2214" class="Symbol"
  >_</a
  ><a name="2215"
  > </a
  ><a name="2216" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="2217"
  > </a
  ><a name="2218" href="Session.html#17397" class="Function"
  >get</a
  ><a name="2221"
  > </a
  ><a name="2222" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="2224"
  > </a
  ><a name="2225" class="Symbol"
  >&#955;</a
  ><a name="2226"
  > </a
  ><a name="2227" class="Symbol"
  >{</a
  ><a name="2228"
  > </a
  ><a name="2229" href="Session.Examples.Stack.html#1468" class="InductiveConstructor"
  >push</a
  ><a name="2233"
  > </a
  ><a name="2234" class="Symbol"
  >&#8594;</a
  ><a name="2235"
  > </a
  ><a name="2236" href="Session.html#17397" class="Function"
  >get</a
  ><a name="2239"
  > </a
  ><a name="2240" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="2242"
  > </a
  ><a name="2243" class="Symbol"
  >&#955;</a
  ><a name="2244"
  > </a
  ><a name="2245" href="Session.Examples.Stack.html#2245" class="Bound"
  >_</a
  ><a name="2246"
  > </a
  ><a name="2247" class="Symbol"
  >&#8594;</a
  ><a name="2248"
  > </a
  ><a name="2249" href="Session.html#16198" class="InductiveConstructor"
  >end</a
  ><a name="2252"
  > </a
  ><a name="2253" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="2255"
  >
                                       </a
  ><a name="2295" class="Symbol"
  >;</a
  ><a name="2296"
  > </a
  ><a name="2297" href="Session.Examples.Stack.html#1473" class="InductiveConstructor"
  >pop</a
  ><a name="2300"
  >  </a
  ><a name="2302" class="Symbol"
  >&#8594;</a
  ><a name="2303"
  > </a
  ><a name="2304" href="Session.html#16198" class="InductiveConstructor"
  >end</a
  ><a name="2307"
  > </a
  ><a name="2308" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="2310"
  >
                                       </a
  ><a name="2350" class="Symbol"
  >;</a
  ><a name="2351"
  > </a
  ><a name="2352" href="Session.Examples.Stack.html#1477" class="InductiveConstructor"
  >stop</a
  ><a name="2356"
  > </a
  ><a name="2357" class="Symbol"
  >&#8594;</a
  ><a name="2358"
  > </a
  ><a name="2359" href="Session.html#16198" class="InductiveConstructor"
  >end</a
  ><a name="2362"
  > </a
  ><a name="2363" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="2365"
  >              </a
  ><a name="2379" class="Symbol"
  >}</a
  ><a name="2380"
  ></pre>
<p>Let's see a concrete example.</p>
<pre></a
  ><a name="2437" class="Keyword"
  >open</a
  ><a name="2441"
  > </a
  ><a name="2442" class="Keyword"
  >import</a
  ><a name="2448"
  > </a
  ><a name="2449" href="Control.Concurrent.html#1" class="Module"
  >Control.Concurrent</a
  ><a name="2467"
  > </a
  ><a name="2468" class="Symbol"
  >as</a
  ><a name="2470"
  > </a
  ><a name="2471" class="Module"
  >C</a
  ><a name="2472"
  >
</a
  ><a name="2473" class="Keyword"
  >open</a
  ><a name="2477"
  > </a
  ><a name="2478" class="Keyword"
  >import</a
  ><a name="2484"
  > </a
  ><a name="2485" href="Data.Nat.html#1" class="Module"
  >Data.Nat</a
  ><a name="2493"
  >
</a
  ><a name="2494" class="Keyword"
  >open</a
  ><a name="2498"
  > </a
  ><a name="2499" class="Keyword"
  >import</a
  ><a name="2505"
  > </a
  ><a name="2506" href="Data.Bool.html#1" class="Module"
  >Data.Bool</a
  ><a name="2515"
  > </a
  ><a name="2516" class="Keyword"
  >using</a
  ><a name="2521"
  > </a
  ><a name="2522" class="Symbol"
  >(</a
  ><a name="2523"
  >Bool </a
  ><a name="2528" class="Symbol"
  >;</a
  ><a name="2529"
  > true </a
  ><a name="2535" class="Symbol"
  >;</a
  ><a name="2536"
  > false </a
  ><a name="2543" class="Symbol"
  >;</a
  ><a name="2544"
  > not</a
  ><a name="2548" class="Symbol"
  >)</a
  ><a name="2549"
  >
</a
  ><a name="2550" class="Keyword"
  >open</a
  ><a name="2554"
  > </a
  ><a name="2555" class="Keyword"
  >import</a
  ><a name="2561"
  > </a
  ><a name="2562" href="Relation.Nullary.html#1" class="Module"
  >Relation.Nullary</a
  ><a name="2578"
  >

</a
  ><a name="2580" href="Session.Examples.Stack.html#2580" class="Function"
  >even</a
  ><a name="2584"
  > </a
  ><a name="2585" class="Symbol"
  >:</a
  ><a name="2586"
  > </a
  ><a name="2587" href="Data.Nat.html#663" class="Datatype"
  >&#8469;</a
  ><a name="2588"
  > </a
  ><a name="2589" class="Symbol"
  >&#8594;</a
  ><a name="2590"
  > </a
  ><a name="2591" href="Data.Bool.html#603" class="Datatype"
  >Bool</a
  ><a name="2595"
  >
</a
  ><a name="2596" href="Session.Examples.Stack.html#2596" class="Function"
  >odd</a
  ><a name="2599"
  >  </a
  ><a name="2601" class="Symbol"
  >:</a
  ><a name="2602"
  > </a
  ><a name="2603" href="Data.Nat.html#663" class="Datatype"
  >&#8469;</a
  ><a name="2604"
  > </a
  ><a name="2605" class="Symbol"
  >&#8594;</a
  ><a name="2606"
  > </a
  ><a name="2607" href="Data.Bool.html#603" class="Datatype"
  >Bool</a
  ><a name="2611"
  >
</a
  ><a name="2612" href="Session.Examples.Stack.html#2580" class="Function"
  >even</a
  ><a name="2616"
  > </a
  ><a name="2617" href="Data.Nat.html#679" class="InductiveConstructor"
  >zero</a
  ><a name="2621"
  >    </a
  ><a name="2625" class="Symbol"
  >=</a
  ><a name="2626"
  > </a
  ><a name="2627" href="Data.Bool.html#622" class="InductiveConstructor"
  >true</a
  ><a name="2631"
  >
</a
  ><a name="2632" href="Session.Examples.Stack.html#2580" class="Function"
  >even</a
  ><a name="2636"
  > </a
  ><a name="2637" class="Symbol"
  >(</a
  ><a name="2638" href="Data.Nat.html#690" class="InductiveConstructor"
  >suc</a
  ><a name="2641"
  > </a
  ><a name="2642" href="Session.Examples.Stack.html#2642" class="Bound"
  >n</a
  ><a name="2643" class="Symbol"
  >)</a
  ><a name="2644"
  > </a
  ><a name="2645" class="Symbol"
  >=</a
  ><a name="2646"
  > </a
  ><a name="2647" href="Session.Examples.Stack.html#2596" class="Function"
  >odd</a
  ><a name="2650"
  > </a
  ><a name="2651" href="Session.Examples.Stack.html#2642" class="Bound"
  >n</a
  ><a name="2652"
  >
</a
  ><a name="2653" href="Session.Examples.Stack.html#2596" class="Function"
  >odd</a
  ><a name="2656"
  >  </a
  ><a name="2658" href="Data.Nat.html#679" class="InductiveConstructor"
  >zero</a
  ><a name="2662"
  >    </a
  ><a name="2666" class="Symbol"
  >=</a
  ><a name="2667"
  > </a
  ><a name="2668" href="Data.Bool.html#637" class="InductiveConstructor"
  >false</a
  ><a name="2673"
  >
</a
  ><a name="2674" href="Session.Examples.Stack.html#2596" class="Function"
  >odd</a
  ><a name="2677"
  >  </a
  ><a name="2679" class="Symbol"
  >(</a
  ><a name="2680" href="Data.Nat.html#690" class="InductiveConstructor"
  >suc</a
  ><a name="2683"
  > </a
  ><a name="2684" href="Session.Examples.Stack.html#2684" class="Bound"
  >n</a
  ><a name="2685" class="Symbol"
  >)</a
  ><a name="2686"
  > </a
  ><a name="2687" class="Symbol"
  >=</a
  ><a name="2688"
  > </a
  ><a name="2689" href="Session.Examples.Stack.html#2580" class="Function"
  >even</a
  ><a name="2693"
  > </a
  ><a name="2694" href="Session.Examples.Stack.html#2684" class="Bound"
  >n</a
  ><a name="2695"
  ></pre>
<p>A user of a stack of booleans which simply pushes <code>n</code> alternating booleans, after which it <em>stops</em> interacting.</p>
<pre></a
  ><a name="2834" href="Session.Examples.Stack.html#2834" class="Function"
  >stack-user</a
  ><a name="2844"
  > </a
  ><a name="2845" class="Symbol"
  >:</a
  ><a name="2846"
  > </a
  ><a name="2847" class="Symbol"
  >(</a
  ><a name="2848" href="Session.Examples.Stack.html#2848" class="Bound"
  >xs</a
  ><a name="2850"
  > </a
  ><a name="2851" class="Symbol"
  >:</a
  ><a name="2852"
  > </a
  ><a name="2853" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="2857"
  > </a
  ><a name="2858" href="Data.Bool.html#603" class="Datatype"
  >Bool</a
  ><a name="2862" class="Symbol"
  >)(</a
  ><a name="2864" href="Session.Examples.Stack.html#2864" class="Bound"
  >n</a
  ><a name="2865"
  > </a
  ><a name="2866" class="Symbol"
  >:</a
  ><a name="2867"
  > </a
  ><a name="2868" href="Data.Nat.html#663" class="Datatype"
  >&#8469;</a
  ><a name="2869" class="Symbol"
  >)</a
  ><a name="2870"
  > </a
  ><a name="2871" class="Symbol"
  >&#8594;</a
  ><a name="2872"
  > </a
  ><a name="2873" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="2875"
  > </a
  ><a name="2876" href="Session.Base.html#424" class="InductiveConstructor Operator"
  >&#8759;</a
  ><a name="2877"
  > </a
  ><a name="2878" href="Session.Examples.Stack.html#1488" class="Function"
  >Stack</a
  ><a name="2883"
  > </a
  ><a name="2884" href="Session.Examples.Stack.html#2848" class="Bound"
  >xs</a
  ><a name="2886"
  > </a
  ><a name="2887" href="Session.Examples.Stack.html#2864" class="Bound"
  >n</a
  ><a name="2888"
  > </a
  ><a name="2889" class="Symbol"
  >(&#955;</a
  ><a name="2891"
  > </a
  ><a name="2892" href="Session.Examples.Stack.html#2892" class="Bound"
  >_</a
  ><a name="2893"
  > </a
  ><a name="2894" href="Session.Examples.Stack.html#2894" class="Bound"
  >_</a
  ><a name="2895"
  > </a
  ><a name="2896" class="Symbol"
  >&#8594;</a
  ><a name="2897"
  > </a
  ><a name="2898" href="Data.Nat.html#2073" class="Function"
  >pred</a
  ><a name="2902" class="Symbol"
  >)</a
  ><a name="2903"
  > </a
  ><a name="2904" href="Session.html#7029" class="InductiveConstructor Operator"
  >&#171;&#171;</a
  ><a name="2906"
  >
                                       </a
  ><a name="2946" href="Session.html#18617" class="Function Operator"
  >[IO</a
  ><a name="2949"
  > </a
  ><a name="2950" href="Data.List.html#659" class="Datatype"
  >List</a
  ><a name="2954"
  > </a
  ><a name="2955" href="Data.Bool.html#603" class="Datatype"
  >Bool</a
  ><a name="2959"
  > </a
  ><a name="2960" href="Session.html#18617" class="Function Operator"
  >]&gt;</a
  ><a name="2962"
  >
                                       </a
  ><a name="3002" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="3004"
  >
</a
  ><a name="3005" href="Session.Examples.Stack.html#2834" class="Function"
  >stack-user</a
  ><a name="3015"
  > </a
  ><a name="3016" href="Session.Examples.Stack.html#3016" class="Bound"
  >xs</a
  ><a name="3018"
  > </a
  ><a name="3019" href="Session.Examples.Stack.html#3019" class="Bound"
  >n</a
  ><a name="3020"
  > </a
  ><a name="3021" class="Symbol"
  >=</a
  ><a name="3022"
  >
  </a
  ><a name="3025" href="Session.html#16380" class="InductiveConstructor"
  >corec</a
  ><a name="3030"
  > </a
  ><a name="3031" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="3033"
  > </a
  ><a name="3034" class="Symbol"
  >(</a
  ><a name="3035" href="Session.Examples.Stack.html#3016" class="Bound"
  >xs</a
  ><a name="3037"
  > </a
  ><a name="3038" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="3039"
  > </a
  ><a name="3040" href="Session.Examples.Stack.html#3019" class="Bound"
  >n</a
  ><a name="3041" class="Symbol"
  >)</a
  ><a name="3042"
  >
    </a
  ><a name="3047" class="Symbol"
  >&#955;</a
  ><a name="3048"
  > </a
  ><a name="3049" class="Symbol"
  >{</a
  ><a name="3050"
  > </a
  ><a name="3051" class="Symbol"
  >(</a
  ><a name="3052" href="Session.Examples.Stack.html#3052" class="Bound"
  >ys</a
  ><a name="3054"
  > </a
  ><a name="3055" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="3056"
  > </a
  ><a name="3057" href="Session.Examples.Stack.html#3057" class="Bound"
  >m</a
  ><a name="3058" class="Symbol"
  >)</a
  ><a name="3059"
  > </a
  ><a name="3060" class="Symbol"
  >&#8594;</a
  ><a name="3061"
  > </a
  ><a name="3062" class="Symbol"
  >_</a
  ><a name="3063"
  > </a
  ><a name="3064" href="Data.Product.html#509" class="InductiveConstructor Operator"
  >,</a
  ><a name="3065"
  > </a
  ><a name="3066" class="Symbol"
  >(</a
  ><a name="3067" href="Function.html#2761" class="Function Operator"
  >case</a
  ><a name="3071"
  > </a
  ><a name="3072" href="Session.Examples.Stack.html#3057" class="Bound"
  >m</a
  ><a name="3073"
  > </a
  ><a name="3074" href="Data.Nat.html#3049" class="Function Operator"
  >&#8799;</a
  ><a name="3075"
  > </a
  ><a name="3076" class="Number"
  >0</a
  ><a name="3077"
  > </a
  ><a name="3078" href="Function.html#2761" class="Function Operator"
  >of</a
  ><a name="3080"
  > </a
  ><a name="3081" class="Symbol"
  >&#955;</a
  ><a name="3082"
  > </a
  ><a name="3083" class="Symbol"
  >{</a
  ><a name="3084"
  >
                          </a
  ><a name="3111" class="Symbol"
  >(</a
  ><a name="3112" href="Relation.Nullary.Core.html#504" class="InductiveConstructor"
  >yes</a
  ><a name="3115"
  > </a
  ><a name="3116" class="Symbol"
  >_)</a
  ><a name="3118"
  > </a
  ><a name="3119" class="Symbol"
  >&#8594;</a
  ><a name="3120"
  > </a
  ><a name="3121" href="Session.html#17203" class="Function"
  >put</a
  ><a name="3124"
  > </a
  ><a name="3125" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="3127"
  > </a
  ><a name="3128" href="Session.Examples.Stack.html#1477" class="InductiveConstructor"
  >stop</a
  ><a name="3132"
  >                   </a
  ><a name="3151" href="Session.html#16926" class="Function Operator"
  >&#187;</a
  ><a name="3152"
  > </a
  ><a name="3153" href="Session.html#16198" class="InductiveConstructor"
  >end</a
  ><a name="3156"
  > </a
  ><a name="3157" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="3159"
  >
                        </a
  ><a name="3184" class="Symbol"
  >;</a
  ><a name="3185"
  > </a
  ><a name="3186" class="Symbol"
  >(</a
  ><a name="3187" href="Relation.Nullary.Core.html#531" class="InductiveConstructor"
  >no</a
  ><a name="3189"
  >  </a
  ><a name="3191" class="Symbol"
  >_)</a
  ><a name="3193"
  > </a
  ><a name="3194" class="Symbol"
  >&#8594;</a
  ><a name="3195"
  > </a
  ><a name="3196" href="Session.html#17203" class="Function"
  >put</a
  ><a name="3199"
  > </a
  ><a name="3200" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="3202"
  > </a
  ><a name="3203" href="Session.Examples.Stack.html#1468" class="InductiveConstructor"
  >push</a
  ><a name="3207"
  > </a
  ><a name="3208" href="Session.html#16926" class="Function Operator"
  >&#187;</a
  ><a name="3209"
  > </a
  ><a name="3210" href="Session.html#17203" class="Function"
  >put</a
  ><a name="3213"
  > </a
  ><a name="3214" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="3216"
  > </a
  ><a name="3217" class="Symbol"
  >(</a
  ><a name="3218" href="Session.Examples.Stack.html#2580" class="Function"
  >even</a
  ><a name="3222"
  > </a
  ><a name="3223" href="Session.Examples.Stack.html#3057" class="Bound"
  >m</a
  ><a name="3224" class="Symbol"
  >)</a
  ><a name="3225"
  > </a
  ><a name="3226" href="Session.html#16926" class="Function Operator"
  >&#187;</a
  ><a name="3227"
  > </a
  ><a name="3228" href="Session.html#16198" class="InductiveConstructor"
  >end</a
  ><a name="3231"
  > </a
  ><a name="3232" href="Session.Base.html#2899" class="InductiveConstructor"
  >Z|</a
  ><a name="3234"
  > </a
  ><a name="3235" class="Symbol"
  >})</a
  ><a name="3237"
  > </a
  ><a name="3238" class="Symbol"
  >}</a
  ><a name="3239"
  ></pre>

<pre></a
  ><a name="3265" href="Session.Examples.Stack.html#3265" class="Function"
  >main</a
  ><a name="3269"
  > </a
  ><a name="3270" class="Symbol"
  >:</a
  ><a name="3271"
  > </a
  ><a name="3272" href="IO.Primitive.html#448" class="Function"
  >IO.IO</a
  ><a name="3277"
  > </a
  ><a name="3278" href="Unit.html#194" class="Function"
  >C.&lt;&gt;</a
  ><a name="3282"
  >
</a
  ><a name="3283" href="Session.Examples.Stack.html#3265" class="Function"
  >main</a
  ><a name="3287"
  > </a
  ><a name="3288" class="Symbol"
  >=</a
  ><a name="3289"
  > </a
  ><a name="3290" href="Session.html#20325" class="Function"
  >run</a
  ><a name="3293"
  > </a
  ><a name="3294" href="Session.Examples.Stack.html#3365" class="Function"
  >test</a
  ><a name="3298"
  > </a
  ><a name="3299" href="Data.List.All.html#779" class="InductiveConstructor"
  >[]</a
  ><a name="3301"
  > </a
  ><a name="3302" href="Session.html#19587" class="Function Operator"
  >&gt;&gt;</a
  ><a name="3304"
  > </a
  ><a name="3305" href="Control.Concurrent.html#342" class="Postulate"
  >C.threadDelay</a
  ><a name="3318"
  > </a
  ><a name="3319" href="Control.Concurrent.html#322" class="Postulate"
  >C.onesec</a
  ><a name="3327"
  > </a
  ><a name="3328" class="Keyword"
  >where</a
  ><a name="3333"
  >
  </a
  ><a name="3336" class="Keyword"
  >open</a
  ><a name="3340"
  > </a
  ><a name="3341" class="Keyword"
  >import</a
  ><a name="3347"
  > </a
  ><a name="3348" href="Data.Bool.Show.html#1" class="Module"
  >Data.Bool.Show</a
  ><a name="3362"
  >
  </a
  ><a name="3365" href="Session.Examples.Stack.html#3365" class="Function"
  >test</a
  ><a name="3369"
  > </a
  ><a name="3370" class="Symbol"
  >=</a
  ><a name="3371"
  > </a
  ><a name="3372" href="Session.html#15458" class="InductiveConstructor"
  >new</a
  ><a name="3375"
  >
       </a
  ><a name="3383" href="Session.html#16926" class="Function Operator"
  >&#187;</a
  ><a name="3384"
  > </a
  ><a name="3385" href="Session.html#15384" class="InductiveConstructor"
  >fork</a
  ><a name="3389"
  > </a
  ><a name="3390" class="Symbol"
  >(</a
  ><a name="3391" href="Data.List.All.html#779" class="InductiveConstructor"
  >[]</a
  ><a name="3393"
  > </a
  ><a name="3394" href="Session.Base.html#2118" class="InductiveConstructor Operator"
  >,&#775;</a
  ><a name="3396"
  > </a
  ><a name="3397" href="Session.html#4888" class="InductiveConstructor"
  >+-</a
  ><a name="3399" class="Symbol"
  >)</a
  ><a name="3400"
  > </a
  ><a name="3401" class="Symbol"
  >(</a
  ><a name="3402" href="Session.Examples.Stack.html#2834" class="Function"
  >stack-user</a
  ><a name="3412"
  > </a
  ><a name="3413" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="3415"
  > </a
  ><a name="3416" class="Number"
  >42</a
  ><a name="3418"
  > </a
  ><a name="3419" href="Session.html#16926" class="Function Operator"
  >&#187;</a
  ><a name="3420"
  > </a
  ><a name="3421" href="Session.html#14662" class="InductiveConstructor Operator"
  >&#8657;</a
  ><a name="3422"
  > </a
  ><a name="3423" href="IO.Primitive.html#588" class="Function"
  >return</a
  ><a name="3429"
  > </a
  ><a name="3430" class="InductiveConstructor"
  >tt</a
  ><a name="3432" class="Symbol"
  >)</a
  ><a name="3433"
  >
       </a
  ><a name="3441" href="Session.html#16926" class="Function Operator"
  >&#187;</a
  ><a name="3442"
  > </a
  ><a name="3443" href="Session.Examples.Stack.html#3443" class="Bound"
  >xs</a
  ><a name="3445"
  > </a
  ><a name="3446" href="Session.html#16737" class="Function"
  >&lt;-</a
  ><a name="3448"
  > </a
  ><a name="3449" href="Session.Examples.Stack.html#2008" class="Function"
  >stack</a
  ><a name="3454"
  > </a
  ><a name="3455" href="Data.List.html#696" class="InductiveConstructor"
  >[]</a
  ><a name="3457"
  > </a
  ><a name="3458" class="Symbol"
  >_</a
  ><a name="3459"
  > </a
  ><a name="3460" class="Symbol"
  >_</a
  ><a name="3461"
  >
       </a
  ><a name="3469" href="Session.html#16737" class="Function"
  >&#8943;</a
  ><a name="3470"
  > </a
  ><a name="3471" href="Data.List.html#2256" class="Function"
  >L.foldl</a
  ><a name="3478"
  > </a
  ><a name="3479" class="Symbol"
  >(&#955;</a
  ><a name="3481"
  > </a
  ><a name="3482" href="Session.Examples.Stack.html#3482" class="Bound"
  >m</a
  ><a name="3483"
  > </a
  ><a name="3484" href="Session.Examples.Stack.html#3484" class="Bound"
  >b</a
  ><a name="3485"
  > </a
  ><a name="3486" class="Symbol"
  >&#8594;</a
  ><a name="3487"
  > </a
  ><a name="3488" href="Session.html#14662" class="InductiveConstructor Operator"
  >&#8657;</a
  ><a name="3489"
  > </a
  ><a name="3490" href="IO.Primitive.html#1501" class="Function"
  >putStrLn</a
  ><a name="3498"
  > </a
  ><a name="3499" href="Session.Base.html#4681" class="Function Operator"
  >&#171;</a
  ><a name="3500"
  > </a
  ><a name="3501" href="Data.Bool.Show.html#276" class="Function"
  >show</a
  ><a name="3505"
  > </a
  ><a name="3506" href="Session.Examples.Stack.html#3484" class="Bound"
  >b</a
  ><a name="3507"
  > </a
  ><a name="3508" href="Session.Base.html#4681" class="Function Operator"
  >&#187;</a
  ><a name="3509"
  > </a
  ><a name="3510" href="Session.html#16926" class="Function Operator"
  >&#187;</a
  ><a name="3511"
  > </a
  ><a name="3512" href="Session.Examples.Stack.html#3482" class="Bound"
  >m</a
  ><a name="3513" class="Symbol"
  >)</a
  ><a name="3514"
  >
                 </a
  ><a name="3532" class="Symbol"
  >(</a
  ><a name="3533" href="Session.html#14662" class="InductiveConstructor Operator"
  >&#8657;</a
  ><a name="3534"
  > </a
  ><a name="3535" href="IO.Primitive.html#588" class="Function"
  >return</a
  ><a name="3541"
  > </a
  ><a name="3542" href="Data.Bool.html#622" class="InductiveConstructor"
  >true</a
  ><a name="3546" class="Symbol"
  >)</a
  ><a name="3547"
  >
                 </a
  ><a name="3565" href="Session.Examples.Stack.html#3443" class="Bound"
  >xs</a
  ><a name="3567"
  ></pre></body></html>